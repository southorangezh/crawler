(self["webpackChunkmember_center_fe"]=self["webpackChunkmember_center_fe"]||[]).push([[30],{6003:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ce}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user-cancel"},["CANCEL_INFO"===e.activeName?n("user-cancel-info",{attrs:{inited:e.inited},on:{next:e.handleNext}}):e._e(),n("keep-alive",["CANCEL_CHOOSE_REASON"===e.activeName?n("user-cancel-choose-reason",{attrs:{inited:e.inited},on:{next:e.handleNext}}):e._e()],1),"CANCEL_VERIFY"===e.activeName?n("user-cancel-verify",{attrs:{type:e.queryVerifyType,reason:e.queryReason,phone:e.maskRegisterPhone,email:e.maskEmail,errorCode:e.errorCode,errorMsg:e.errorMsg,inited:e.inited},on:{next:e.handleNext,errorCodeHandle:e.errorCodeHandle,resetErrorCode:e.resetErrorCode}}):e._e()],1)},a=[],o=n(51601),r=n(23219),c=n(13667),s=n(52072),l=n.n(s),u=n(74949),d=n(37151),h=n(88333),p=n(54686),f=n(31272),m=n(92066),v=n(50433),_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("card-container",{staticClass:"user-cancel-info",attrs:{mainTitle:e.$t("v2_weapp_write_off"),descriptons:e.$t("v2_weapp_write_off_text"),confirmText:e.$t("v2_weapp_write_off_button_text"),showSkeleton:!e.inited,btnAcLabel:e.USAGE_TAG_VALUE.ACCOUNT_DELETE_APPLY},on:{confirm:e.handleIsSubmit}},[n("ol",e._l(e.writeOffListsText,function(t){return n("li",{key:t},[e._v(e._s(t))])}),0),n("div",{staticClass:"row tips mt-6"},[n("ac-checkbox",{on:{change:e.handleAgreeCheckboxChange},model:{value:e.checkAgree,callback:function(t){e.checkAgree=t},expression:"checkAgree"}},[n("ac-agree-user-cancel")],1),e.showError&&!e.checkAgree?n("ac-error-msg",{attrs:{errorMsg:e.$t("v2_tips_check_agree")}}):e._e()],1),n("p",{staticClass:"mt-4 text-12 text-black-tertiary"},[e._v(e._s(e.$t("v2_weapp_write_off_tertiary_text")))]),n("ac-dialog",{staticClass:"write-off-dialog-container",attrs:{visible:e.showDialog,dialogTitle:e.$t("v2_weapp_write_off_dialog_title"),center:e.$t("v2_weapp_write_off_dialog_center"),confirmText:e.$t("v2_weapp_write_off_dialog_cancel"),cancelText:e.$t("v2_weapp_write_off_dialog_confirm"),confirmBtnUsage:e.USAGE_TAG_VALUE.ACCOUNT_DELETE_CANCEL,cancelBtnUsage:e.USAGE_TAG_VALUE.ACCOUNT_DELETE_CONTINUE},on:{"update:visible":function(t){e.showDialog=t},clickTopBtn:e.onClickCancel,clickBottomBtn:e.handleNextConfirm}},[n("ol",{staticClass:"ac-cancel-continue"},e._l(e.cancelContinueListsText,function(t){return n("li",{key:t},[e._v(e._s(t))])}),0)])],1)},g=[],y=n(32368),b=n(54915),w=n(47946),C=n(27485),A=n(40759),k=n(3372),T={name:"user-cancel-info",mixins:[],props:{inited:Boolean},data:function(){return{checkAgree:!1,showError:!1,showDialog:!1,USAGE_TAG_VALUE:A.tU}},computed:{writeOffListsText:function(){return[this.$tt("v2_weapp_write_off_list_0"),this.$tt("v2_weapp_write_off_list_1"),this.$tt("v2_weapp_write_off_list_2"),this.$tt("v2_weapp_write_off_list_3"),this.$tt("v2_weapp_write_off_list_4"),this.$tt("v2_weapp_write_off_list_5")].filter(function(e){return!!e})},cancelContinueListsText:function(){return[this.$tt("v2_weapp_write_off_dialog_list_1"),this.$tt("v2_weapp_write_off_dialog_list_2"),this.$tt("v2_weapp_write_off_dialog_list_3")]}},methods:{$tt:function(e){var t=this.$t(e);return t===e?"":t},handleIsSubmit:function(){this.checkAgree?(this.showError=!1,this.showDialog=!0):this.showError=!0},handleNextConfirm:function(){var e=this;this.showDialog=!1,this.$nextTick(function(){e.$emit("next","choose-reason")})},onClickCancel:function(){this.showDialog=!1},handleAgreeCheckboxChange:function(e){var t;null!==e&&void 0!==e&&null!==(t=e.target)&&void 0!==t&&t.checked&&(0,k.HF)(A.tU.ACCOUNT_DELETE_AGREE,"")}},destroyed:function(){this.showDialog=!1},watch:{},components:{acDialog:C.A,CardContainer:y.A,acCheckbox:b.A,acAgreeUserCancel:w.A},beforeRouteEnter:function(e,t,n){n(function(e){document.title="".concat(e.$t("v2_common_system_title")," | ").concat(e.$t("v2_title_weapp_write_off"))})}},E=T,O=n(7358),S=(0,O.A)(E,_,g,!1,null,null,null),N=S.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("card-container",{staticClass:"user-cancel-choose-reason",attrs:{mainTitle:e.$t("v2_weapp_write_off_choose_reason_title"),confirmText:e.$t("v2_weapp_write_off_next"),showSkeleton:!e.inited,isConfirmDisabled:e.isDisabled,btnAcLabel:e.USAGE_TAG_VALUE.ACCOUNT_DELETE_SUBMIT_REASON},on:{confirm:e.handleSubmit}},[e._l(e.radioData,function(t){return n("ac-radio",{key:t.label,staticClass:"choose-reason-selection",attrs:{label:t.label},model:{value:e.radioVal,callback:function(t){e.radioVal=t},expression:"radioVal"}},[n("span",{staticClass:"itemHtml"},[e._v(e._s(t.html))])])}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showOtherText,expression:"showOtherText"}],staticClass:"mt-2"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.otherText,expression:"otherText"}],staticClass:"ac-textarea",attrs:{type:"textarea",placeholder:e.$t("v2_weapp_write_off_reason_placeholder"),maxlength:"50"},domProps:{value:e.otherText},on:{input:function(t){t.target.composing||(e.otherText=t.target.value)}}})])],2)},P=[],I=n(33729),L="5",D={name:"user-cancel-confirm",mixins:[],props:{inited:Boolean},data:function(){return{otherText:"",radioVal:"",radioData:[{label:"0",html:this.$t("v2_weapp_write_off_reason_text_0")},{label:"1",html:this.$t("v2_weapp_write_off_reason_text_1")},{label:"2",html:this.$t("v2_weapp_write_off_reason_text_2")},{label:"3",html:this.$t("v2_weapp_write_off_reason_text_3")},{label:"4",html:this.$t("v2_weapp_write_off_reason_text_4")},{label:"5",html:this.$t("v2_weapp_write_off_reason_text_5")}],USAGE_TAG_VALUE:A.tU}},computed:{showOtherText:function(){return this.radioVal===L},isDisabled:function(){return""===this.radioVal||this.radioVal===L&&""===this.otherText.trim()}},methods:{handleSubmit:function(){var e=this.radioVal,t=e===L?this.otherText:"REASON".concat(e);this.$emit("next","verify",{reason:t})}},watch:{},components:{CardContainer:y.A,acRadio:I.A}},$=D,U=(0,O.A)($,x,P,!1,null,null,null),B=U.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("verify-account",{ref:"VerifyAccount",attrs:{type:e.type,mainTitle:e.$t("v2_weapp_unbind_phone_title"),serviceTips:e.serviceTipsText,showSkeleton:!e.inited,showServiceLinks:"",showFAQ:!1,isConfirming:e.isLoading,loading:e.isLoading,isSendLoading:e.isSendLoading,moduleName:e.moduleName,errorCode:e.errorCode,errorMsg:e.errorMsg,count:e.count,maskInfo:e.maskInfo,areaCode:e.areaCode,code:e.code,captchaResult:e.captchaResult,confirmType:"danger",confirmText:e.verifyButtonText,btnAcLabel:e.confirmBtnUsage,sendBtnAclabel:e.sendBtnUsage,isLogin:""},on:{"update:code":function(t){e.code=t},"update:captchaResult":function(t){e.captchaResult=t},"update:captcha-result":function(t){e.captchaResult=t},send:e.handleSend,confirm:e.handleConfirm,resetErrorCode:e.resetErrorCode}},[n("div",{staticClass:"mt-6 text-center",attrs:{slot:"bottom"},slot:"bottom"},[e.phone&&"email"===e.type?n("ac-link",{attrs:{type:"primary",acLabel:e.USAGE_TAG_VALUE.ACCOUNT_DELETE_CHANGE_VERIFY},on:{click:e.handleGoToPhoneBinding}},[e._v(" "+e._s(e.$t("v2_weapp_valid_to_phone"))+" ")]):e._e(),e.email&&"sms"===e.type?n("ac-link",{attrs:{type:"primary",acLabel:e.USAGE_TAG_VALUE.ACCOUNT_DELETE_CHANGE_VERIFY},on:{click:e.handleGoToEmailBinding}},[e._v(" "+e._s(e.$t("v2_weapp_valid_to_email"))+" ")]):e._e()],1)])},V=[],j=n(56129),M=n(26066),H=n(95441),F=n(78012),G=n(43435),W=n(24450),q=n(51501),Y=n(72409),z=n(11579);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach(function(t){(0,c.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var K={name:"user-cancel-verify",props:{type:{type:String,default:"sms",enum:["sms","email"]},text:String,reason:String,phone:String,email:String,errorCode:[Number,String],errorMsg:String,inited:Boolean},data:function(){return{smsType:G.i.WECHAT_WRITEOFF_PHONE,emailType:W.O.WECHAT_WRITEOFF,isLoading:!1,isSendLoading:!1,count:0,interval:null,areaCode:86,code:0,captchaResult:null,userCancelSendBtnText:"",verifyButtonText:this.$t("v2_weapp_write_off_verify_submit"),USAGE_TAG_VALUE:A.tU}},computed:{maskInfo:function(){return"email"===this.type?this.email:this.phone},moduleName:function(){return"email"===this.type?F.Sn.WECHAT_WRITEOFF_EMAIL:F.Sn.WECHAT_WRITEOFF_PHONE},serviceTipsText:function(){return"email"===this.type?this.$t("v2_email_unable_valid"):this.$t("v2_phone_unable_valid")},confirmBtnUsage:function(){return"sms"===this.type?A.tU.ACCOUNT_DELETE_SUBMIT_SMS:"email"===this.type?A.tU.ACCOUNT_DELETE_SUBMIT_EMAIL:void 0},sendBtnUsage:function(){return"sms"===this.type?A.tU.ACCOUNT_DELETE_SEND_SMS:"email"===this.type?A.tU.ACCOUNT_DELETE_SEND_EMAIL:void 0}},methods:Q(Q(Q({},(0,u.PY)({updateNextData:d.A.common.mutation.updateNextData,setShowCaptcha:d.A.captcha.mutation.setShow})),(0,u.i0)({getParamWithTicket:d.A.captcha.action.getParamWithTicket})),{},{resetData:function(){var e;null===(e=this.$refs)||void 0===e||null===(e=e.VerifyAccount)||void 0===e||e.resetValue(),this.isLoading=!1,this.isSendLoading=!1,this.count=0,this.interval=null,this.areaCode=86,this.code="",this.captchaResult=null,this.verifyButtonText=this.$t("v2_weapp_write_off_verify_submit"),window.clearInterval(this.interval)},handleSend:function(e){var t=this;return(0,r.A)(l().mark(function n(){var i,a,o,r,c,s,u,d,p;return l().wrap(function(n){while(1)switch(n.prev=n.next){case 0:return i="sms"===t.type,n.prev=1,t.isSendLoading=!0,r=i?{areaCode:t.areaCode,smsType:t.smsType}:{emailType:t.emailType},t.resetErrorCode(),null===(a=t.$ga)||void 0===a||a.event("userCancel btn","Click","".concat((0,f.R7)()," send code to ").concat(i?"phone":"email")),n.next=2,t.getParamWithTicket({moduleName:t.moduleName,param:r,result:t.captchaResult});case 2:return c=n.sent,s=i?h["default"].common.sendLoginPhone(c):h["default"].webBinding.sendValidateEmail(c),(0,Y.XP)(Y.j9.STEP_1,{path:i?z.Lq.SMS_VALIDATION_SEND:z.Lq.EMAIL_VALIDATION_SEND,scene:i?z.Nd.ACCOUNT_CANCEL_SMS:z.Nd.ACCOUNT_CANCEL_EMAIL,operationalType:i?Y.xe.SEND_SMS:Y.xe.SEND_EMAIL}),n.next=3,s;case 3:u=n.sent,(0,Y.XP)(Y.j9.STEP_4,{path:i?z.Lq.SMS_VALIDATION_SEND:z.Lq.EMAIL_VALIDATION_SEND,scene:i?z.Nd.ACCOUNT_CANCEL_SMS:z.Nd.ACCOUNT_CANCEL_EMAIL,operationalType:i?Y.xe.SEND_SMS:Y.xe.SEND_EMAIL}),t.startTiming(),null===(o=t.$ga)||void 0===o||o.event("userCancel btn","Click","".concat((0,f.R7)()," send code to ").concat(i?"phone":"email"," success")),(0,k.HF)(t.sendBtnUsage,t.userCancelSendBtnText||t.$t("v2_btn_sendBtn")),null!==e&&void 0!==e&&e.success&&(null===e||void 0===e||e.success(u)),n.next=5;break;case 4:n.prev=4,p=n["catch"](1),null===(d=t.$ga)||void 0===d||d.event("userCancel btn","Click","".concat((0,f.R7)()," send code to ").concat(i?"phone":"email"," error ").concat(p.code)),t.errorCodeHandle(p),(0,k.HF)(t.sendBtnUsage,t.userCancelSendBtnText||t.$t("v2_btn_sendBtn"),(null===p||void 0===p?void 0:p.code)||q.Sc),null!==e&&void 0!==e&&e.error&&(null===e||void 0===e||e.error(p));case 5:return n.prev=5,t.isSendLoading=!1,null!==e&&void 0!==e&&e["finally"]&&(null===e||void 0===e||e["finally"]()),n.finish(5);case 6:case"end":return n.stop()}},n,null,[[1,4,5,6]])}))()},handleConfirm:function(e){var t=this;return(0,r.A)(l().mark(function n(){var i,a,o,r,c,s,u;return l().wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,t.isLoading=!0,o={reason:t.reason,codeType:t.type,code:t.code},t.verifyButtonText=t.$t("v2_weapp_write_off_verify_submit_ing"),t.resetErrorCode(),null===(i=t.$ga)||void 0===i||i.event("userCancel btn","Click","".concat((0,f.R7)()," check code and userCancel")),n.next=1,t.getParamWithTicket({moduleName:t.moduleName,param:o,result:t.captchaResult});case 1:return r=n.sent,(0,Y.XP)(Y.j9.STEP_6,{path:z.Lq.ACCOUNT_DELETION,scene:"sms"!==t.type?z.Nd.ACCOUNT_CANCEL_EMAIL:z.Nd.ACCOUNT_CANCEL_SMS,operationalType:"sms"!==t.type?Y.xe.SEND_EMAIL:Y.xe.SEND_SMS}),n.next=2,h["default"].account.deletion(r);case 2:c=n.sent,(0,Y.kL)(),null===(a=t.$ga)||void 0===a||a.event("userCancel btn","Click","".concat((0,f.R7)()," check code and userCancel success")),t.verifyButtonText=t.$t("v2_weapp_write_off_verify_submit_ok"),t.successNavigateHandle(),(0,k.HF)(t.confirmBtnUsage,t.verifyButtonText),null!==e&&void 0!==e&&e.success&&(null===e||void 0===e||e.success(c)),n.next=4;break;case 3:n.prev=3,u=n["catch"](0),null===(s=t.$ga)||void 0===s||s.event("userCancel btn","Click","".concat((0,f.R7)()," check code and userCancel error ").concat(u.code)),t.errorCodeHandle(u),t.verifyButtonText=t.$t("v2_weapp_write_off_verify_submit"),(0,k.HF)(t.confirmBtnUsage,t.verifyButtonText,(null===u||void 0===u?void 0:u.code)||q.Sc),null!==e&&void 0!==e&&e.error&&(null===e||void 0===e||e.error(u));case 4:return n.prev=4,t.isLoading=!1,null!==e&&void 0!==e&&e["finally"]&&(null===e||void 0===e||e["finally"]()),n.finish(4);case 5:case"end":return n.stop()}},n,null,[[0,3,4,5]])}))()},handleGoToPhoneBinding:function(){this.$emit("next","verify",{type:"VerifyPhone"})},handleGoToEmailBinding:function(){this.$emit("next","verify",{type:"VerifyEmail"})},successNavigateHandle:function(){var e={title:this.$t("v2_weapp_write_off_done_button_text"),subTitle:this.$t("v2_weapp_write_off_done_text"),btnName:this.$t("v2_weapp_write_off_done_button"),callbackUrl:(0,f.TP)()};this.updateNextData({nextData:e}),this.$router.push({path:"/account/success",query:this.$route.query})},startTiming:function(){var e=this;this.count=60,this.interval&&window.clearInterval(this.interval),this.interval=window.setInterval(function(){e.count--,e.count<=0&&(window.clearInterval(e.interval),e.interval=null)},1e3)},resetErrorCode:function(){this.$emit("resetErrorCode")},errorCodeHandle:function(e,t){var n;("resetCaptcha"===t||e.code&&[].concat((0,j.A)(q.DW),(0,j.A)(q.QI),(0,j.A)(q.f9)).includes(e.code))&&(this.setShowCaptcha({moduleName:this.moduleName,show:!0}),null===(n=this.$refs)||void 0===n||null===(n=n.VerifyAccount)||void 0===n||n.resetCaptcha());this.$emit("errorCodeHandle",e)},handleUserCancelSendBtnTextChange:function(e){this.userCancelSendBtnText=e}}),watch:{type:{handler:"resetData",immediate:!0}},components:{VerifyAccount:M.A,acLink:H.A}},X=K,Z=(0,O.A)(X,R,V,!1,null,null,null),ee=Z.exports,te=["type","reason"];function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach(function(t){(0,c.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ae={name:"user-cancel",mixins:[],data:function(){return{verifyType:"VerifyPhone",maskRegisterPhone:null,maskEmail:null,inited:!1,errorCode:null,errorMsg:null,isViewLocale:this.$t("v2_common_view_locale")===(0,p.Xo)()}},computed:ie(ie({},(0,u.L8)({initData:d.A.common.getter.initData})),{},{activeName:function(){var e=this.$route.query.type;return document.documentElement.scrollTop=0,"confirm"===e?"CANCEL_CONFIRM":"choose-reason"===e?"CANCEL_CHOOSE_REASON":"verify"===e?"CANCEL_VERIFY":"done"===e?"CANCEL_DONE":"CANCEL_INFO"},queryVerifyType:function(){var e=this.$route.query.verifyType||this.verifyType;return"VerifyEmail"===e?"email":"sms"},queryReason:function(){return this.$route.query.reason||""}}),methods:ie(ie(ie({},(0,u.PY)({updateNextData:d.A.common.mutation.updateNextData,updateLang:d.A.common.mutation.updateLang})),(0,u.i0)({fetchTranslation:d.A.common.action.fetchTranslation})),{},{handleNext:function(e,t){var n=t&&t.type?t.type:void 0,i="verify"===e&&t&&t.reason?t.reason:this.queryReason||void 0,a="verify"===e&&"verify"===this.$route.query.type?"replace":"push";this.$router[a]({path:"/account/userCancel",query:ie(ie({},this.$route.query),{},{reason:i,verifyType:n,type:e})}),(0,m.Z5)()},fetchUserInfo:function(){var e=this;return(0,r.A)(l().mark(function t(){return l().wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isViewLocale){t.next=2;break}return t.next=1,e.fetchBindingInfo();case 1:t.next=3;break;case 2:return t.next=3,e.fetchViewUserInfo();case 3:case"end":return t.stop()}},t)}))()},fetchViewUserInfo:function(){var e=this;return(0,r.A)(l().mark(function t(){var n,i,a;return l().wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$t("v2_common_view_locale"),t.prev=1,t.next=2,Promise.all([e.fetchTranslation(n),e.fetchBindingInfo()]);case 2:t.next=4;break;case 3:t.prev=3,a=t["catch"](1),i=a.code?e.$t("v2_error_code_".concat(a.code)):e.$t("v2_tips_off_line"),e.failNavigateHandle(i);case 4:return t.prev=4,e.updateLang(n),v.A.locale(n,(0,m.sC)(n)),v.A.config.lang=n,e.setTitle(),t.finish(4);case 5:case"end":return t.stop()}},t,null,[[1,3,4,5]])}))()},fetchBindingInfo:function(){var e=this;return(0,r.A)(l().mark(function t(){var n,i,a;return l().wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=1,h["default"].common.getBindingInfo();case 1:if(n=t.sent,e.maskRegisterPhone=n.data.maskRegisterPhone,e.maskEmail=n.data.maskEmail,!e.maskRegisterPhone){t.next=2;break}return e.verifyType="VerifyPhone",t.abrupt("return");case 2:if(!e.maskEmail){t.next=3;break}return e.verifyType="VerifyEmail",t.abrupt("return");case 3:t.next=5;break;case 4:t.prev=4,a=t["catch"](0),i=a.code?e.$t("v2_error_code_".concat(a.code)):e.$t("v2_tips_off_line"),e.failNavigateHandle(i);case 5:return t.prev=5,e.inited=!0,t.finish(5);case 6:case"end":return t.stop()}},t,null,[[0,4,5,6]])}))()},resetErrorCode:function(){this.errorCode="",this.errorMsg=""},failNavigateHandle:function(e){var t={title:e,callbackUrl:(0,f.hL)()};this.updateNextData({nextData:t}),this.$router.push({path:"/fail",query:this.$route.query})},errorCodeHandle:function(e){if(e.code){var t=e.code;this.errorMsg=this.$t("v2_error_code_".concat(e.code)),this.errorCode=t}else this.errorMsg=this.$t("v2_tips_off_line")},setTitle:function(){document.title="".concat(this.$t("v2_common_system_title")," | ").concat(this.$t("v2_title_weapp_write_off"))}}),watch:{initData:{handler:"fetchUserInfo",immediate:!0}},components:{userCancelInfo:N,userCancelChooseReason:B,userCancelVerify:ee},destroyed:function(){var e=(0,p.Xo)();this.updateLang(e),v.A.locale(e,(0,m.sC)()),v.A.config.lang=e},beforeRouteEnter:function(e,t,n){n(function(e){var t=e.$route.query,n=(t.type,t.reason,(0,o.A)(t,te));if("CANCEL_VERIFY"===e.activeName){var i=(0,m.B$)();if(!i)return void e.$router.replace({path:"/account/userCancel",query:ie({},n)})}e.isViewLocale&&e.setTitle()})}},oe=ae,re=(0,O.A)(oe,i,a,!1,null,null,null),ce=re.exports},12315:function(e,t,n){"use strict";n.r(t);var i=n(50727),a=n(31272);t["default"]={bindingPhone:function(e){return i.A.post((0,a.dw)("bind/wechat_bind_phone.do"),e)},bindingEmail:function(e){return i.A.post((0,a.dw)("bind/wechat_bind_email.do"),e)},unbindEmail:function(e){return i.A.post((0,a.dw)("oauth/unbind/email","v2"),e)},unbindPhone:function(e){return i.A.post((0,a.dw)("oauth/unbind/phone","v2"),e)},oauthBinds:function(e){return i.A.get((0,a.dw)("oauth/binds","v2"),e)},oauthBindingUrl:function(e){return i.A.get((0,a.dw)("oauth/auth/url","v2"),e)},oauthCallback:function(e){return i.A.post((0,a.dw)("oauth/callback","v2"),e)},oauthBinding:function(e){return i.A.post((0,a.dw)("oauth/binding","v2"),e)},oauthUnbind:function(e){return i.A.post((0,a.dw)("oauth/unbind","v2"),e)},wxLoginInfo:function(e){return i.A.get((0,a.dw)("oauth/auth/code","v2"),e)},phoneLogin:function(e){return i.A.post((0,a.dw)("bind/login_with_ticket.do"),e)}}},18618:function(e,t,n){"use strict";n.r(t);var i=n(50727),a=n(31272);t["default"]={getBindingInfo:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return i.A.get.apply(i.A,[(0,a.dw)("binds","v2"),e].concat(n))},sendValidateEmail:function(e){return i.A.post((0,a.dw)("email/validation/send","v2"),e)},validateEmail:function(e){return i.A.post((0,a.dw)("email/validation","v2"),e)},bindingPhone:function(e){return i.A.post((0,a.dw)("phone/binding","v2"),e)},bindingSecuredPhone:function(e){return i.A.post((0,a.dw)("phone/binding/securedPhone","v2"),e)},rebindingEmail:function(e){return i.A.post((0,a.dw)("email/binding/modification","v2"),e)},bindingEmail:function(e){return i.A.post((0,a.dw)("account/email/binding","v2"),e)}}},22460:function(e,t,n){"use strict";n.r(t);var i=n(33544),a={};i.keys().forEach(function(e){"./index.js"!==e&&(a[e.replace(/(^\.\/|\.js$)/g,"")]=i(e)["default"])}),t["default"]=a},24482:function(e,t,n){"use strict";n.r(t);var i=n(50727),a=n(31272);t["default"]={sendResetEmail:function(e){return i.A.post((0,a.dw)("sendResetEmail.do"),e)},emailResetPassword:function(e){return i.A.post((0,a.dw)("emailResetPassword.do"),e)},phoneResetPassword:function(e){return i.A.post((0,a.dw)("phoneResetPassword.do"),e)},newPhoneResetPassword:function(e){return i.A.post((0,a.dw)("account/password/reset","v2"),e)},checkEmailResetUrl:function(e){return i.A.post((0,a.dw)("checkEmailResetUrl.do"),e)},resetPasswordChecking:function(e){return i.A.post((0,a.dw)("reset-password/checking","v2"),e)},byEmailSend:function(e){return i.A.post((0,a.dw)("sms/by-email/send","v2"),e)},smsByEmailChecking:function(e){return i.A.post((0,a.dw)("sms/by-email/checking","v2"),e)},smsByEmailResetPassword:function(e){return i.A.post((0,a.dw)("sms/by-email/reset-password","v2"),e)},sendResetEmailByPhone:function(e){return i.A.post((0,a.dw)("sendResetEmailByPhone.do"),e)}}},33188:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",{staticClass:"page-policy",domProps:{innerHTML:e._s(e.$t("v2_weapp_write_off_policy"))}})},a=[],o={name:"PagePolicy",beforeRouteEnter:function(e,t,n){n(function(e){document.title="".concat(e.$t("v2_common_system_title")," | ").concat(e.$t("v2_title_weapp_write_off"))})}},r=o,c=n(7358),s=(0,c.A)(r,i,a,!1,null,null,null),l=s.exports},33544:function(e,t,n){var i={"./captcha.js":97842,"./common.js":74487,"./index.js":22460,"./login.js":75377};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=o,e.exports=a,a.id=33544},35627:function(e,t,n){var i={"./account.js":80154,"./apple.js":66445,"./binding.js":47560,"./common.js":93519,"./index.js":88333,"./login.js":80816,"./middleware.js":98785,"./modify.js":43059,"./oauth.js":90022,"./register.js":50876,"./reset.js":24482,"./subscription.js":51840,"./webBinding.js":18618,"./wechat.js":12315};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=o,e.exports=a,a.id=35627},37151:function(e,t){"use strict";t.A={common:{action:{fetchInitData:"fetchInitData",fetchTranslation:"fetchTranslation",prefetchCaptchaConfig:"prefetchCaptchaConfig",setCheckType:"setCheckType",fetchUserInfos:"fetchUserInfos"},getter:{initData:"initData",nextData:"nextData",logined:"logined",callbackUrl:"callbackUrl",wechatLoginVisible:"wechatLoginVisible",guestLoginButtonVisible:"guestLoginButtonVisible",lang:"lang",isAppReady:"isAppReady",getCheckType:"getCheckType",getSubscription:"getSubscription",nickname:"nickname",isGetUserInfoLoading:"isGetUserInfoLoading",isSupportEmailRegister:"isSupportEmailRegister",isCookiePreferencesShouldShow:"isCookiePreferencesShouldShow",isDialogOpen:"isDialogOpen"},mutation:{updateLoadingStatus:"updateLoadingStatus",updateInitData:"updateInitData",updateTranslation:"updateTranslation",updateCodeVisible:"updateCodeVisible",updateNextData:"updateNextData",updateLang:"updateLang",updateCheckType:"updateCheckType",updateSubscription:"updateSubscription",updateNickname:"updateNickname",updateIsGetUserInfoLoading:"updateIsGetUserInfoLoading",updateCookiePreferencesShouldShow:"updateCookiePreferencesShouldShow",updateDialogOpen:"updateDialogOpen",updatePrefetchedCaptcha:"updatePrefetchedCaptcha",updateCaptchaInitStatus:"updateCaptchaInitStatus"}},login:{action:{login:"login"},getter:{loginResult:"loginResult"},mutation:{updateLoginResult:"updateLoginResult"}},captcha:{getter:{getConfig:"getConfig"},action:{fetchTicket:"fetchTicket",getParamWithTicket:"getParamWithTicket"},mutation:{init:"init",setShow:"setShow",setTicket:"setTicket",clearTicket:"clearTicket",setInvisibleToken:"setInvisibleToken",clearInvisibleToken:"clearInvisibleToken",setInvisibleShow:"setInvisibleShow",setCurrentCaptchaIndex:"setCurrentCaptchaIndex"}}}},43059:function(e,t,n){"use strict";n.r(t);var i=n(50727),a=n(31272);t["default"]={checkPassword:function(e){return i.A.post((0,a.dw)("checkPassword.do"),e)},modifyPassword:function(e){return i.A.post((0,a.dw)("modifyPassword.do"),e)},checkWeakPassword:function(e){return i.A.post((0,a.dw)("checkWeakPassword.do"),e)}}},45996:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ot}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-account-profile",class:{"landscape-mode":e.isLandscape}},[n("profile-header",{attrs:{avatar:e.avatar,nickname:e.nickname}}),n("div",{staticClass:"account-content"},[n("login-security",{attrs:{"bind-info":e.bindInfo,"is-loading":e.isLoading}}),n("account-binding",{attrs:{"oauth-bind-info":e.oauthBindInfo,"is-loading":e.isLoading},on:{"oauth-click":e.handleOauthClick}}),n("security-check",{attrs:{"bind-info":e.bindInfo,"is-loading":e.isLoading}}),n("account-cancel")],1),e.showWechat&&e.wechatBindQR&&!e.isMobileUnbindWechat?n("ac-wechat-qr",{ref:"wechatQR"}):e._e()],1)},a=[],o=n(23219),r=n(13667),c=n(52072),s=n.n(c),l=n(40759),u=n(74949),d=n(37151),h=n(46918),p=n(88333),f=n(31272),m=n(39567),v=n(3901),_=n(90953),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"profile-header"},[n("div",{staticClass:"avatar-container"},[e.avatar?n("img",{staticClass:"user-avatar",attrs:{src:e.avatar,alt:""},on:{error:e.handleAvatarError}}):n("ac-icon",{staticClass:"user-avatar default-avatar",attrs:{name:"default-avatar",size:64}})],1),n("div",{staticClass:"nickname-container",on:{click:e.toNickname}},[n("span",{ref:"nicknameEl",staticClass:"nickname",class:{"no-translate":e.hasNickname}},[e._v(e._s(e.localNickname))]),n("span",{staticClass:"edit-icon-container"},[n("ac-icon",{staticClass:"edit-icon",attrs:{name:"avatar-edit",size:20}})],1)]),n("edit-nickname-modal",{attrs:{visible:e.showEditModal},on:{close:e.handleCloseModal,success:e.handleEditSuccess}}),e.successMessage?n("div",{staticClass:"success-toast",class:{hiding:e.isHiding}},[n("ac-icon",{staticClass:"success-icon",attrs:{name:"toast-success"}}),e._v(" "+e._s(e.successMessage)+" ")],1):e._e()],1)},y=[],b=n(3372),w=n(1418),C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("d-dialog",{attrs:{visible:e.visible,hideClose:!1,dialogTitle:e.$t("v2_edit_nickname_title"),type:"none",hideFooter:!0},on:{cancel:e.handleClose,confirm:e.handleConfirmEditNickname,close:e.handleClose}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"input-container"},[n("ac-input",{attrs:{type:"text",name:"nickname",maxlength:e.MAX_NICKNAME_LENGTH,placeholder:e.$t("v2_edit_nickname_placeholder"),valid:e.nicknameValid,errorMsg:e.errorMsg?e.errorMsg:e.nicknameValidErrorMsg,showError:e.showError,isFocusOnMounted:!1},on:{change:e.resetResError},model:{value:e.newNickname,callback:function(t){e.newNickname=t},expression:"newNickname"}}),n("AcBtnCustom",{staticClass:"landscape-save-btn",attrs:{type:"primary",theme:"blue",size:"medium",loading:e.isLoading,disabled:e.isDisabled},on:{click:e.handleConfirmEditNickname}},[e._v(" "+e._s(e.$t("v2_tips_confirm"))+" ")])],1)]),n("div",{staticClass:"modal-footer"},[n("AcBtnCustom",{attrs:{type:"primary",theme:"blue",size:"medium",block:"",loading:e.isLoading,disabled:e.isDisabled},on:{click:e.handleConfirmEditNickname}},[e._v(" "+e._s(e.$t("v1_accountCenter_save"))+" ")]),n("AcBtnCustom",{staticClass:"cancel-button",attrs:{type:"default",theme:"blue",size:"medium",block:""},on:{click:e.handleClose}},[e._v(" "+e._s(e.$t("v2_auth_confirm_cancel"))+" ")])],1),n("template",{slot:"footer"})],2)},A=[],k=n(22680),T=n(51501),E=n(9013),O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ac-v-dialog",e._g(e._b({ref:"VDialog",attrs:{visible:e.visible}},"ac-v-dialog",e.$attrs,!1),e.$listeners),[n("template",{slot:"title"},[e._t("title")],2),e._t("default"),n("template",{slot:"footer"},[e._t("footer")],2)],2),e.visible?n("ac-modal",{ref:"Modal"}):e._e()],1)},S=[],N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"dialog-fade"},on:{"after-enter":e.afterEnter,"after-leave":e.afterLeave}},[e.visible?n("div",{staticClass:"ac2-v-dialog",on:{click:function(t){return t.target!==t.currentTarget?null:e.handleClose.apply(null,arguments)}}},[n("div",{key:e.key,ref:"dialog",staticClass:"ac2-v-dialog-wrap",attrs:{role:"dialog","aria-modal":"true"}},[n("div",{staticClass:"ac2-v-dialog-box",class:{"ac2-v-dialog-slot-title":e.$slots.title,"ac2-v-dialog-slot-body":e.$slots.default,"ac2-v-dialog-slot-footer":e.$slots.footer}},[n("div",{staticClass:"ac2-v-dialog-content"},[e.hideClose?e._e():n("ac-button",{staticClass:"ac2-v-dialog-header-btn",attrs:{round:"",type:"tertiary-dark"},on:{click:e.handleClose}},[n("ac-icon",{staticClass:"icon-close",attrs:{name:"close-v2",size:18}})],1),n("div",{staticClass:"ac2-v-dialog-header"},["warning"===e.type?n("div",{staticClass:"ac2-v-dialog-header-icon"},[n("ac-icon",{staticClass:"icon-warning",attrs:{name:"warning-lg",size:44,color:"#ff9502"}})],1):e._e(),e._t("title",function(){return[n("h2",{staticClass:"ac2-v-dialog-title"},[e._v(e._s(e.dialogTitle))])]})],2),n("div",{staticClass:"ac2-v-dialog-body text-break"},[e.$slots.default?[e._t("default")]:[e._v(e._s(e.center))]],2),e.hideFooter?e._e():n("div",{staticClass:"ac2-v-dialog-footer"},[e.$slots.footer?[e._t("footer")]:[n("ac-button",{attrs:{block:"",theme:e.confirmTheme,type:e.confirmType,acLabel:e.confirmBtnUsage},on:{click:e.onClickTopBtn}},[e._v(" "+e._s(e.confirmText)+" ")]),n("ac-button",{attrs:{block:"",theme:e.cancelTheme,type:e.cancelType,acLabel:e.cancelBtnUsage},on:{click:e.onClickBottomBtn}},[e._v(" "+e._s(e.cancelText)+" ")])]],2)],1)])])]):e._e()])},x=[],P=n(52621);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var D={name:"ac-v-dialog",components:{acButton:P.A},props:{hideClose:Boolean,confirmType:{type:String,default:"primary",enum:["default","primary","warning","danger"]},cancelType:{type:String,default:"default",enum:["default","primary","warning","danger"]},confirmTheme:{type:String,default:"blue",enum:["black","blue"]},cancelTheme:{type:String,default:"blue",enum:["black","blue"]},type:{type:String,default:"warning",enum:["none","warning"]},visible:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},dialogTitle:{type:String,default:""},center:{type:String,default:""},confirmText:{type:String,default:"确认"},cancelText:{type:String,default:"取消"},width:String,confirm:Function,cancel:Function,beforeClose:Function,destroyOnClose:Boolean,confirmBtnUsage:String,cancelBtnUsage:String,hideFooter:Boolean},data:function(){return{rendered:!1,closed:!1,key:0}},watch:{visible:function(e){var t=this;e?(this.closed=!1,this.$emit("open"),this.updateDialogOpen(!0),this.$nextTick(function(){t.$refs.dialog.scrollTop=0}),this.appendToBody&&document.body.appendChild(this.$el)):(this.closed||this.$emit("close"),setTimeout(function(){t.updateDialogOpen(!1)},400),this.destroyOnClose&&this.$nextTick(function(){t.key++}))}},computed:{},methods:L(L({},(0,u.PY)({updateDialogOpen:d.A.common.mutation.updateDialogOpen})),{},{handleClose:function(){"function"===typeof this.beforeClose?this.beforeClose(this.hide):this.hide(),this.$emit("cancel")},hide:function(e){!1!==e&&(this.$emit("update:visible",!1),this.$emit("close"),this.closed=!0)},afterEnter:function(){this.$emit("opened")},afterLeave:function(){this.$emit("closed")},onClickTopBtn:function(){this.$emit("confirm"),this.$emit("clickTopBtn")},onClickBottomBtn:function(){this.$emit("cancel"),this.$emit("clickBottomBtn")}}),mounted:function(){this.visible&&this.appendToBody&&document.body.appendChild(this.$el)},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},$=D,U=n(7358),B=(0,U.A)($,N,x,!1,null,null,null),R=B.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ac2-dialog-modal"},[e._t("default")],2)},j=[],M={name:"ac-dialog-modal",props:{},data:function(){return{}},watch:{},computed:{},methods:{},mounted:function(){},destroyed:function(){}},H=M,F=(0,U.A)(H,V,j,!1,null,null,null),G=F.exports,W={name:"DDialog",components:{acModal:G,acVDialog:R},props:{visible:{type:Boolean,default:!1}},data:function(){return{}},watch:{visible:function(e){var t=this;e?(this.closed=!1,this.$emit("open"),this.$nextTick(function(){t.$refs.VDialog.scrollTop=0}),document.body.appendChild(this.$el)):(this.closed||this.$emit("close"),this.destroyOnClose&&this.$nextTick(function(){t.key++}),setTimeout(function(){document.body.removeChild(t.$el)},300))}},computed:{},mounted:function(){},methods:{}},q=W,Y=(0,U.A)(q,O,S,!1,null,null,null),z=Y.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",e._b(e._b({class:["ac2-btn","ac2-btn-"+e.theme,"ac2-btn-"+e.type,"ac2-btn-"+e.size,e.block&&"ac2-btn-block",e.round&&"is-circle",e.icon&&"ac2-btn-icon",e.disabled&&"ac2-btn-disabled",e.loading&&"ac2-btn-loading",e.viewDisabled&&!e.loading&&"view-disabled"],attrs:{type:e.type,disabled:e.disabled,"aria-label":e.buttonType},on:{click:function(t){return t.stopPropagation(),e.handleClick.apply(null,arguments)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleClick.apply(null,arguments)},mouseenter:function(t){return e.$emit("mouseenter")},focus:function(t){return e.$emit("focus")},hover:function(t){return e.$emit("hover")},mouseleave:function(t){return e.$emit("mouseleave")},focusout:function(t){return e.$emit("focusout")}}},"button",e._d({},[e.USAGE_TAG_ATTR_NAME,e.acLabel])),"button",e.$attrs,!1),[e.loading?n("ac-loading",{staticStyle:{"margin-right":"8px"},attrs:{type:e.loadingType}}):e._e(),e.round?[e._t("default")]:n("span",[e._t("default")],2)],2)},Q=[],K=n(76275),X={primary:"light",default:"dark"},Z={name:"ac-button",inheritAttrs:!0,props:{type:{type:String,enum:["default","primary","variant","danger","tertiary-dark"],default:"default"},size:{type:String,default:"medium",enum:["mini","small","medium","large"]},theme:{type:String,default:"black",enum:["black","blue"]},loading:{type:Boolean,default:!1},block:{type:Boolean,default:!1},round:{type:Boolean,default:!1},icon:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},viewDisabled:{type:Boolean,default:!1},buttonType:{type:String,default:"submit"},acLabel:{type:String,default:void 0}},computed:{loadingType:function(){return X[this.type]}},data:function(){return{USAGE_TAG_ATTR_NAME:l.VR}},methods:{handleClick:function(){this.loading||this.$emit("click")}},components:{acLoading:K.A}},ee=Z,te=(0,U.A)(ee,J,Q,!1,null,null,null),ne=te.exports,ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ac2-form-input",class:{disabled:e.disabled}},[n("div",{staticClass:"ac2-input-group",class:{"ac2-input-group-area":e.areaCode||e.$slots["suffix-addon"]}},[e.areaCode||e.$slots["suffix-addon"]?n("span",{staticClass:"ac2-input-addon"},[e._t("suffix-addon",function(){return[e._v("+"+e._s(e.areaCode))]})],2):e._e(),n("div",{staticClass:"ac2-input-wrapper",class:{"ac2-input-wrapper-flex":e.$slots["suffix-after"],"ac2-input-wrapper-password":e.passwordIcon}},["checkbox"===e.myType?n("input",{directives:[{name:"model",rawName:"v-model",value:e.iValue,expression:"iValue"}],ref:"input",staticClass:"ac2-input",class:{"ac2-input-error":e.activeError},style:e.inputStyles,attrs:{name:e.name,autocomplete:e.autocomplete,placeholder:e.placeholder,disabled:e.disabled,maxlength:e.maxlength,lazy:e.lazy,readonly:e.readonly,"aria-label":e.inputType,type:"checkbox"},domProps:{checked:Array.isArray(e.iValue)?e._i(e.iValue,null)>-1:e.iValue},on:{focus:e.handleFocus,blur:e.handleBlur,change:function(t){var n=e.iValue,i=t.target,a=!!i.checked;if(Array.isArray(n)){var o=null,r=e._i(n,o);i.checked?r<0&&(e.iValue=n.concat([o])):r>-1&&(e.iValue=n.slice(0,r).concat(n.slice(r+1)))}else e.iValue=a}}}):"radio"===e.myType?n("input",{directives:[{name:"model",rawName:"v-model",value:e.iValue,expression:"iValue"}],ref:"input",staticClass:"ac2-input",class:{"ac2-input-error":e.activeError},style:e.inputStyles,attrs:{name:e.name,autocomplete:e.autocomplete,placeholder:e.placeholder,disabled:e.disabled,maxlength:e.maxlength,lazy:e.lazy,readonly:e.readonly,"aria-label":e.inputType,type:"radio"},domProps:{checked:e._q(e.iValue,null)},on:{focus:e.handleFocus,blur:e.handleBlur,change:function(t){e.iValue=null}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.iValue,expression:"iValue"}],ref:"input",staticClass:"ac2-input",class:{"ac2-input-error":e.activeError},style:e.inputStyles,attrs:{name:e.name,autocomplete:e.autocomplete,placeholder:e.placeholder,disabled:e.disabled,maxlength:e.maxlength,lazy:e.lazy,readonly:e.readonly,"aria-label":e.inputType,type:e.myType},domProps:{value:e.iValue},on:{focus:e.handleFocus,blur:e.handleBlur,input:function(t){t.target.composing||(e.iValue=t.target.value)}}}),e.$slots["suffix-after"]||e.$slots["suffix-after-inline"]?[e.$slots["suffix-after"]?n("div",{staticClass:"cursor-pointer"},[e._t("suffix-after")],2):e._e(),e.$slots["suffix-after-inline"]?n("div",{staticClass:"cursor-pointer"},[e._t("suffix-after-inline")],2):e._e()]:[e.passwordIcon?n("span",{staticClass:"ac2-input-suffix",on:{click:e.passwordIconClick}},[n("ac-icon",{staticClass:"ac-password-icon",attrs:{name:"input"===e.myType?"eye":"eye-slash",size:20}})],1):e.hasClear?n("span",{staticClass:"ac2-input-suffix clear",on:{click:function(t){return t.stopPropagation(),e.clear.apply(null,arguments)}}},[n("ac-icon",{attrs:{name:"clear-v2",size:16}})],1):e._e()]],2)]),e.activeError?n("ac-error-msg",{staticClass:"ac2-input-helper",attrs:{errorMsg:e.errorMsg,directLogin:e.directLogin}}):e._e()],1)},ae=[],oe={name:"d-form-input",props:{value:{type:[String,Number],required:!0},name:{type:String,required:!1,default:null},autocomplete:{type:String,required:!1},size:{type:String,default:"medium",enum:["mini","small","medium","large"]},type:{type:String,enum:["text","tel","number","password"],default:"text"},maxlength:{type:[Number,String],default:100},placeholder:{type:String,default:""},label:{type:String,default:""},disabled:{type:Boolean,default:!1},showError:{type:Boolean,default:!1},errorMsg:{type:String,default:""},valid:{type:Boolean,required:!1,default:!1},directLogin:{type:Boolean,default:!1},isFocusOnMounted:{type:Boolean,default:!1},origin:{type:String,enum:["loginPassword","register","userNameTrim"],default:""},inputType:{type:String,default:""},valueRefresh:{type:Boolean,default:!1},isNoFill:Boolean,areaCode:String,lazy:Boolean,passwordIcon:Boolean,inputStyles:Object||String,autoScrollOnFocus:Boolean,labelId:String},components:{},data:function(){return{toFocus:!1,active:!0,myType:"input",readonly:!1}},created:function(){this.isNoFill&&(this.readonly=!0),this.myType=this.type},computed:{iValue:{get:function(){return this.valueRefresh,this.value},set:function(e){this.$emit("change",e),this.$emit("input",e)}},activeError:function(){return!!this.showError||!this.valid&&!this.active},hasClear:function(){return this.iValue&&!this.disabled}},mounted:function(){this.isFocusOnMounted&&!h.Fr&&(this.toFocus=!0)},watch:{value:function(e){this.setCurrentValue(e)},toFocus:function(e){e&&this.focusInput()},showError:function(e){e&&(this.active=!1)}},methods:{passwordIconClick:function(){var e;"password"===this.myType&&"loginPassword"===this.origin&&(null===(e=this.$ga)||void 0===e||e.event("eye_event","Click","login_page-eye_open"));this.myType=this.myType===this.type?"input":this.type},clear:function(){this.iValue="",this.toFocus=!0},setCurrentValue:function(e){this.iValue=e,"userNameTrim"!==this.origin&&(this.active=!0)},handleFocus:function(e){var t=this;this.active=!0,this.isNoFill&&this.readonly&&(this.readonly=!1,this.$refs.input.blur(),this.$nextTick(function(){t.$refs.input.focus()})),this.autoScrollOnFocus&&(0,h.gR)(e.target),this.$emit("focus",this.iValue)},handleBlur:function(){var e=this;return(0,o.A)(s().mark(function t(){return s().wrap(function(t){while(1)switch(t.prev=t.next){case 0:setTimeout(function(){e.lazy&&!e.showError||(e.active=!1),e.toFocus=!1,e.$emit("blur",e.iValue),e.$emit("blurValidate")},100);case 1:case"end":return t.stop()}},t)}))()},focusInput:function(){var e=this;h.Fr||this.$nextTick(function(){try{e.$refs.input.focus()}catch(t){}})}}},re=oe,ce=(0,U.A)(re,ie,ae,!1,null,"6eabbb70",null),se=ce.exports;function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var de={name:"EditNicknameModal",components:{acInput:se,DDialog:z,AcBtnCustom:ne},props:{visible:{type:Boolean,default:!1}},data:function(){return{MAX_NICKNAME_LENGTH:E.P,newNickname:"",errorCode:0,isLoading:!1,active:!0}},computed:ue(ue({},(0,u.L8)({initData:d.A.common.getter.initData})),{},{nicknameValid:function(){return!(!this.newNickname||!this.newNickname.trim())&&(0,k.cm)(this.newNickname)},isDisabled:function(){return!1},nicknameValidErrorMsg:function(){return this.$t("v2_error_code_".concat(T.Xb.ILLEGAL_NICK_NAME))},errorMsg:function(){return this.errorCode===T.Sc?this.$t("v2_tips_off_line"):this.errorCode?this.$t("v2_error_code_".concat(this.errorCode)):""},showError:function(){return!!this.errorMsg||!this.active&&!this.nicknameValid}}),methods:ue(ue({},(0,u.i0)({fetchUserInfos:d.A.common.action.fetchUserInfos})),{},{reportSensorEvent:function(e){(0,b.HF)(l.tU.ACCOUNT_SUBMIT_NICKNAME,this.$t("v2_tips_confirm"),e)},resetResError:function(){this.errorCode="",this.active=!0},handleResError:function(e){null!==e&&void 0!==e&&e.code?this.errorCode=e.code:this.errorCode=T.Sc},handleClose:function(){this.newNickname="",this.resetResError(),this.$emit("close")},successHandle:function(){var e=this;return(0,o.A)(s().mark(function t(){return s().wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=1,e.fetchUserInfos();case 1:t.next=3;break;case 2:t.prev=2,t["catch"](0);case 3:e.handleClose(),e.$emit("success",e.$t("v2_tips_edit_nickname_success"));case 4:case"end":return t.stop()}},t,null,[[0,2]])}))()},handleConfirmEditNickname:function(){var e=this;return(0,o.A)(s().mark(function t(){var n;return s().wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.active=!1,e.nicknameValid){t.next=1;break}return t.abrupt("return");case 1:return e.isLoading=!0,e.resetResError(),t.next=2,p["default"].account.nicknameUpdate({newNickname:e.newNickname});case 2:e.reportSensorEvent(T.Fi),e.successHandle(),t.next=4;break;case 3:t.prev=3,n=t["catch"](0),e.handleResError(n),e.reportSensorEvent(n.code||T.Sc);case 4:return t.prev=4,e.isLoading=!1,t.finish(4);case 5:case"end":return t.stop()}},t,null,[[0,3,4,5]])}))()}}),watch:{visible:function(e){e&&(this.newNickname="",this.resetResError())}}},he=de,pe=(0,U.A)(he,C,A,!1,null,"51b68206",null),fe=pe.exports;function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _e={name:"ProfileHeader",components:{EditNicknameModal:fe},props:{avatar:{type:String,default:""}},data:function(){return{USAGE_TAG_VALUE:l.tU,showEditModal:!1,successMessage:"",isHiding:!1,localNickname:this.$te("v2_tips_nickname_not_added")?this.$t("v2_tips_nickname_not_added"):"",hasNickname:!1}},computed:ve(ve({},(0,u.L8)({isGetUserInfoLoading:d.A.common.getter.isGetUserInfoLoading,nickname:d.A.common.getter.nickname})),{},{displayNickname:function(){return this.nickname?this.nickname:this.$te("v2_tips_nickname_not_added")?this.$t("v2_tips_nickname_not_added"):""}}),methods:{toNickname:function(){(0,b.HF)(l.tU.ACCOUNT_MODIFY_NICKNAME,this.displayNickname),this.showEditModal=!0},handleCloseModal:function(){this.showEditModal=!1},handleEditSuccess:function(e){var t=this;this.successMessage=e,this.isHiding=!1,setTimeout(function(){t.isHiding=!0,setTimeout(function(){t.successMessage="",t.isHiding=!1},300)},3e3)},checkNicknameDisplay:function(){if(!this.isGetUserInfoLoading)try{var e,t=this.nickname,n=(null===(e=document.querySelector(".nickname"))||void 0===e?void 0:e.textContent)||"";if(!t)return;if(n===this.$t("v2_tips_nickname_not_added"))return;n!==t&&(0,w.tb)(t,n,new Error("Nickname display error"))}catch(i){}},handleAvatarError:function(e){(0,w.AB)("LOAD_ERROR",e)}},watch:{nickname:{immediate:!0,handler:function(e){var t=this;e&&(this.hasNickname=!0,this.$nextTick(function(){t.localNickname=e}))}}},mounted:function(){var e=this;this.$nextTick(function(){var t=e.$refs.nicknameEl;t&&(t.setAttribute("translate","no"),e.checkNicknameDisplay())})}},ge=_e,ye=(0,U.A)(ge,g,y,!1,null,"2b4a9954",null),be=ye.exports,we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"account-security"},[n("h2",{staticClass:"section-title"},[e._v(e._s(e.$t("v2_menu_account_security")))]),n("div",{staticClass:"account-section"},[n("div",{staticClass:"custom-list account-list"},[n("div",{staticClass:"custom-list-item account-item",on:{click:function(t){return e.toLink("modify")}}},[n("div",{staticClass:"item-name"},[e._v(e._s(e.$t("v2_tips_login_password")))]),n("div",{staticClass:"item-value"},[n("div",{staticClass:"action-wrapper"},[n("span",{staticClass:"action-text"},[e._v(e._s(e.$t("v2_title_modify_password")))]),n("ac-icon",{staticClass:"arrow-icon",attrs:{name:"arrow-right-1",size:16}})],1)])]),e.shouldShowPhoneOption?n("div",{staticClass:"custom-list-item account-item",class:{disabled:e.maskRegisterPhone&&"zh_CN"!==e.lang,"is-loading":e.isLoading},on:{click:function(t){return e.handlePhoneClick()}}},[n("div",{staticClass:"item-name"},[e._v(e._s(e.$t("v2_common_phone")))]),n("div",{staticClass:"item-value"},[e.isLoading?n("div",{staticClass:"skeleton-loading"},[e.isMobile?e._e():n("div",{staticClass:"skeleton-text skeleton-phone"}),e._m(0)]):[e.maskRegisterPhone?n("span",{staticClass:"phone-item-info"},[e._v(e._s(e.maskRegisterPhone))]):e._e(),n("div",{staticClass:"action-wrapper"},[e.isMobile&&e.maskRegisterPhone?e._e():n("span",{staticClass:"action-text",class:{"not-set":!e.maskRegisterPhone}},[e._v(e._s(e.maskRegisterPhone?e.$t("v2_tips_phone_modification"):e.$t("v2_tips_is_not_set")))]),e.maskRegisterPhone&&"zh_CN"===e.lang||!e.maskRegisterPhone?n("ac-icon",{staticClass:"arrow-icon",class:{"not-set":!e.maskRegisterPhone},attrs:{name:e.maskRegisterPhone?"arrow-right-1":"arrow-right-2",size:16}}):e._e()],1)]],2)]):e._e(),e.shouldShowEmailOption?n("div",{staticClass:"custom-list-item account-item",class:{"is-loading":e.isLoading,"no-arrow":e.notAllowedEmail},on:{click:function(t){return e.toLink(e.bindInfo.maskEmail?"binding/email/modification":"binding/email",1)}}},[n("div",{staticClass:"item-name"},[e._v(e._s(e.$t("v2_common_email")))]),n("div",{staticClass:"item-value"},[e.isLoading?n("div",{staticClass:"skeleton-loading"},[e.isMobile?e._e():n("div",{staticClass:"skeleton-text skeleton-email"}),e._m(1)]):[e.bindInfo.maskEmail?n("span",{staticClass:"email-item-info"},[e._v(e._s(e.bindInfo.maskEmail))]):e._e(),e.notAllowedEmail?e._e():n("div",{staticClass:"action-wrapper"},[e.isMobile&&e.bindInfo.maskEmail?e._e():n("span",{staticClass:"action-text",class:{"not-set":!e.bindInfo.maskEmail}},[e._v(e._s(e.bindInfo.maskEmail?e.$t("v2_tips_email_modification"):e.$t("v2_tips_is_not_set")))]),e.bindInfo.maskEmail||!e.bindInfo.maskEmail?n("ac-icon",{staticClass:"arrow-icon",class:{"not-set":!e.bindInfo.maskEmail},attrs:{name:e.bindInfo.maskEmail?"arrow-right-1":"arrow-right-2",size:16}}):e._e()],1)]],2)]):e._e()])])])},Ce=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"skeleton-action"},[n("div",{staticClass:"skeleton-text skeleton-action-text"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"skeleton-action"},[n("div",{staticClass:"skeleton-text skeleton-action-text"})])}];function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Te={"binding/phone":v.Ju.GO_TO_BIND_PHONE,"binding/phone/modification":v.Ju.GO_TO_MODIFY_PHONE,"binding/email":v.Ju.GO_TO_BIND_EMAIL,"binding/email/modification":v.Ju.GO_TO_MODIFY_EMAIL},Ee={name:"LoginSecurity",props:{bindInfo:{type:Object,default:function(){return{maskRegisterPhone:"",maskEmail:""}}},isLoading:{type:Boolean,default:!1}},data:function(){return{USAGE_TAG_VALUE:l.tU,isMobile:h.Fr,hasChecked:!1}},computed:ke(ke({},(0,u.L8)({lang:d.A.common.getter.lang})),{},{notAllowedEmail:function(){return this.bindInfo.maskEmail&&(0,k.G5)(this.bindInfo.maskEmail)},maskRegisterPhone:function(){return this.bindInfo.maskRegisterPhone},maskEmail:function(){return this.bindInfo.maskEmail},shouldShowPhoneOption:function(){return this.isLoading||this.maskRegisterPhone||"zh_CN"===this.lang},shouldShowEmailOption:function(){return this.isLoading||this.bindInfo.maskEmail||"zh_CN"===this.lang},bindPhoneLinkUsage:function(){return this.maskRegisterPhone?l.tU.ACCOUNT_MODIFY_PHONE:l.tU.ACCOUNT_BIND_PHONE},bindEmailLinkUsage:function(){return this.maskEmail?l.tU.ACCOUNT_MODIFY_EMAIL:l.tU.ACCOUNT_BIND_EMAIL}}),methods:ke(ke({},(0,u.PY)({updateNextData:d.A.common.mutation.updateNextData})),{},{slsReport:function(e){(0,v.Fl)({type:Te[e]})},toLink:function(e,t){this.isLoading||1===t&&this.notAllowedEmail||(this.reportLinkEvent(e),this.$router.push({path:"/".concat(e),query:ke({},(0,m.c)(this.goToModificationAccount(e)))}),this.slsReport(e))},reportLinkEvent:function(e){var t="",n="";switch(e){case"modify":t=l.tU.ACCOUNT_MODIFY_PASSWORD,n=this.$t("v2_title_modify_password");break;case"binding/phone":t=l.tU.ACCOUNT_BIND_PHONE,n=this.$t("v2_tips_is_not_set");break;case"binding/phone/modification":t=l.tU.ACCOUNT_MODIFY_PHONE,n=this.$t("v2_tips_phone_modification");break;case"binding/email":t=this.bindEmailLinkUsage,n=this.$t("v2_tips_is_not_set");break;case"binding/email/modification":t=this.bindEmailLinkUsage,n=this.$t("v2_tips_email_modification");break;default:return}t&&(0,b.HF)(t,n)},goToModificationAccount:function(e){return["binding/phone","binding/email"].includes(e)?(0,f.hL)(e,document.URL):(0,f.hL)(e,null)},handlePhoneClick:function(){if(!this.isLoading&&(!this.maskRegisterPhone||"zh_CN"===this.lang)){var e=this.maskRegisterPhone?this.$t("v2_tips_phone_modification"):this.$t("v2_tips_is_not_set");(0,b.HF)(this.bindPhoneLinkUsage,e),this.toLink(this.maskRegisterPhone?"binding/phone/modification":"binding/phone")}},checkPhoneAndEmailInfoDisplay:function(){var e,t;if(!this.isLoading){var n=this.bindInfo.maskRegisterPhone||"",i=this.bindInfo.maskEmail||"",a=(null===(e=document.querySelector(".phone-item-info"))||void 0===e?void 0:e.textContent)||"",o=(null===(t=document.querySelector(".email-item-info"))||void 0===t?void 0:t.textContent)||"";a!==n&&(0,w.dQ)(a,n,new Error("Phone display inconsistency detected")),o!==i&&(0,w.DB)(o,i,new Error("Email display inconsistency detected"))}}}),watch:{isLoading:function(e){var t=this;e||this.$nextTick(function(){t.checkPhoneAndEmailInfoDisplay()})}}},Oe=Ee,Se=(0,U.A)(Oe,we,Ce,!1,null,"f6a5c7b8",null),Ne=Se.exports,xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldShowPhoneOption?n("div",{staticClass:"account-security"},[n("h2",{staticClass:"section-title"},[e._v(e._s(e.$t("v2_security_verification‌")))]),n("div",{staticClass:"account-section"},[n("div",{staticClass:"custom-list account-list"},[n("div",{staticClass:"custom-list-item account-item",class:{disabled:e.maskRegisterPhone&&"zh_CN"!==e.lang,"is-loading":e.isLoading},on:{click:function(t){return e.handleSecurityPhoneClick()}}},[n("div",{staticClass:"item-name"},[e._v(e._s(e.$t("v2_security_phone")))]),n("div",{staticClass:"item-value"},[e.isLoading?n("div",{staticClass:"skeleton-loading"},[e.isMobile?e._e():n("div",{staticClass:"skeleton-text skeleton-phone"}),e._m(0)]):[e.maskRegisterPhone?n("span",{staticClass:"security-phone-item-info"},[e._v(e._s(e.maskRegisterPhone))]):e._e(),n("div",{staticClass:"action-wrapper"},[e.isMobile&&e.maskRegisterPhone?e._e():n("span",{staticClass:"action-text",class:{"not-set":!e.maskRegisterPhone}},[e._v(e._s(e.maskRegisterPhone?e.$t("v2_modify_security_phone"):e.$t("v2_tips_is_not_set")))]),e.maskRegisterPhone&&"zh_CN"===e.lang||!e.maskRegisterPhone?n("ac-icon",{staticClass:"arrow-icon",class:{"not-set":!e.maskRegisterPhone},attrs:{name:e.maskRegisterPhone?"arrow-right-1":"arrow-right-2",size:16}}):e._e()],1)]],2)])])])]):e._e()},Pe=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"skeleton-action"},[n("div",{staticClass:"skeleton-text skeleton-action-text"})])}];function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var De={"binding/securityPhone":v.Ju.GO_TO_BIND_SECURITY_PHONE,"binding/securityPhone/modification":v.Ju.GO_TO_MODIFY_SECURITY_PHONE},$e={name:"LoginSecurity",props:{bindInfo:{type:Object,default:function(){return{maskRegisterPhone:""}}},isLoading:{type:Boolean,default:!1}},data:function(){return{USAGE_TAG_VALUE:l.tU,isMobile:h.Fr,hasChecked:!1}},computed:Le(Le({},(0,u.L8)({lang:d.A.common.getter.lang})),{},{maskRegisterPhone:function(){var e,t=this.bindInfo&&this.bindInfo.maskSecurePhone;return Array.isArray(t)?t[0]||"":"string"===typeof t?t:(null===(e=this.bindInfo)||void 0===e?void 0:e.maskSecurityPhone)||""},shouldShowPhoneOption:function(){return"zh_CN"===this.lang||!this.isLoading&&!!this.maskRegisterPhone},bindPhoneLinkUsage:function(){return this.maskRegisterPhone?l.tU.ACCOUNT_MODIFY_SECURITY_PHONE:l.tU.ACCOUNT_BIND_SECURITY_PHONE}}),methods:Le(Le({},(0,u.PY)({updateNextData:d.A.common.mutation.updateNextData})),{},{slsReport:function(e){(0,v.Fl)({type:De[e]})},toLink:function(e,t){this.isLoading||(this.reportLinkEvent(e),this.$router.push({path:"/".concat(e),query:Le({},(0,m.c)(this.goToModificationAccount(e)))}),this.slsReport(e))},reportLinkEvent:function(e){var t="",n="";switch(e){case"binding/securityPhone":t=l.tU.ACCOUNT_BIND_SECURITY_PHONE,n=this.$t("v2_tips_is_not_set");break;case"binding/securityPhone/modification":t=l.tU.ACCOUNT_MODIFY_SECURITY_PHONE,n=this.$t("v2_modify_security_phone");break;default:return}t&&(0,b.HF)(t,n)},goToModificationAccount:function(e){return["binding/securityPhone"].includes(e)?(0,f.hL)(e,document.URL):(0,f.hL)(e,null)},handleSecurityPhoneClick:function(){if(!this.isLoading&&(!this.maskRegisterPhone||"zh_CN"===this.lang)){var e=!!this.maskRegisterPhone,t=e?this.$t("v2_modify_security_phone"):this.$t("v2_tips_is_not_set");(0,b.HF)(e?l.tU.ACCOUNT_MODIFY_SECURITY_PHONE:l.tU.ACCOUNT_BIND_SECURITY_PHONE,t),this.toLink(this.maskRegisterPhone?"binding/securityPhone/modification":"binding/securityPhone")}}})},Ue=$e,Be=(0,U.A)(Ue,xe,Pe,!1,null,"ca877928",null),Re=Be.exports,Ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showLists?n("div",{staticClass:"account-binding"},[n("h2",{staticClass:"section-title"},[e._v(e._s(e.$t("v2_menu_account_binding")))]),n("div",{staticClass:"account-section"},[n("div",{staticClass:"custom-list account-list"},[e.showWechat?n("div",{staticClass:"custom-list-item",class:{"is-loading":e.isLoading,"mobile-wechat-disabled":e.isMobileUnbindWechat,"is-unbound":!e.getBindStatus("Wechat")},on:{click:function(t){return e.handleOauthClick("Wechat")}}},[n("div",{staticClass:"item-icon"},[n("ac-icon",{attrs:{name:"wechat-account",size:24}})],1),n("div",{staticClass:"item-name"},[e._v(e._s(e.$t("v2_tips_wechat")))]),n("div",{staticClass:"item-value"},[e.isLoading?n("div",{staticClass:"skeleton-loading"},[n("div",{staticClass:"skeleton-text skeleton-action-text"})]):n("div",{staticClass:"action-wrapper"},[n("span",{staticClass:"action-text"},[e._v(e._s(e.getLinkText("Wechat")))]),e.isMobileUnbindWechat?e._e():n("ac-icon",{staticClass:"arrow-icon",attrs:{name:e.getArrowIcon("Wechat"),size:16}})],1)])]):e._e(),e.isSupportThirdLogin?[e.showFacebookBind?n("div",{staticClass:"custom-list-item",class:{"is-loading":e.isLoading,"is-unbound":!e.getBindStatus("Facebook")},on:{click:function(t){return e.handleThirdLoginClick("Facebook")}}},[n("div",{staticClass:"item-icon"},[n("ac-icon",{attrs:{name:"facebook-account",size:24}})],1),n("div",{staticClass:"item-name"},[e._v(e._s(e.$t("Facebook")))]),n("div",{staticClass:"item-value"},[e.isLoading?n("div",{staticClass:"skeleton-loading"},[n("div",{staticClass:"skeleton-text skeleton-action-text"})]):n("div",{staticClass:"action-wrapper"},[n("span",{staticClass:"action-text"},[e._v(e._s(e.getLinkText("Facebook")))]),n("ac-icon",{staticClass:"arrow-icon",attrs:{name:e.getArrowIcon("Facebook"),size:16}})],1)])]):e._e(),e.showGoogleBind?n("div",{staticClass:"custom-list-item",class:{"is-loading":e.isLoading,"is-unbound":!e.getBindStatus("Google")},on:{click:function(t){return e.handleThirdLoginClick("Google")}}},[n("div",{staticClass:"item-icon"},[n("ac-icon",{attrs:{name:"google-account",size:24}})],1),n("div",{staticClass:"item-name"},[e._v(e._s(e.$t("Google")))]),n("div",{staticClass:"item-value"},[e.isLoading?n("div",{staticClass:"skeleton-loading"},[n("div",{staticClass:"skeleton-text skeleton-action-text"})]):n("div",{staticClass:"action-wrapper"},[n("span",{staticClass:"action-text"},[e._v(e._s(e.getLinkText("Google")))]),n("ac-icon",{staticClass:"arrow-icon",attrs:{name:e.getArrowIcon("Google"),size:16}})],1)])]):e._e(),e.showAppleBind?n("div",{staticClass:"custom-list-item",class:{"is-loading":e.isLoading,"is-unbound":!e.getBindStatus("Apple")},on:{click:function(t){return e.handleThirdLoginClick("Apple")}}},[n("div",{staticClass:"item-icon"},[n("ac-icon",{attrs:{name:"apple-account",size:24}})],1),n("div",{staticClass:"item-name"},[e._v(e._s(e.$t("Apple")))]),n("div",{staticClass:"item-value"},[e.isLoading?n("div",{staticClass:"skeleton-loading"},[n("div",{staticClass:"skeleton-text skeleton-action-text"})]):n("div",{staticClass:"action-wrapper"},[n("span",{staticClass:"action-text"},[e._v(e._s(e.getLinkText("Apple")))]),n("ac-icon",{staticClass:"arrow-icon",attrs:{name:e.getArrowIcon("Apple"),size:16}})],1)])]):e._e()]:e._e()],2)])]):e._e()},je=[];function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Fe={name:"AccountBinding",props:{oauthBindInfo:{type:Array,default:function(){return[]}},isLoading:{type:Boolean,default:!1}},data:function(){return{isMobile:h.Fr,USAGE_TAG_VALUE:l.tU}},computed:He(He({},(0,u.L8)({initData:d.A.common.getter.initData,showWechat:d.A.common.getter.wechatLoginVisible,lang:d.A.common.getter.lang})),{},{showFacebookBind:function(){var e;return(null===(e=this.initData)||void 0===e||null===(e=e.customizedPageConfig)||void 0===e?void 0:e.facebookLoginVisible)||!1},showGoogleBind:function(){var e;return(null===(e=this.initData)||void 0===e||null===(e=e.customizedPageConfig)||void 0===e?void 0:e.googleLoginVisible)||!1},showAppleBind:function(){var e;return(null===(e=this.initData)||void 0===e||null===(e=e.customizedPageConfig)||void 0===e?void 0:e.appleLoginVisible)||!1},isSupportThirdLogin:function(){return this.showFacebookBind||this.showGoogleBind},isMobileUnbindWechat:function(){return!this.getBindStatus("Wechat")&&this.isMobile&&this.showWechat},showLists:function(){return this.showWechat||this.isSupportThirdLogin}}),methods:{getBindStatus:function(e){var t=this.oauthBindInfo.find(function(t){return t.type===e});return!!t&&t.bind},getLinkText:function(e){var t=this.getBindStatus(e);return"Wechat"===e&&this.isMobileUnbindWechat?"仅在电脑端支持微信绑定":t?this.$t("v2_btn_account_unbindling"):this.$t("v2_btn_account_bindling")},getArrowIcon:function(e){return this.getBindStatus(e)?"arrow-right-1":"arrow-right-2"},getUsageTag:function(e){var t=this.getBindStatus(e),n=e.toUpperCase();return t?l.tU["ACCOUNT_UNBIND_".concat(n)]:l.tU["ACCOUNT_BIND_".concat(n)]},handleOauthClick:function(e){this.isLoading||(this.type=e,"Wechat"===e&&this.isMobileUnbindWechat||((0,b.HF)(this.getUsageTag(e),this.getLinkText(e)),this.$emit("oauth-click",e)))},handleThirdLoginClick:function(e){(0,b.HF)(this.getUsageTag(e),this.getLinkText(e)),this.$emit("oauth-click",e)},checkOAuthBindStatus:function(){var e=this;if(!this.isLoading){var t=document.querySelectorAll(".custom-list-item");t.forEach(function(t){var n,i,a=null===(n=t.querySelector(".item-name"))||void 0===n?void 0:n.textContent;if(a){var o=null===(i=t.querySelector(".action-text"))||void 0===i?void 0:i.textContent;if(o){var r=o===e.$t("v2_btn_account_unbindling"),c="";switch(a){case e.$t("v2_tips_wechat"):c="Wechat";break;case"Facebook":c="Facebook";break;case"Google":c="Google";break;case"Apple":c="Apple";break;default:return}var s=e.getBindStatus(c);r!==s&&(0,w.jW)(c,r?"已绑定":"未绑定",s?"已绑定":"未绑定",new Error("OAuth bind status display inconsistency detected"))}}})}}},watch:{isLoading:function(e){var t=this;e||this.$nextTick(function(){t.checkOAuthBindStatus()})}}},Ge=Fe,We=(0,U.A)(Ge,Ve,je,!1,null,"2727f281",null),qe=We.exports,Ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"account-section"},[n("div",{staticClass:"custom-list account-list"},[n("div",{staticClass:"custom-list-item account-item",on:{click:e.handleCancelClick}},[n("div",{staticClass:"item-name"},[e._v(e._s(e.$t("v2_tips_account_cancel")))]),n("div",{staticClass:"item-value"},[n("div",{staticClass:"action-wrapper"},[n("span",{staticClass:"action-text"},[e._v(e._s(e.$t("v2_tips_apply_for_cancel")))]),n("ac-icon",{staticClass:"arrow-icon",attrs:{name:"arrow-right-1",size:16}})],1)])])])])])},ze=[],Je={name:"AccountCancel",data:function(){return{USAGE_TAG_VALUE:l.tU}},methods:{handleCancelClick:function(){(0,b.HF)(l.tU.ACCOUNT_DELETE_ENTRY,this.$t("v2_tips_apply_for_cancel")),this.$router.push({path:"/account/userCancel",query:this.$route.query}),(0,v.Fl)({type:v.Ju.GO_TO_CANCEL})}}},Qe=Je,Ke=(0,U.A)(Qe,Ye,ze,!1,null,"58f94236",null),Xe=Ke.exports;function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tt={BIND:{Wechat:v.Ju.GO_TO_BIND_WECHAT,Facebook:v.Ju.GO_TO_BIND_FACEBOOK,Google:v.Ju.GO_TO_BIND_GOOGLE,Apple:v.Ju.GO_TO_BIND_APPLE},UNBIND:{Wechat:v.Ju.GO_TO_UNBIND_WECHAT,Facebook:v.Ju.GO_TO_UNBIND_FACEBOOK,Google:v.Ju.GO_TO_UNBIND_GOOGLE,Apple:v.Ju.GO_TO_UNBIND_APPLE}},nt={components:{acWechatQr:_.A,ProfileHeader:be,LoginSecurity:Ne,AccountBinding:qe,AccountCancel:Xe,SecurityCheck:Re},data:function(){return{isMobile:h.Fr,USAGE_TAG_VALUE:l.tU,avatar:"",isLandscape:!1,isLoading:!0,userInfo:{nickname:""},bindInfo:{canBindPhone:!1,canBindEmail:!0,maskRegisterPhone:"",maskEmail:"",active:!1},oauthBindInfo:[],wechatLoginData:null}},computed:et(et({},(0,u.L8)({nickname:d.A.common.getter.nickname,initData:d.A.common.getter.initData,showWechat:d.A.common.getter.wechatLoginVisible,lang:d.A.common.getter.lang})),{},{isMobileUnbindWechat:function(){return!this.getBindStatus("Wechat")&&this.isMobile&&this.showWechat},wechatBindQR:function(){var e;return(0,m.P3)("wechatLoginQR")||(null===(e=this.initData)||void 0===e||null===(e=e.customizedPageConfig)||void 0===e?void 0:e.wechatBindQR)},showWechatQr:function(){return"true"===this.$route.query.showWechatQr}}),methods:et(et({},(0,u.PY)({updateNextData:d.A.common.mutation.updateNextData})),{},{handleOrientationChange:function(){90===window.orientation||-90===window.orientation?this.isLandscape=this.isMobile:this.isLandscape=!1},checkOrientation:function(){var e=window.matchMedia("(orientation: landscape)");this.isLandscape=this.isMobile&&e.matches},fetchUserInfo:function(){var e=this;return(0,o.A)(s().mark(function t(){var n,i,a;return s().wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=1,p["default"].common.userInfo({bindInfo:!0,oauthBindInfo:!0,securePhoneBindInfo:!0});case 1:n=t.sent,null!==n&&void 0!==n&&n.data&&(e.userInfo={nickname:n.data.nickname||""},n.data.bindInfo&&(e.bindInfo=n.data.bindInfo),n.data.oauthBindInfo&&(e.oauthBindInfo=n.data.oauthBindInfo)),t.next=3;break;case 2:t.prev=2,a=t["catch"](0),i=a.code?e.$t("v2_error_code_".concat(a.code)):e.$t("v2_tips_off_line"),e.failNavigateHandle(i);case 3:return t.prev=3,e.isLoading=!1,t.finish(3);case 4:case"end":return t.stop()}},t,null,[[0,2,3,4]])}))()},getBindStatus:function(e){if(!Array.isArray(this.oauthBindInfo))return!1;var t=this.oauthBindInfo.find(function(t){return t.type===e});return!!t&&t.bind},failNavigateHandle:function(e){var t={title:e,callbackUrl:(0,f.hL)("login",document.URL)};this.updateNextData({nextData:t}),this.$router.push({path:"/fail",query:this.$route.query})},getWechatInfo:function(){var e=this;return(0,o.A)(s().mark(function t(){var n;return s().wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!e.showWechat||e.isMobileUnbindWechat){t.next=2;break}return t.next=1,p["default"].wechat.wxLoginInfo({actionType:"BIND",type:"Wechat"});case 1:n=t.sent,e.wechatLoginData=n.data,e.showWechatQr&&e.bindOauth("Wechat");case 2:case"end":return t.stop()}},t)}))()},slsReport:function(e,t){(0,v.Fl)({type:tt[e][t]})},handleOauthClick:function(e){var t=this;return(0,o.A)(s().mark(function n(){var i;return s().wrap(function(n){while(1)switch(n.prev=n.next){case 0:i=t.getBindStatus(e),i?t.unbindOauth(e):t.bindOauth(e);case 1:case"end":return n.stop()}},n)}))()},bindOauth:function(e){window.sessionStorage.setItem("accountOauthLinkType",e),this.slsReport("BIND",e),"Wechat"===e&&this.wechatLoginData&&this.wechatBindQR?this.$refs.wechatQR.show(this.wechatLoginData):window.location.href=(0,m.Qq)((0,f.dw)("oauth/auth/url","v2"),{type:e,backUrl:document.URL})},unbindOauth:function(e){this.$router.push({path:"Wechat"===e?"/account/oauth/unbind/wechat":"/account/verify",query:{oauthType:e,actionType:"unbind",backUrl:document.URL}}),this.slsReport("UNBIND",e)}}),watch:{initData:{handler:"fetchUserInfo",immediate:!0},showWechat:{handler:"getWechatInfo",immediate:!0}},mounted:function(){this.checkOrientation(),window.addEventListener("orientationchange",this.handleOrientationChange),window.addEventListener("resize",this.checkOrientation)},beforeDestroy:function(){window.removeEventListener("orientationchange",this.handleOrientationChange),window.removeEventListener("resize",this.checkOrientation)}},it=nt,at=(0,U.A)(it,i,a,!1,null,null,null),ot=at.exports},46058:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"account-security"},[e.showSecuritySwitch?n("security-switch",{ref:"securitySwitch",attrs:{off:e.twoStepVerification,loading:e.isLoading},on:{toVerify:e.toVerify}}):e._e(),e.showSecurityVerify?n("verify-account",{ref:"VerifyAccount",attrs:{type:e.codeType,mainTitle:e.$t(e.twoStepVerification?"v2_tips_close_two_step_verification":"v2_tips_enable_two_step_verification"),theme:"blue",confirmText:e.confirmBtnText,isConfirming:e.isLoading,isSendLoading:e.isSendLoading,moduleName:e.moduleName,errorCode:e.errorCode,errorMsg:e.errorMsg,count:e.count,maskInfo:e.maskInfo,code:e.code,captchaResult:e.captchaResult},on:{"update:code":function(t){e.code=t},"update:captchaResult":function(t){e.captchaResult=t},"update:captcha-result":function(t){e.captchaResult=t},send:e.handleSend,confirm:e.handleConfirm,resetErrorCode:e.resetErrorCode}}):e._e()],1)},a=[],o=n(23219),r=n(13667),c=n(52072),s=n.n(c),l=n(26066),u=n(74949),d=n(37151),h=n(88333),p=n(31272),f=n(24450),m=n(43435),v=n(78012),_=n(51501),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("card-container",{staticClass:"security-switch",attrs:{mainTitle:e.$t("v2_title_account_security"),descriptons:e.$t("v2_tips_two_step_Verification"),confirmText:e.$t(e.off?"v2_tips_close_two_step_verification":"v2_tips_enable_two_step_verification"),theme:"blue",isConfirming:e.loading},on:{confirm:e.handleNext}},[e.off?n("div",{staticClass:"ac-error-container text-left",staticStyle:{"padding-top":"0"}},[n("ac-alert",{attrs:{iconName:"lock",type:"success"}},[e._v(" "+e._s(e.$t("v2_weapp_two_step_verification_enable_hint"))+" ")])],1):e._e()])},y=[],b=n(32368),w=n(85085),C={name:"security-switch",props:{loading:Boolean,off:{type:Boolean}},mixins:[],data:function(){return{}},computed:{},methods:{handleNext:function(){this.$emit("toVerify")}},watch:{},components:{acAlert:w.A,CardContainer:b.A}},A=C,k=n(7358),T=(0,k.A)(A,g,y,!1,null,null,null),E=T.exports;function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var N={SecuritySwitch:"SECURITY_SWITCH",SecurityVerify:"SECURITY_VERIFY"},x={name:"account-security",mixins:[],data:function(){return{activeName:"",confirmBtnText:this.$t("v2_tips_confirm"),isLoading:!1,isSendLoading:!1,errorCode:"",errorMsg:"",captchaResult:null,twoStepVerification:!1,codeType:"email",maskInfo:"",count:0,interval:null,code:"",result:null}},computed:{isEmailValidation:function(){return"email"===this.codeType},moduleName:function(){return this.isEmailValidation?v.Sn.TWO_STEP_VERIFICATION_EMAIL:v.Sn.TWO_STEP_VERIFICATION_SMS},emailType:function(){return f.O.TWO_VERIFICATION},smsType:function(){return m.i.TWO_VERIFICATION},showSecuritySwitch:function(){return this.activeName===N.SecuritySwitch},showSecurityVerify:function(){return this.activeName===N.SecurityVerify}},mounted:function(){this.fetchAccountProfiles()},methods:S(S(S({},(0,u.PY)({updateNextData:d.A.common.mutation.updateNextData,setShowCaptcha:d.A.captcha.mutation.setShow})),(0,u.i0)({getParamWithTicket:d.A.captcha.action.getParamWithTicket})),{},{next:function(e){var t=this;return(0,o.A)(s().mark(function n(){return s().wrap(function(n){while(1)switch(n.prev=n.next){case 0:document.documentElement.scrollTop=0,e||(t.isLoading=!1,t.isSendLoading=!1,t.resetErrorCode(),t.count=0,window.clearInterval(t.interval),t.activeName=N.SecuritySwitch),"verify"===e&&(t.activeName=N.SecurityVerify),"done"===e&&t.successNavigateHandle();case 1:case"end":return n.stop()}},n)}))()},toVerify:function(){var e=this;return(0,o.A)(s().mark(function t(){var n,i,a,o;return s().wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,e.resetErrorCode(),t.next=1,e.fetchBindingInfo();case 1:n=t.sent,i=n.data,i.canBindPhone&&(e.maskInfo=i.maskEmail),!i.canBindPhone&&i.maskRegisterPhone&&(e.codeType="sms",e.maskInfo=i.maskRegisterPhone),e.next("verify"),t.next=3;break;case 2:t.prev=2,o=t["catch"](0),a="",o&&o.data&&!o.data.canBindPhone&&!o.data.maskRegisterPhone&&(a=e.$t("v2_error_code_556")),a=0===o.code?e.$t("v2_error_code_".concat(o.code)):e.$t("v2_tips_off_line"),e.failNavigateHandle(a);case 3:return t.prev=3,e.isLoading=!1,t.finish(3);case 4:case"end":return t.stop()}},t,null,[[0,2,3,4]])}))()},handleSend:function(e){var t=this;return(0,o.A)(s().mark(function n(){var i;return s().wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,t.isSendLoading=!0,t.resetErrorCode(),n.next=1,t.fetchCodeSend();case 1:t.startTiming(),null!==e&&void 0!==e&&e.success&&e.success(),n.next=3;break;case 2:n.prev=2,i=n["catch"](0),t.errorCodeHandle(i),null!==e&&void 0!==e&&e.error&&e.error(i);case 3:return n.prev=3,t.isSendLoading=!1,null!==e&&void 0!==e&&e["finally"]&&e["finally"](),n.finish(3);case 4:case"end":return n.stop()}},n,null,[[0,2,3,4]])}))()},handleConfirm:function(e){var t=this;return(0,o.A)(s().mark(function n(){var i;return s().wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,t.isLoading=!0,t.resetErrorCode(),t.confirmBtnText=t.$t("v2_tips_confirming"),n.next=1,t.fetchCheckCode();case 1:t.twoStepVerification=!t.twoStepVerification,t.next("done"),null!==e&&void 0!==e&&e.success&&e.success(),n.next=3;break;case 2:n.prev=2,i=n["catch"](0),t.errorCodeHandle(i),null!==e&&void 0!==e&&e.error&&e.error(i);case 3:return n.prev=3,t.isLoading=!1,t.confirmBtnText=t.$t("v2_tips_confirm"),null!==e&&void 0!==e&&e["finally"]&&e["finally"](),n.finish(3);case 4:case"end":return n.stop()}},n,null,[[0,2,3,4]])}))()},startTiming:function(){var e=this;this.count=60,this.interval&&window.clearInterval(this.interval),this.interval=window.setInterval(function(){e.count--,e.count<=0&&(window.clearInterval(e.interval),e.interval=null)},1e3)},fetchAccountProfiles:function(){var e=this;return(0,o.A)(s().mark(function t(){var n,i,a;return s().wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=1,h["default"].account.getAccountProfiles();case 1:n=t.sent,e.twoStepVerification=n.data.twoStepVerification,e.next(),t.next=3;break;case 2:t.prev=2,a=t["catch"](0),i=a.code?e.$t("v2_error_code_".concat(a.code)):e.$t("v2_tips_off_line"),e.failNavigateHandle(i);case 3:return t.prev=3,e.isLoading=!1,t.finish(3);case 4:case"end":return t.stop()}},t,null,[[0,2,3,4]])}))()},fetchBindingInfo:function(){var e=this;return(0,o.A)(s().mark(function t(){var n,i,a;return s().wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=1,h["default"].common.getBindingInfo();case 1:if(n=t.sent,n.data.canBindPhone||n.data.maskRegisterPhone){t.next=2;break}throw n;case 2:return t.abrupt("return",n);case 3:throw t.prev=3,a=t["catch"](0),i=a.code?e.$t("v2_error_code_".concat(a.code)):e.$t("v2_tips_off_line"),e.failNavigateHandle(i),a;case 4:case"end":return t.stop()}},t,null,[[0,3]])}))()},fetchCodeSend:function(){var e=this;return(0,o.A)(s().mark(function t(){var n,i,a,o,r,c,l,u;return s().wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=e.isEmailValidation?{emailType:e.emailType}:{smsType:e.smsType},t.next=1,e.getParamWithTicket({moduleName:e.moduleName,param:a,result:e.captchaResult});case 1:return o=t.sent,null===(n=e.$ga)||void 0===n||n.event("2-verification btn","Click","".concat((0,p.R7)()," send code to ").concat(e.isEmailValidation?"email":"phone")),r=e.isEmailValidation?h["default"].webBinding.sendValidateEmail(o):h["default"].account.sendValidationSms(o),t.next=2,r;case 2:return c=t.sent,null===(i=e.$ga)||void 0===i||i.event("2-verification btn","Click","".concat((0,p.R7)()," send code to ").concat(e.isEmailValidation?"email":"phone"," success")),t.abrupt("return",c);case 3:throw t.prev=3,u=t["catch"](0),null===(l=e.$ga)||void 0===l||l.event("2-verification btn","Click","".concat((0,p.R7)()," send code to ").concat(e.isEmailValidation?"email":"phone"," error ").concat(u.code)),u;case 4:case"end":return t.stop()}},t,null,[[0,3]])}))()},fetchCheckCode:function(){var e=this;return(0,o.A)(s().mark(function t(){var n,i,a,o,r;return s().wrap(function(t){while(1)switch(t.prev=t.next){case 0:return null===(n=e.$ga)||void 0===n||n.event("2-verification btn","Click","".concat((0,p.R7)()," send code to ").concat(e.isEmailValidation?"email":"phone")),t.prev=1,t.next=2,h["default"].account.setAccountProfiles({code:e.code,codeType:e.codeType,twoStepVerification:!e.twoStepVerification});case 2:return a=t.sent,null===(i=e.$ga)||void 0===i||i.event("2-verification btn","Click","".concat((0,p.R7)()," send code to ").concat(e.isEmailValidation?"email":"phone"," success")),t.abrupt("return",a);case 3:throw t.prev=3,r=t["catch"](1),null===(o=e.$ga)||void 0===o||o.event("2-verification btn","Click","".concat((0,p.R7)()," send code to ").concat(e.isEmailValidation?"email":"phone"," error ").concat(r.code)),r;case 4:case"end":return t.stop()}},t,null,[[1,3]])}))()},successNavigateHandle:function(){var e={title:this.twoStepVerification?this.$t("v2_tips_two_step_verification_enabled"):this.$t("v2_tips_two_step_verification_closed"),btnName:this.$t("v2_btn_done"),callbackUrl:"/account/security"};this.updateNextData({nextData:e}),this.$router.push({path:"/account/success",query:this.$route.query})},failNavigateHandle:function(e){var t={title:e,callbackUrl:(0,p.hL)("login",document.URL)};this.updateNextData({nextData:t}),this.$router.push({path:"/fail",query:this.$route.query})},resetCaptcha:function(){this.showSecurityVerify&&this.$refs.VerifyAccount&&this.$refs.VerifyAccount.resetCaptcha()},resetErrorCode:function(){this.errorCode="",this.errorMsg=""},errorCodeHandle:function(e){if(e.code){var t=e.code;556===e.code&&(t=505),_.f9.includes(t)?(this.setShowCaptcha({moduleName:this.moduleName,show:!0}),this.resetCaptcha()):this.errorMsg=this.$t("v2_error_code_".concat(t)),this.errorCode=t,_.Fj.includes(t)&&this.failNavigateHandle(this.$t("v2_error_code_".concat(t)))}else this.errorMsg=this.$t("v2_tips_off_line")}}),beforeRouteEnter:function(e,t,n){n(function(e){document.title="".concat(e.$t("v2_common_system_title")," | ").concat(e.$t("v2_title_account_security"))})},components:{VerifyAccount:l.A,SecuritySwitch:E}},P=x,I=(0,k.A)(P,i,a,!1,null,null,null),L=I.exports},47560:function(e,t,n){"use strict";n.r(t);var i=n(50727),a=n(31272);t["default"]={bindingEmail:function(e){return i.A.post((0,a.dw)("bindEmail.do"),e)},bindingPhone:function(e){return i.A.post((0,a.dw)("bindPhone.do"),e)},sendBindingEmail:function(e){return i.A.post((0,a.dw)("sendBindEmail.do"),e)},sendChangeCheckEmail:function(e){return i.A.post((0,a.dw)("sendChangeCheckEmail.do"),e)},checkEmailBindUrl:function(e){return i.A.post((0,a.dw)("checkEmailBindUrl.do"),e)},sendBingPhoneCheckEmail:function(e){return i.A.post((0,a.dw)("sendCheckEmail.do"),e)},checkBindPhoneUrl:function(e){return i.A.post((0,a.dw)("checkBindPhoneUrl.do"),e)},checkChangeCheckEmail:function(e){return i.A.post((0,a.dw)("checkChangeCheckEmail.do"),e)},sendChangeEmail:function(e){return i.A.post((0,a.dw)("sendChangeEmail.do"),e)},changeEmail:function(e){return i.A.post((0,a.dw)("changeEmail.do"),e)},changePhone:function(e){return i.A.post((0,a.dw)("changePhone.do"),e)}}},50876:function(e,t,n){"use strict";n.r(t);var i=n(50727),a=n(31272);t["default"]={register:function(e){return i.A.post((0,a.dw)("register.do"),e)},checkAccountExist:function(e){return i.A.post((0,a.dw)("checkAccountExist.do"),e)},active:function(e){return i.A.post((0,a.dw)("active.do"),e)},sendEmailCode:function(e){return i.A.post((0,a.dw)("register/sendEmailCode.do"),e)},checkEmailCode:function(e){return i.A.post((0,a.dw)("register/checkEmailCode.do"),e)}}},51840:function(e,t,n){"use strict";n.r(t);var i=n(50727),a=n(31272);t["default"]={getSubscriptionResult:function(e){return i.A.post((0,a.dw)("subscription/subscribe","v2"),e)}}},56090:function(e,t,n){"use strict";var i=n(23219),a=n(52072),o=n.n(a),r=n(51501);t.A={name:"InvisibleCaptchaMixins",data:function(){return{invisibleToken:""}},methods:{getInvisibleCaptchaToken:function(){var e=this;return(0,i.A)(o().mark(function t(){var n,i,a,c;return o().wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.captcha||!e.$refs.captcha.$refs.googleV3){t.next=5;break}if(t.prev=1,n=e.$refs.captcha.$refs.googleV3.getToken(),!n){t.next=2;break}return t.abrupt("return",n);case 2:throw i=new Error("V3 token not ready"),i.code=r.eJ,i;case 3:if(t.prev=3,c=t["catch"](1),c.code!==r.eJ){t.next=4;break}throw c;case 4:throw a=new Error("Failed to get V3 token"),a.code=r.eJ,a;case 5:return t.abrupt("return","");case 6:case"end":return t.stop()}},t,null,[[1,3]])}))()}}}},60100:function(e,t,n){"use strict";var i=n(50433),a=n(85593),o=n(9285),r=n(68555),c=n(47112),s=n(74747),l=n(71851),u=n(11660);i.A.use(a.A);var d=[{path:"/",component:o.A,children:[{path:"",redirect:"/login"},{path:"login",meta:{title:"Login"},component:s.A},{path:"register",meta:{title:"Register"},component:function(){return Promise.all([n.e(49),n.e(840),n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,2288))}},{path:"resetPasswd",alias:["reset","user/resetPasswd"],meta:{title:"reset Passwd"},component:function(){return Promise.all([n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,92614))}},{path:"success",alias:["login/success","registerSuccess","resetpasswd/success","reset/success","modify/success","modifyPasswd/success"],meta:{title:"Success",isMobileShortHack:!0},component:function(){return Promise.all([n.e(49),n.e(840),n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,88421))}},{path:"verification",component:function(){return Promise.all([n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,93896))}},{path:"middleware",meta:{title:"Third-party login"},component:function(){return Promise.all([n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,80294))}},{path:"/apple/binding/email",component:function(){return Promise.all([n.e(49),n.e(840),n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,27179))}},{path:"/weapp/binding",alias:["/wechat/binding","wechat-official/binding"],meta:{isMobileHideBannerImages:!0},component:function(){return Promise.all([n.e(49),n.e(840),n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,75263))}},{path:"/weapp/binding/phone",alias:["/wechat/binding/phone","/wechat-official/binding/phone"],meta:{keepAlive:!0,isMobileHideBannerImages:!0},component:function(){return Promise.all([n.e(49),n.e(840),n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,97518))}},{path:"/weapp/binding/email",alias:["/wechat/binding/email","/wechat-official/binding/email"],meta:{keepAlive:!0,isMobileHideBannerImages:!0},component:function(){return Promise.all([n.e(49),n.e(840),n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,75827))}},{path:"/weapp/binding/autocreate",alias:["/wechat/binding/autocreate","/wechat-official/binding/autocreate"],meta:{isMobileHideBannerImages:!0},component:function(){return Promise.all([n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,11284))}},{path:"login/oauth",meta:{title:"Login",isMobileHideBannerImages:!0},component:function(){return Promise.all([n.e(49),n.e(840),n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,96705))}}]},{path:"/",component:r.A,children:[{path:"modify",alias:"modifyPasswd",meta:{title:"modify Passwd"},component:function(){return Promise.all([n.e(49),n.e(840),n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,18558))}},{path:"nickname",meta:{title:"edit nickname"},component:function(){return Promise.all([n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,90965))}},{path:"approval",component:function(){return Promise.all([n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,70325))},redirect:void 0}]},{path:"/account",component:c.A,children:[{path:"",redirect:"/account/profile",meta:{title:"Account"}},{path:"info",redirect:"/account/profile",meta:{title:"Account"}},{path:"oauth",redirect:"/account/profile",meta:{title:"Account"}},{path:"profile",meta:{title:"Account"},component:function(){return Promise.all([n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,45996))}}]},{path:"/account",component:r.A,children:[{path:"verify",component:function(){return Promise.all([n.e(49),n.e(840),n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,63430))}},{path:"security",alias:"accountSecurity",meta:{title:"Account Security"},component:function(){return Promise.all([n.e(49),n.e(840),n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,46058))}},{path:"oauth/unbind/wechat",component:function(){return Promise.all([n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,49164))}},{path:":type/unbind/phone",meta:{keepAlive:!0},component:function(){return Promise.all([n.e(49),n.e(840),n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,90134))}},{path:":type/unbind/email",meta:{keepAlive:!0},component:function(){return Promise.all([n.e(49),n.e(840),n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,92921))}},{path:"userCancel",component:function(){return Promise.all([n.e(49),n.e(840),n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,6003))}},{path:"policy",component:function(){return Promise.all([n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,33188))}},{path:"success",alias:["nickname/success"],meta:{title:"Account Success"},component:function(){return Promise.all([n.e(49),n.e(840),n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,40207))}},{path:"fail",meta:{title:"AccountFail"},component:function(){return Promise.all([n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,39013))}}]},{path:"/binding",component:r.A,children:[{path:"phone",component:function(){return Promise.all([n.e(49),n.e(840),n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,57446))}},{path:"phone/modification",component:function(){return Promise.all([n.e(49),n.e(840),n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,73339))}},{path:"email",component:function(){return Promise.all([n.e(49),n.e(840),n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,4213))}},{path:"email/modification",component:function(){return Promise.all([n.e(49),n.e(840),n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,92701))}},{path:"securityPhone",meta:{title:"bind Security Phone"},component:function(){return Promise.all([n.e(49),n.e(840),n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,32594))}},{path:"securityPhone/modification",component:function(){return Promise.all([n.e(49),n.e(840),n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,60730))}}]},{path:"/subscription",component:function(){return Promise.all([n.e(49),n.e(840),n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,24906))}},{path:"/redirect",meta:{title:"Redirect"},component:u.A},{path:"/account/oauth/callback",meta:{title:"callback"},component:function(){return Promise.all([n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,44143))}},{path:"/logout",meta:{title:"Logout"},component:function(){return Promise.all([n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,93235))}},{path:"/404",meta:{title:"404 Not Found"},component:function(){return Promise.all([n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,8972))}},{path:"/fail",alias:["/login/fail","/register/fail","/resetpasswd/fail","/modifypassswd/fail"],meta:{title:"Fail"},component:l.A},{path:"*",meta:{title:"404 Not Found"},component:function(){return Promise.all([n.e(513),n.e(30),n.e(266),n.e(619),n.e(853),n.e(776)]).then(n.bind(n,8972))}}],h=new a.A({mode:"history",linkActiveClass:"active",scrollBehavior:function(){return{y:0}},routes:d});t.A=h},63430:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"oauth-binding"},[""===e.activeName?n("verify-account-skeleton"):e._e(),"VERIFY_ACCOUNT"===e.activeName?n("verify-account",{ref:"VerifyAccount",attrs:{type:e.verifyAccountType,mainTitle:"sms"===e.verifyAccountType?e.$t("v2_tips_verify_binding_phone"):e.$t("v2_title_verify_binding_email"),serviceTips:e.$t("v2_tips_need_help").replace("{0}",""),showServiceLinks:"",isLogin:"",isConfirming:e.isLoading,loading:e.isLoading,isSendLoading:e.isSendLoading,moduleName:e.moduleName,errorCode:e.errorCode,errorMsg:e.errorMsg,count:e.count,maskInfo:e.maskInfo,code:e.code,captchaResult:e.captchaResult,confirmType:e.isUnbind?"danger":"primary",confirmText:e.confirmText,btnAcLabel:e.accountVerifyBtnUsage,sendBtnAclabel:e.accountVerifySendBtnUsage},on:{"update:code":function(t){e.code=t},"update:captchaResult":function(t){e.captchaResult=t},"update:captcha-result":function(t){e.captchaResult=t},send:e.handleVerifySend,confirm:e.handleVerify,resetErrorCode:e.resetErrorCode,sendTextChange:e.handleSendBtnTextChange}},[e.switchVerifyText?n("div",{staticClass:"mt-6 text-center",attrs:{slot:"bottom"},slot:"bottom"},[n("ac-link",{attrs:{type:"primary",acLabel:e.USAGE_TAG_VALUE.ACCOUNT_BIND_THIRD_PARTY_CHANGE_VERIFY},on:{click:e.handleGoToSwitchVerify}},[e._v(" "+e._s(e.switchVerifyText)+" ")])],1):e._e()]):e._e(),"ACCOUNT_WARNING"===e.activeName?n("ac-unbound-waring",{attrs:{unboundBtnUsage:e.USAGE_TAG_VALUE.ACCOUNT_CONFIRM_UNBIND_THIRD_PARTY},on:{confirm:e.handleNext}}):e._e()],1)},a=[],o=n(56129),r=n(23219),c=n(13667),s=n(52072),l=n.n(s),u=n(29877),d=n(26066),h=n(95441),p=n(87728),f=n(74949),m=n(37151),v=n(31272),_=n(40445),g=n(88333),y=n(46918),b=n(78012),w=n(43435),C=n(24450),A=n(51501),k=n(20991),T=n(40759),E=n(3372),O=n(3901),S=n(72409),N=n(11579),x={UNBIND:{email:{send:T.tU.ACCOUNT_UNBIND_THIRD_PARTY_SEND_EMAIL,submit:T.tU.ACCOUNT_UNBIND_THIRD_PARTY_SUBMIT_EMAIL},sms:{send:T.tU.ACCOUNT_UNBIND_THIRD_PARTY_SEND_SMS,submit:T.tU.ACCOUNT_UNBIND_THIRD_PARTY_SUBMIT_SMS}},BIND:{email:{send:T.tU.ACCOUNT_BIND_THIRD_PARTY_SEND_EMAIL,submit:T.tU.ACCOUNT_BIND_THIRD_PARTY_SUBMIT_EMAIL},sms:{send:T.tU.ACCOUNT_BIND_THIRD_PARTY_SEND_SMS,submit:T.tU.ACCOUNT_BIND_THIRD_PARTY_SUBMIT_SMS}}};function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){(0,c.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var L={BIND:{Wechat:O.u_.BIND_WECHAT,Facebook:O.u_.BIND_FACEBOOK,Google:O.u_.BIND_GOOGLE},UNBIND:{Wechat:O.u_.UNBIND_WECHAT,Facebook:O.u_.UNBIND_FACEBOOK,Google:O.u_.UNBIND_GOOGLE}},D={name:"OAuth-binding",mixins:[],props:{},data:function(){return{activeName:"",isMobile:y.Fr,emailType:C.O.WEB_VALIDATE_EMAIL,smsType:w.i.WEB_VALIDATE_PHONE,inited:!1,phone:"",email:"",areaCode:"86",code:"",verifySendButtonText:"",captchaResult:null,ticket:null,oauthTicket:this.$route.query.oauthTicket,count:0,interval:null,isSendLoading:!1,isLoading:!1,errorMsg:null,errorCode:null,USAGE_TAG_VALUE:T.tU,BIND_UNBIND_USAGE_OBJECT:x}},computed:I(I({},(0,f.L8)({initData:m.A.common.getter.initData,nextData:m.A.common.getter.nextData,lang:m.A.common.getter.lang})),{},{oauthType:function(){return this.$route.query.oauthType},queryActionType:function(){return this.$route.query.actionType},isBinding:function(){return"binding"===this.queryActionType},isUnbind:function(){return"unbind"===this.queryActionType},verifyAccountType:function(){var e=this.$route.query.verifyAccountType;return e&&["sms","email"].includes(e)?e:"zh_CN"===this.lang&&this.phone?"sms":"email"},isOAuth:function(){return k.QW.includes(this.oauthType)},moduleName:function(){return"email"===this.verifyAccountType?b.Sn.WEB_VALIDATE_EMAIL:b.Sn.WEB_VALIDATE_COMMON},maskInfo:function(){return"email"===this.verifyAccountType?this.email:this.phone},switchVerifyText:function(){if("zh_CN"===this.lang){if("email"===this.verifyAccountType&&this.phone)return this.$t("v2_weapp_valid_to_phone");if("sms"===this.verifyAccountType&&this.email)return this.$t("v2_weapp_valid_to_email")}return null},oauthTypeText:function(){return"Wechat"===this.oauthType?this.$t("v2_tips_wechat"):this.oauthType},confirmText:function(){return this.isBinding?this.$t("v2_btn_account_bindling"):this.isUnbind?this.$t("v2_btn_account_unbindling"):null},currentOperation:function(){return this.isBinding?"BIND":this.isUnbind?"UNBIND":"UNKNOW"},accountVerifyBtnUsage:function(){try{return this.isOAuth?x[this.currentOperation][this.verifyAccountType].submit:void 0}catch(e){return}},accountVerifySendBtnUsage:function(){try{return this.isOAuth?x[this.currentOperation][this.verifyAccountType].send:void 0}catch(e){return}}}),methods:I(I(I({},(0,f.PY)({updateNextData:m.A.common.mutation.updateNextData,setShowCaptcha:m.A.captcha.mutation.setShow})),(0,f.i0)({getParamWithTicket:m.A.captcha.action.getParamWithTicket})),{},{slsReport:function(e,t){(0,O.Zk)({type:L[e][t]})},resetData:function(){var e;null===(e=this.$refs)||void 0===e||null===(e=e.VerifyAccount)||void 0===e||e.resetValue(),this.resetErrorCode(),this.isLoading=!1,this.isSendLoading=!1,this.count=0,this.areaCode=86,this.code="",this.captchaResult=null,this.verifyButtonText=this.$t("v2_weapp_write_off_verify_submit"),window.clearInterval(this.interval)},handleVerifySend:function(e){var t=this;return(0,r.A)(l().mark(function n(){var i,a,o,r,c,s,u,d,h,p;return l().wrap(function(n){while(1)switch(n.prev=n.next){case 0:return i="sms"===t.verifyAccountType,a=i?"phone":"email",n.prev=1,t.isSendLoading=!0,c=i?{smsType:t.smsType}:{emailType:t.emailType},t.resetErrorCode(),null===(o=t.$ga)||void 0===o||o.event("accountVerify btn","Click","".concat((0,v.R7)()," send code to ").concat(a)),n.next=2,t.getParamWithTicket({moduleName:t.moduleName,param:c,result:t.captchaResult});case 2:return s=n.sent,u=i?g["default"].account.sendValidationSms(s):g["default"].webBinding.sendValidateEmail(s),(0,S.XP)(S.j9.STEP_1,{path:i?N.Lq.SMS_VALIDATION_SEND:N.Lq.EMAIL_VALIDATION_SEND,scene:i?N.Nd.THIRD_PARTY_UNBIND_SMS:N.Nd.THIRD_PARTY_UNBIND_EMAIL,operationalType:i?S.xe.SEND_SMS:S.xe.SEND_EMAIL}),n.next=3,u;case 3:d=n.sent,(0,S.XP)(S.j9.STEP_4,{path:i?N.Lq.SMS_VALIDATION_SEND:N.Lq.EMAIL_VALIDATION_SEND,scene:i?N.Nd.THIRD_PARTY_UNBIND_SMS:N.Nd.THIRD_PARTY_UNBIND_EMAIL,operationalType:i?S.xe.SEND_SMS:S.xe.SEND_EMAIL}),t.startTiming(),null===(r=t.$ga)||void 0===r||r.event("accountVerify btn","Click","".concat((0,v.R7)()," send code to ").concat(a," success")),t.accountVerifySendBtnUsage&&(0,E.HF)(t.accountVerifySendBtnUsage,t.verifySendButtonText||t.$t("v2_btn_sendBtn")),null!==e&&void 0!==e&&e.success&&(null===e||void 0===e||e.success(d)),n.next=5;break;case 4:n.prev=4,p=n["catch"](1),null===(h=t.$ga)||void 0===h||h.event("accountVerify btn","Click","".concat((0,v.R7)()," send code to  ").concat(a," error ").concat(p.code)),t.errorCodeHandle(p),t.accountVerifySendBtnUsage&&(0,E.HF)(t.accountVerifySendBtnUsage,t.verifySendButtonText||t.$t("v2_btn_sendBtn"),(null===p||void 0===p?void 0:p.code)||A.Sc),null!==e&&void 0!==e&&e.error&&(null===e||void 0===e||e.error(p));case 5:return n.prev=5,t.isSendLoading=!1,null!==e&&void 0!==e&&e["finally"]&&(null===e||void 0===e||e["finally"]()),n.finish(5);case 6:case"end":return n.stop()}},n,null,[[1,4,5,6]])}))()},handleVerify:function(e){var t=this;return(0,r.A)(l().mark(function n(){var i,a,o,r,c,s,u,d,h;return l().wrap(function(n){while(1)switch(n.prev=n.next){case 0:return i="sms"===t.verifyAccountType,a=i?"phone":"email",n.prev=1,t.isLoading=!0,t.resetErrorCode(),c=i?{codeType:t.verifyAccountType,smsCode:t.code}:{codeType:t.verifyAccountType,EmailCode:t.code},s=i?g["default"].account.phoneValidation(c):g["default"].webBinding.validateEmail(c),null===(o=t.$ga)||void 0===o||o.event("accountVerify btn","Click","".concat((0,v.R7)()," check code to ").concat(a)),(0,S.XP)(S.j9.STEP_6,{path:i?N.Lq.PHONE_VALIDATION:N.Lq.EMAIL_VALIDATION,scene:i?N.Nd.THIRD_PARTY_UNBIND_SMS:N.Nd.THIRD_PARTY_UNBIND_EMAIL,operationalType:i?S.xe.SEND_SMS:S.xe.SEND_EMAIL}),n.next=2,s;case 2:return u=n.sent,(0,S.kL)(),t.validateTicket=i?u.data.phoneValidateTicket:u.data.emailValidateTicket,null===(r=t.$ga)||void 0===r||r.event("accountVerify btn","Click","".concat((0,v.R7)()," check code to ").concat(a," success")),n.next=3,t.handleVerifyNext();case 3:null!==e&&void 0!==e&&e.success&&e.success(u),n.next=5;break;case 4:n.prev=4,h=n["catch"](1),null===(d=t.$ga)||void 0===d||d.event("accountVerify btn","Click","".concat((0,v.R7)()," check code to ").concat(a," error ").concat(h.code)),t.errorCodeHandle(h),t.accountVerifyBtnUsage&&(0,E.HF)(t.accountVerifyBtnUsage,t.confirmText,(null===h||void 0===h?void 0:h.code)||A.Sc),null!==e&&void 0!==e&&e.error&&e.error(h);case 5:return n.prev=5,t.isLoading=!1,null!==e&&void 0!==e&&e["finally"]&&e["finally"](),n.finish(5);case 6:case"end":return n.stop()}},n,null,[[1,4,5,6]])}))()},handleVerifyNext:function(){var e=this;return(0,r.A)(l().mark(function t(){var n,i,a,o;return l().wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isOAuth){t.next=3;break}if(!e.isBinding){t.next=1;break}return t.next=1,e.fetchOauthBinding();case 1:if(!e.isUnbind){t.next=2;break}return t.next=2,e.fetchOauthUnbind();case 2:t.next=4;break;case 3:a=(null===(n=e.nextData)||void 0===n?void 0:n.title)||e.$t("v2_tips_phone_valid_success"),o={title:a,redirectBtnText:(null===(i=e.nextData)||void 0===i?void 0:i.redirectBtnText)||e.$t("v2_btn_done"),callbackUrl:(0,v.TP)()},e.successNavigateHandle(o);case 4:case"end":return t.stop()}},t)}))()},fetchOauthBinding:function(){var e=this;return(0,r.A)(l().mark(function t(){var n,i,a,o,r,c,s,u;return l().wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n="sms"===e.verifyAccountType,i=n?"phone":"email",t.prev=1,r={oauthTicket:e.oauthTicket,validateType:i,validateTicket:e.validateTicket},null===(a=e.$ga)||void 0===a||a.event("accountVerify btn","Click","".concat((0,v.R7)()," ").concat(e.oauthType," binding ").concat(i)),t.next=2,g["default"].wechat.oauthBinding(r);case 2:null===(o=e.$ga)||void 0===o||o.event("accountVerify btn","Click","".concat((0,v.R7)()," ").concat(e.oauthType," binding ").concat(i," success")),e.slsReport("BIND",e.oauthType),e.accountVerifyBtnUsage&&(0,E.HF)(e.accountVerifyBtnUsage,e.confirmText),c={title:e.$t("v2_tips_binding_facebook_success").replace("%@",e.oauthTypeText),subTitle:e.$t("v2_tips_binding_facebook_login_text").replace("%@",e.oauthTypeText),redirectBtnText:e.$t("v2_btn_done"),callbackUrl:(0,v.TP)()},e.successNavigateHandle(c),t.next=4;break;case 3:t.prev=3,u=t["catch"](1),null===(s=e.$ga)||void 0===s||s.event("accountVerify btn","Click","".concat((0,v.R7)()," ").concat(e.oauthType," binding ").concat(i," error ").concat(u.code)),e.accountVerifyBtnUsage&&(0,E.HF)(e.accountVerifyBtnUsage,e.confirmText,(null===u||void 0===u?void 0:u.code)||A.Sc),e.oauthErrorCodeHandle(u);case 4:case"end":return t.stop()}},t,null,[[1,3]])}))()},fetchOauthUnbind:function(){var e=this;return(0,r.A)(l().mark(function t(){var n,i,a,o,r,c,s,u;return l().wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n="sms"===e.verifyAccountType,i=n?"phone":"email",t.prev=1,r={oauthType:e.oauthType,validateType:i,validateTicket:e.validateTicket},null===(a=e.$ga)||void 0===a||a.event("accountVerify btn","Click","".concat((0,v.R7)()," ").concat(e.oauthType," unbind ").concat(i)),t.next=2,g["default"].wechat.oauthUnbind(r);case 2:null===(o=e.$ga)||void 0===o||o.event("accountVerify btn","Click","".concat((0,v.R7)()," ").concat(e.oauthType," unbind ").concat(i," success")),e.slsReport("UNBIND",e.oauthType),e.accountVerifyBtnUsage&&(0,E.HF)(e.accountVerifyBtnUsage,e.confirmText),c={title:e.$t("v2_tips_unbinding_facebook_success").replace("%@",e.oauthTypeText),redirectBtnText:e.$t("v2_btn_done"),callbackUrl:(0,v.TP)()},e.successNavigateHandle(c),t.next=4;break;case 3:t.prev=3,u=t["catch"](1),null===(s=e.$ga)||void 0===s||s.event("accountVerify btn","Click","".concat((0,v.R7)()," ").concat(e.oauthType," unbind ").concat(i," error ").concat(u.code)),e.accountVerifyBtnUsage&&(0,E.HF)(e.accountVerifyBtnUsage,e.confirmText,(null===u||void 0===u?void 0:u.code)||A.Sc),e.oauthErrorCodeHandle(u);case 4:case"end":return t.stop()}},t,null,[[1,3]])}))()},handleGoToSwitchVerify:function(){this.resetData();var e="sms"===this.verifyAccountType?"email":"sms";this.$router.replace({path:"/account/verify",query:I(I({},this.$route.query),{},{verifyAccountType:e})})},handleNext:function(){this.activeName="VERIFY_ACCOUNT"},fetchUserInfo:function(){var e=this;return(0,r.A)(l().mark(function t(){var n,i,a;return l().wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=1,g["default"].common.getBindingInfo();case 1:if(n=t.sent,!e.isOAuth||!e.isBinding){t.next=3;break}return t.next=2,e.fetchOauthBinds();case 2:if(i=t.sent,i[e.oauthType]!==e.isBinding){t.next=3;break}return window.location.href=_.yJ,t.abrupt("return");case 3:e.phone=n.data.maskRegisterPhone,e.email=n.data.maskEmail,e.isUnbind?e.activeName="ACCOUNT_WARNING":e.activeName="VERIFY_ACCOUNT",e.inited=!0,t.next=5;break;case 4:t.prev=4,a=t["catch"](0),e.failNavigateHandle(a.code?e.$t("v2_error_code_".concat(a.code)):"");case 5:case"end":return t.stop()}},t,null,[[0,4]])}))()},fetchOauthBinds:function(){return(0,r.A)(l().mark(function e(){var t,n;return l().wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={},e.next=1,g["default"].wechat.oauthBinds();case 1:return n=e.sent,null===n||void 0===n||n.data.forEach(function(e){t[e.type]=e.bind}),e.abrupt("return",t);case 2:case"end":return e.stop()}},e)}))()},startTiming:function(e){var t=this;this.count=60,this.interval&&window.clearInterval(this.interval),this.interval=window.setInterval(function(){t.count--,t.count<=0&&(window.clearInterval(t.interval),t.interval=null,e&&e())},1e3)},resetCaptcha:function(){var e;this.captchaResult=null,null===(e=this.$refs)||void 0===e||null===(e=e.VerifyAccount)||void 0===e||e.resetCaptcha()},resetErrorCode:function(){this.errorCode="",this.errorMsg=""},successNavigateHandle:function(e){this.updateNextData({nextData:e}),this.$router.push({path:"/account/success",query:this.$route.query})},oauthErrorCodeHandle:function(e){return null!==e&&void 0!==e&&e.code&&[].concat((0,o.A)(A.Lc),(0,o.A)(A.a0)).includes(e.code)?613===(null===e||void 0===e?void 0:e.code)?void this.accountFailNavigateHandle(613,this.oauthType):621===(null===e||void 0===e?void 0:e.code)?void this.accountFailNavigateHandle(621):void this.failNavigateHandle(e.code?this.$t("v2_error_code_".concat(e.code)):""):null!==e&&void 0!==e&&e.code&&A.lw.includes(e.code)?(this.errorMsg=this.$t("v2_tips_oauth_error_binding").replace("%@",this.oauthType),void(this.errorCode=null===e||void 0===e?void 0:e.code)):void this.errorCodeHandle(e)},failNavigateHandle:function(e){var t={title:e,callbackUrl:(0,v.hL)()};this.updateNextData({nextData:t}),this.$router.push({path:"/fail",query:this.$route.query})},accountFailNavigateHandle:function(e,t){this.$router.replace({path:"/account/fail",query:I(I({},this.$route.query),{},{errorCode:e,oauthType:t})})},errorCodeHandle:function(e,t){if(e.code){var n=e.code;("resetCaptcha"===t||A.f9.includes(n))&&(this.setShowCaptcha({moduleName:this.moduleName,show:!0}),this.resetCaptcha()),this.errorMsg=this.$t("v2_error_code_".concat(e.code)),this.errorCode=n}else this.errorMsg=this.$t("v2_tips_off_line")},handleSendBtnTextChange:function(e){this.verifySendButtonText=e}}),components:{VerifyAccountSkeleton:u.A,acUnboundWaring:p.A,VerifyAccount:d.A,acLink:h.A},watch:{initData:{handler:"fetchUserInfo",immediate:!0}},beforeRouteEnter:function(e,t,n){n(function(e){document.title="".concat(e.$t("v2_common_system_title")," | ").concat(e.confirmText||e.$t("v2_title_verify_account"))})}},$=D,U=n(7358),B=(0,U.A)($,i,a,!1,null,null,null),R=B.exports},63943:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var i=n(50433),a=n(74949),o={},r={},c=n(22460);i.A.use(a.Ay);var s=!1,l=new a.Ay.Store({actions:o,getters:r,modules:c["default"],strict:s})},66445:function(e,t,n){"use strict";n.r(t);var i=n(50727),a=n(31272);t["default"]={bindingEmail:function(e){return i.A.post((0,a.dw)("bind/apple_bind_email"),e)}}},74487:function(e,t,n){"use strict";n.r(t);var i,a,o=n(23219),r=n(13667),c=n(52072),s=n.n(c),l=n(50433),u=n(88333),d=n(54686),h=n(92066),p=n(31272),f=n(39567),m=n(98643),v=n(37151),_=n(60100),g=v.A.common,y=g.getter,b=g.action,w=g.mutation,C={initData:null,nextData:null,callbackUrl:"",lang:(0,d.Xo)()||"en_US",region:(0,f.P3)("region"),isAppReady:!1,checkType:"DEFAULT",subscription:!1,nickname:"",isGetUserInfoLoading:!1,isCookiePreferencesShouldShow:!1,isDialogOpen:!1,prefetchedCaptchaModuleConfig:null,prefetchedCaptchaStatus:"idle",captchaInitCommitted:!1,captchaInitSource:"none"},A=(i={},(0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)(i,y.initData,function(e){return e.initData}),y.guestLoginButtonVisible,function(e){var t;return null===(t=e.initData)||void 0===t||null===(t=t.customizedPageConfig)||void 0===t?void 0:t.guestLoginButtonVisible}),y.logined,function(e){var t;return null===(t=e.initData)||void 0===t?void 0:t.logined}),y.callbackUrl,function(e){var t;return null===(t=e.initData)||void 0===t?void 0:t.callbackUrl}),y.nextData,function(e){return e.nextData}),y.wechatLoginVisible,function(e){var t;return null===(t=e.initData)||void 0===t||null===(t=t.customizedPageConfig)||void 0===t?void 0:t.wechatLoginVisible}),y.lang,function(e){return e.lang}),y.isAppReady,function(e){return e.isAppReady}),y.getCheckType,function(e){return e.checkType}),y.getSubscription,function(e){return e.subscription}),(0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)(i,y.nickname,function(e){return e.nickname}),y.isGetUserInfoLoading,function(e){return e.isGetUserInfoLoading}),y.isSupportEmailRegister,function(e){return function(t,n){var i,a,o="".concat(t,".phone.").concat(n,".switch"),r="".concat(t,".emailRegister.").concat(n,".switch"),c="on"===(null===e||void 0===e||null===(i=e.initData)||void 0===i||null===(i=i.appConfig)||void 0===i?void 0:i[o]),s="off"!==(null===e||void 0===e||null===(a=e.initData)||void 0===a||null===(a=a.appConfig)||void 0===a?void 0:a[r]);return!c||s}}),y.isCookiePreferencesShouldShow,function(e){return e.isCookiePreferencesShouldShow}),y.isDialogOpen,function(e){return e.isDialogOpen})),k=(0,r.A)((0,r.A)((0,r.A)((0,r.A)({},b.fetchInitData,function(e,t){var n,i,a=e.commit;return i=t&&0===(null===(n=window.initData)||void 0===n?void 0:n.code)?Promise.resolve(window.initData):u["default"].common.fetchInitData({lang:C.lang,region:C.region,actualAppId:(0,p.R7)("")}),i.then(function(e){a(w.updateInitData,{initData:e.data})})["catch"](function(e){var t=e.code,n=t&&l.A.te("v2_error_code_".concat(t))?l.A.t("v2_error_code_".concat(t)):"Exception, Please try it later",i={title:n,errorCode:t,callbackUrl:(0,p.TP)()};a(w.updateNextData,{nextData:i}),_.A.push({path:"/fail",query:_.A.currentRoute.query})["catch"](function(e){if("NavigationDuplicated"!==e.name)throw e})})}),b.prefetchCaptchaConfig,function(e){return(0,o.A)(s().mark(function t(){var n,i,a,o,r,c,l,d,h;return s().wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,i=Date.now(),t.prev=1,o=C.lang,r=C.region,t.next=2,u["default"].common.securityCheck({lang:o,region:r,actualAppId:(0,p.R7)("")});case 2:c=t.sent,l=c.data,d=null===l||void 0===l||null===(a=l.captchaConfig)||void 0===a?void 0:a.moduleConfig,d&&Object.keys(d).length?(n(w.updatePrefetchedCaptcha,{status:"success",moduleConfig:d}),n(v.A.captcha.mutation.init,d),n(w.updateCaptchaInitStatus,{committed:!0,source:"check"}),(0,m.i)({status:2,duration:Date.now()-i,hasConfig:1})):(n(w.updatePrefetchedCaptcha,{status:"empty",moduleConfig:null}),(0,m.i)({status:3,duration:Date.now()-i,hasConfig:0})),t.next=4;break;case 3:t.prev=3,h=t["catch"](1),n(w.updatePrefetchedCaptcha,{status:"error",moduleConfig:null}),(0,m.i)({status:4,duration:Date.now()-i,code:h&&h.code});case 4:case"end":return t.stop()}},t,null,[[1,3]])}))()}),b.fetchTranslation,function(e,t){return(0,o.A)(s().mark(function e(){var n,i,a,o;return s().wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=C.lang,i=(0,h.sC)(t),i){e.next=3;break}return e.next=1,u["default"].common.fetchTranslation({locale:t||n});case 1:if(a=e.sent,o=a.data,o&&Object.keys(o).length){e.next=2;break}throw new Error("locale empty");case 2:(0,h.ks)(o,t),i=o;case 3:t||(l.A.locale(n,i),l.A.config.lang=n);case 4:case"end":return e.stop()}},e)}))()}),b.fetchUserInfos,function(e){return(0,o.A)(s().mark(function t(){var n,i;return s().wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,n(w.updateIsGetUserInfoLoading,!0),t.next=2,u["default"].common.userInfo();case 2:i=t.sent,n(w.updateNickname,i.data.nickname);case 3:return t.prev=3,n(w.updateIsGetUserInfoLoading,!1),t.finish(3);case 4:case"end":return t.stop()}},t,null,[[1,,3,4]])}))()}),T=(a={},(0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)(a,w.updateInitData,function(e,t){var n=t.initData;e.initData=n,e.cacheTime=(new Date).getTime()}),w.updateCodeVisible,function(e,t){var n=t.codeVisible;n&&(e.initData.codeVisible=n)}),w.updateNextData,function(e,t){var n=t.nextData;e.nextData=n}),w.updateLang,function(e,t){e.lang=t}),w.updateLoadingStatus,function(e,t){var n=t.isAppReady;e.isAppReady=n}),w.updateSubscription,function(e,t){e.subscription=t}),w.updateNickname,function(e,t){e.nickname=t}),w.updateIsGetUserInfoLoading,function(e,t){e.isGetUserInfoLoading=t}),w.updateCookiePreferencesShouldShow,function(e,t){e.isCookiePreferencesShouldShow=t}),"updateDialogOpen",function(e,t){e.isDialogOpen=t}),(0,r.A)((0,r.A)(a,w.updatePrefetchedCaptcha,function(e,t){var n=t.status,i=t.moduleConfig;e.prefetchedCaptchaStatus=n,e.prefetchedCaptchaModuleConfig=i||null}),w.updateCaptchaInitStatus,function(e,t){var n=t.committed,i=t.source;e.captchaInitCommitted=!!n,i&&(e.captchaInitSource=i)}));t["default"]={state:C,getters:A,actions:k,mutations:T}},75377:function(e,t,n){"use strict";n.r(t);var i=n(13667),a=n(88333),o=n(37151),r=o.A.login,c=r.getter,s=r.action,l=r.mutation,u={loginResult:{}},d=(0,i.A)({},c.loginResult,function(e){return e.loginResult}),h=(0,i.A)({},s.login,function(e){var t=e.commit;return a["default"].login.toLogin().then(function(e){t(l.updateLoginResult,{loginResult:e.data})})["catch"](function(e){t(l.updateLoginResult,{loginResult:e})})}),p=(0,i.A)({},l.updateLoginResult,function(e,t){var n=t.loginResult;e.loginResult=n});t["default"]={state:u,getters:d,actions:h,mutations:p}},80154:function(e,t,n){"use strict";n.r(t);var i=n(50727),a=n(31272);t["default"]={getAccountProfiles:function(e){return i.A.get((0,a.dw)("account/profiles","v2"),e)},setAccountProfiles:function(e){return i.A.post((0,a.dw)("account/profiles","v2"),e)},sendValidationSms:function(e){return i.A.post((0,a.dw)("sms/validation/send","v2"),e)},LoginWithVerification:function(e){return i.A.post((0,a.dw)("2step/verification","v2"),e)},accountPasswordValidation:function(e){return i.A.post((0,a.dw)("account/password/validation","v2"),e)},accountPasswordUpdate:function(e){return i.A.post((0,a.dw)("account/password/update","v2"),e)},deletion:function(e){return i.A.post((0,a.dw)("account/deletion","v2"),e)},phoneValidation:function(e){return i.A.post((0,a.dw)("phone/validation","v2"),e)},phoneBindingModification:function(e){return i.A.post((0,a.dw)("phone/binding/modification","v2"),e)},nicknameUpdate:function(e){return i.A.post((0,a.dw)("changeNickname","v2"),e)}}},80816:function(e,t,n){"use strict";n.r(t);var i=n(50727),a=n(31272);t["default"]={toLogin:function(e){return i.A.post((0,a.dw)("login.do"),e)},smsLogin:function(e){return i.A.post((0,a.dw)("login_or_register_with_sms_code.do"),e)},checkShowVerificationCode:function(e){return i.A.post((0,a.dw)("checkShowVerificationCode.do"),e)},validateGoogleCredential:function(e){return i.A.post((0,a.dw)("validateGoogleCredential.do"),e)}}},88333:function(e,t,n){"use strict";n.r(t);var i=n(35627),a={};i.keys().forEach(function(e){"./index.js"!==e&&(a[e.replace(/(^\.\/|\.js$)/g,"")]=i(e)["default"])}),t["default"]=a},90022:function(e,t,n){"use strict";n.r(t);var i=n(50727);t["default"]={getClientInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{url:"/oauth/client/info"},t=e.url,n=e.data;return i.A.post(t,n)},initAuthorize:function(e){return i.A.get(e)}}},93519:function(e,t,n){"use strict";n.r(t);var i=n(13667),a=n(50727),o=n(31272);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t["default"]={fetchInitData:function(e){return a.A.post((0,o.dw)("initData.do"),e)},securityCheck:function(e){return a.A.post((0,o.dw)("/security/check"),e)},fetchTranslation:function(e){return a.A.post((0,o.dw)("getTranslationByLocale.do"),e)},logout:function(e){return a.A.post((0,o.dw)("logout.do"),e)},checkAccountRef:function(e){return a.A.post((0,o.dw)("checkAccountRef.do"),e)},getTranslationByLocale:function(e){return a.A.post((0,o.dw)("getTranslationByLocale.do"),e)},sendSmsCode:function(e){return a.A.post((0,o.dw)("sendSmsCode.do"),e)},sendEmail:function(e){return a.A.post((0,o.dw)("sendEmail.do"),e)},checkSmsCode:function(e){return a.A.post((0,o.dw)("checkSmsCode.do"),e)},validateCaptcha:function(e){return a.A.post((0,o.dw)("validCaptcha.do"),e)},getBindingInfo:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return a.A.get.apply(a.A,[(0,o.dw)("binds","v2"),e].concat(n))},getSecureBindingInfo:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=c({secure:1},e||{}),n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return a.A.get.apply(a.A,[(0,o.dw)("secure-binds","v2"),t].concat(i))},resetPasswordChecking:function(e){return a.A.post((0,o.dw)("reset-password/checking","v2"),e)},sendLoginPhone:function(e){return a.A.post((0,o.dw)("sms/validation/send","v2"),e)},userInfo:function(e){return a.A.get((0,o.dw)("user-info","v2"),e)},checkEmailExist:function(e){return a.A.post((0,o.dw)("checkEmailExist.do"),e)},reportCaptcha:function(e){return a.A.get("/user/webrest/v1/captchaReport",e)}}},97842:function(e,t,n){"use strict";n.r(t);var i=n(28188),a=n(23219),o=n(13667),r=n(52072),c=n.n(r),s=n(50433),l=n(78012),u=n(46918),d=n(88333),h=n(37151);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,o.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=h.A.captcha,v=m.getter,_=m.action,g=m.mutation;function y(e){var t="",n="";try{var i=/^(.+)\+(.+)$/,a=e.match(i);a?(n=a[1],t=a[2]):l.$u.includes(e)?(n=e,t=""):(t=e,n="")}catch(o){}return{visibleType:t,invisibleType:l.$u.includes(n)?n:""}}var b={};function w(e,t){return"aliCaptcha"===e?u.Fr?t["aliyun.appKey.h5"]:t["aliyun.appKey.pc"]:"aliCaptchaV2"===e?t["aliyun.prefix"]||"":t[l.o9[e]]||""}function C(e,t){return"aliCaptcha"===e||"aliCaptchaV2"===e?u.Fr?t["aliyun.scene.h5"]:t["aliyun.scene.pc"]:t[l.R5[e]]||""}function A(e,t,n,i){var a=t&&l.$u.includes(n),o=t&&l.we.includes(i),r=e===l.Sn.TWO_STEP_VERIFICATION_EMAIL||e===l.Sn.TWO_STEP_VERIFICATION_SMS,c=r||a||o;return{invisibleShow:a,show:c}}function k(e,t,n,i){var a=y(t),o=a.invisibleType,r=a.visibleType,c=A(e,i,o,t),s=!(!o||!r);return{type:r,invisibleType:o,invisibleShow:c.invisibleShow,show:c.show,key:w(r,n),scene:C(r,n),invisibleKey:n[l.SX[o]]||"",isComplexValidate:s}}function T(){return{show:!1,type:"",key:"",invisibleKey:"",scene:"",ticket:"",invisibleShow:!1,invisibleType:"",invisibleToken:"",isComplexValidate:!1,captchaList:[],currentCaptchaIndex:0}}function E(e,t){var n={captchaList:t.captchaList};if(t.captchaList.length>0){var i=t.captchaList[0],a=k(e,i.captchaType,i.sdkConfig,t.captchaSwitch),o=t.captchaList.some(function(e){return l.$u.includes(e.captchaType)}),r=t.captchaList.some(function(e){return l.we.includes(e.captchaType)});o&&r&&(a.isComplexValidate=!0),Object.assign(n,a)}return n}function O(e,t){var n=t.sdkConfig,i=t.captchaSwitch,a=t.captchaType,o={captchaList:[{captchaType:a,sdkConfig:n||{}}]},r=k(e,a,n,i);return Object.assign(o,r)}function S(e,t){var n=T();if(!t)return n;if(t.captchaList&&Array.isArray(t.captchaList)){var i=E(e,t);return Object.assign(n,i)}if(t.captchaType){var a=O(e,t);return Object.assign(n,a)}return n}var N=(0,o.A)((0,o.A)((0,o.A)((0,o.A)({},l.Sn.LOGIN,S(l.Sn.LOGIN)),l.Sn.OAUTH_LOGIN,S(l.Sn.OAUTH_LOGIN)),l.Sn.REGISTER,S(l.Sn.REGISTER)),l.Sn.RESET_PASSWORD,S(l.Sn.RESET_PASSWORD)),x=(0,o.A)({},v.getConfig,function(e){return function(t){var n=e[t]?f(f({},e[t]),{},{moduleName:t}):{};return n}}),P=(0,o.A)((0,o.A)({},_.fetchTicket,function(e,t){return(0,a.A)(c().mark(function n(){var a,o,r,s,l,u,h,p,f,m;return c().wrap(function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,o=e.state,r=t.moduleName,s=t.result,l=t.gInvisibleToken,u=o[r],h=u.captchaList[u.currentCaptchaIndex],p={captchaModule:r,captchaType:h?h.captchaType:u.type},l?p.gInvisibleToken=l:s&&"object"===(0,i.A)(s)&&!Array.isArray(s)?Object.assign(p,s):s&&"string"===typeof s&&(p.gInvisibleToken=s),n.next=1,d["default"].common.validateCaptcha(p);case 1:return f=n.sent,m=f.data.captchaTicket,a(g.setTicket,{moduleName:r,ticket:m}),n.abrupt("return",m);case 2:case"end":return n.stop()}},n)}))()}),_.getParamWithTicket,function(e,t){return(0,a.A)(c().mark(function n(){var i,a,o,r,s,l,u,d,h,p;return c().wrap(function(n){while(1)switch(n.prev=n.next){case 0:if(i=e.state,a=e.dispatch,o=t.moduleName,r=t.result,s=t.param,l=t.invisibleToken,u=i[o],u.show||u.invisibleShow){n.next=1;break}return n.abrupt("return",s);case 1:if(d=u.ticket,d){n.next=5;break}return b[o]||(h=u.invisibleShow&&l?l:void 0,p={moduleName:o,result:r,gInvisibleToken:h},b[o]=a(_.fetchTicket,p)),n.prev=2,n.next=3,b[o];case 3:d=n.sent;case 4:return n.prev=4,b[o]=null,n.finish(4);case 5:return n.abrupt("return",f(f({},s),{},{captchaTicket:d}));case 6:case"end":return n.stop()}},n,null,[[2,,4,5]])}))()}),I=(0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)({},g.init,function(e,t){Object.keys(t).forEach(function(n){var i=S(n,t[n]);s.A.set(e,n,i)})}),g.setShow,function(e,t){var n=t.moduleName,i=t.show;e[n]||(e[n]=T()),e[n].show=i,i&&(e[n].invisibleShow=!1)}),g.setTicket,function(e,t){var n=t.moduleName,i=t.ticket;e[n].ticket=i}),g.clearTicket,function(e,t){var n=t.moduleName;e[n].ticket="";var i=e[n];i._fetchTicketPromise=null,i.ticket=""}),g.setInvisibleToken,function(e,t){var n=t.moduleName,i=t.invisibleToken;e[n].invisibleToken=i}),g.clearInvisibleToken,function(e,t){var n=t.moduleName;e[n].invisibleToken=""}),g.setInvisibleShow,function(e,t){var n=t.moduleName,i=t.invisibleShow;e[n].invisibleShow=i}),g.setCurrentCaptchaIndex,function(e,t){var n=t.moduleName,i=t.index;e[n].currentCaptchaIndex=i});t["default"]={state:N,getters:x,actions:P,mutations:I}},98785:function(e,t,n){"use strict";n.r(t);var i=n(50727),a=n(31272);t["default"]={login:function(e){return i.A.post((0,a.dw)("oauthLogin.do"),e)},getOauthUserInfo:function(e){return i.A.get((0,a.dw)("oauthCallbackResult.do"),e,null,{ignoreEmptyValue:!1})},oauthResetPassword:function(e){return i.A.post((0,a.dw)("oauthResetPassword.do"),e)}}}}]);
//# sourceMappingURL=chunk-common-5c551db8.9302cbbb.js.map