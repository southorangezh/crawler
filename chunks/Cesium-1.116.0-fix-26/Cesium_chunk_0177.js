{
  "metadata": {
    "source_file": "Cesium-1.116.0-fix-26\\Cesium.js",
    "chunk_index": 177,
    "total_chunks": 194,
    "chunk_size": 48094,
    "word_count": 800,
    "model_kwargs": {
      "model": "text-embedding-3-large",
      "dimensions": 3072,
      "encoding_format": "float"
    },
    "text_splitter": {
      "split_by": "word",
      "chunk_size": 800,
      "chunk_overlap": 200
    },
    "created_at": "2025-12-17T23:57:49.756Z"
  },
  "content": "p=d.x,b=m?d.y+1:d.y;if(!u){for(let f=e.y;f<b;++f)if(i[f*t+d.x]!==s){u=!0;break}u?(a.push(new D(d.x,e.y)),--d.x,--p,c.endX=d.x):d.x===o?(c.endX=d.x,u=!0):++d.x}if(!m){let f=d.y*t;for(let x=e.x;x<=p;++x)if(i[f+x]!==s){m=!0;break}m?(a.push(new D(e.x,d.y)),--d.y,c.endY=d.y):d.y===r?(c.endY=d.y,m=!0):++d.y}}return{endingIndices:a,range:c,value:s}}function gyt(e,t,n,i,o){let r=[];if(o.every(function(c){return c===o[0]}))return o[0]===1&&r.push({startX:e,startY:t,endX:e+n-1,endY:t+i-1}),r;let a=[new D(0,0)];for(;a.length>0;){let c=a.pop(),d=yyt(c,n,i,o);if(d.value===1){let m=d.range;m.startX+=e,m.endX+=e,m.startY+=t,m.endY+=t,r.push(m)}let u=d.endingIndices;u.length>0&&(a=a.concat(u))}return r}function TTe(e,t,n,i){if(!e._hasAvailability)return{};let o=Math.floor(n/128)*128,r=Math.floor(i/128)*128,s=Math.min(1<<t,128),a=`tilemap/${t}/${r}/${o}/${s}/${s}`,c=e._availableCache;if(l(c[a]))return c[a];let d=new Do({throttle:!1,throttleByServer:!0,type:is.TERRAIN}),m=e._resource.getDerivedResource({url:a,request:d}).fetchJson();return l(m)?(m=m.then(function(p){let b=gyt(o,r,s,s,p.data);e._tilesAvailabilityLoaded.addAvailableTileRange(t,o,r,o+s,r+s);let f=e._tilesAvailable;for(let x=0;x<b.length;++x){let _=b[x];f.addAvailableTileRange(t,_.startX,_.startY,_.endX,_.endY)}return b8(e,t,n,i)}),c[a]={promise:m,request:d},m=m.finally(function(p){return delete c[a],p}),{promise:m,request:d}):{}}var y8=Gg;var GBi=T(S(),1);var STe=\"https://dev.virtualearth.net/REST/v1/Locations\";function g8(e){e=g(e,g.EMPTY_OBJECT);let t=e.key;this._key=t;let n={key:t};l(e.culture)&&(n.culture=e.culture),this._resource=new Xe({url:STe,queryParameters:n}),this._credit=new Zt('<img src=\"http://dev.virtualearth.net/Branding/logo_powered_by.png\"/>',!1)}Object.defineProperties(g8.prototype,{url:{get:function(){return STe}},key:{get:function(){return this._key}},credit:{get:function(){return this._credit}}});g8.prototype.geocode=async function(e){return this._resource.getDerivedResource({queryParameters:{query:e}}).fetchJsonp(\"jsonp\").then(function(n){return n.resourceSets.length===0?[]:n.resourceSets[0].resources.map(function(o){let r=o.bbox,s=r[0],a=r[1],c=r[2],d=r[3];return{displayName:o.name,destination:le.fromDegrees(a,s,d,c)}})})};var x8=g8;var IBi=T(S(),1);function _8(){}Object.defineProperties(_8.prototype,{credit:{get:function(){}}});_8.prototype.geocode=function(e){let t=e.match(/[^\\s,\\n]+/g);if(t.length===2||t.length===3){let n=+t[0],i=+t[1],o=t.length===3?+t[2]:300;if(isNaN(n)&&isNaN(i)){let r=/^(\\d+.?\\d*)([nsew])/i;for(let s=0;s<t.length;++s){let a=t[s].match(r);r.test(t[s])&&a.length===3&&(/^[ns]/i.test(a[2])?i=/^[n]/i.test(a[2])?+a[1]:-a[1]:/^[ew]/i.test(a[2])&&(n=/^[e]/i.test(a[2])?+a[1]:-a[1]))}}if(!isNaN(n)&&!isNaN(i)&&!isNaN(o)){let r={displayName:e,destination:h.fromDegrees(n,i,o)};return Promise.resolve([r])}}return Promise.resolve([])};var T8=_8;var kBi=T(S(),1);var xyt=new se,CTe=new h,sL=new h;function _yt(e){let t=e.points,n=e.times;if(t.length<3){let i=n[0],o=1/(n[1]-i),r=t[0],s=t[1];return function(a,c){l(c)||(c=new h);let d=(a-i)*o;return h.lerp(r,s,d,c)}}return function(i,o){l(o)||(o=new h);let r=e._lastTimeIndex=e.findTimeInterval(i,e._lastTimeIndex),s=(i-n[r])/(n[r+1]-n[r]),a=xyt;a.z=s,a.y=s*s,a.x=a.y*s,a.w=1;let c,d,u,m,p;return r===0?(c=t[0],d=t[1],u=e.firstTangent,m=h.subtract(t[2],c,CTe),h.multiplyByScalar(m,.5,m),p=M.multiplyByVector(ly.hermiteCoefficientMatrix,a,a)):r===t.length-2?(c=t[r],d=t[r+1],m=e.lastTangent,u=h.subtract(d,t[r-1],CTe),h.multiplyByScalar(u,.5,u),p=M.multiplyByVector(ly.hermiteCoefficientMatrix,a,a)):(c=t[r-1],d=t[r],u=t[r+1],m=t[r+2],p=M.multiplyByVector(Eg.catmullRomCoefficientMatrix,a,a)),o=h.multiplyByScalar(c,p.x,o),h.multiplyByScalar(d,p.y,sL),h.add(o,sL,o),h.multiplyByScalar(u,p.z,sL),h.add(o,sL,o),h.multiplyByScalar(m,p.w,sL),h.add(o,sL,o)}}var Tyt=new h,Syt=new h;function Eg(e){e=g(e,g.EMPTY_OBJECT);let t=e.points,n=e.times,i=e.firstTangent,o=e.lastTangent;if(t.length>2&&(l(i)||(i=Tyt,h.multiplyByScalar(t[1],2,i),h.subtract(i,t[2],i),h.subtract(i,t[0],i),h.multiplyByScalar(i,.5,i)),!l(o))){let r=t.length-1;o=Syt,h.multiplyByScalar(t[r-1],2,o),h.subtract(t[r],o,o),h.add(o,t[r-2],o),h.multiplyByScalar(o,.5,o)}this._times=n,this._points=t,this._firstTangent=h.clone(i),this._lastTangent=h.clone(o),this._evaluateFunction=_yt(this),this._lastTimeIndex=0}Object.defineProperties(Eg.prototype,{times:{get:function(){return this._times}},points:{get:function(){return this._points}},firstTangent:{get:function(){return this._firstTangent}},lastTangent:{get:function(){return this._lastTangent}}});Eg.catmullRomCoefficientMatrix=new M(-.5,1,-.5,0,1.5,-2.5,0,1,-1.5,2,.5,0,.5,-.5,0,0);Eg.prototype.findTimeInterval=oo.prototype.findTimeInterval;Eg.prototype.wrapTime=oo.prototype.wrapTime;Eg.prototype.clampTime=oo.prototype.clampTime;Eg.prototype.evaluate=function(e,t){return this._evaluateFunction(e,t)};var S8=Eg;var XYi=T(S(),1);var sYi=T(S(),1);var OBi=T(S(),1);var T3={};T3.clipTriangleAtAxisAlignedThreshold=function(e,t,n,i,o,r){l(r)?r.length=0:r=[];let s,a,c;t?(s=n<e,a=i<e,c=o<e):(s=n>e,a=i>e,c=o>e);let d=s+a+c,u,m,p,b,f,x;return d===1?s?(u=(e-n)/(i-n),m=(e-n)/(o-n),r.push(1),r.push(2),m!==1&&(r.push(-1),r.push(0),r.push(2),r.push(m)),u!==1&&(r.push(-1),r.push(0),r.push(1),r.push(u))):a?(p=(e-i)/(o-i),b=(e-i)/(n-i),r.push(2),r.push(0),b!==1&&(r.push(-1),r.push(1),r.push(0),r.push(b)),p!==1&&(r.push(-1),r.push(1),r.push(2),r.push(p))):c&&(f=(e-o)/(n-o),x=(e-o)/(i-o),r.push(0),r.push(1),x!==1&&(r.push(-1),r.push(2),r.push(1),r.push(x)),f!==1&&(r.push(-1),r.push(2),r.push(0),r.push(f))):d===2?!s&&n!==e?(b=(e-i)/(n-i),f=(e-o)/(n-o),r.push(0),r.push(-1),r.push(1),r.push(0),r.push(b),r.push(-1),r.push(2),r.push(0),r.push(f)):!a&&i!==e?(x=(e-o)/(i-o),u=(e-n)/(i-n),r.push(1),r.push(-1),r.push(2),r.push(1),r.push(x),r.push(-1),r.push(0),r.push(1),r.push(u)):!c&&o!==e&&(m=(e-n)/(o-n),p=(e-i)/(o-i),r.push(2),r.push(-1),r.push(0),r.push(2),r.push(m),r.push(-1),r.push(1),r.push(2),r.push(p)):d!==3&&(r.push(0),r.push(1),r.push(2)),r};T3.computeBarycentricCoordinates=function(e,t,n,i,o,r,s,a,c){let d=n-s,u=s-o,m=r-a,p=i-a,b=1/(m*d+u*p),f=t-a,x=e-s,_=(m*x+u*f)*b,C=(-p*x+d*f)*b,V=1-_-C;return l(c)?(c.x=_,c.y=C,c.z=V,c):new h(_,C,V)};T3.computeLineSegmentLineSegmentIntersection=function(e,t,n,i,o,r,s,a,c){let d=(s-o)*(t-r)-(a-r)*(e-o),u=(n-e)*(t-r)-(i-t)*(e-o),m=(a-r)*(n-e)-(s-o)*(i-t);if(m===0)return;let p=d/m,b=u/m;if(p>=0&&p<=1&&b>=0&&b<=1)return l(c)||(c=new D),c.x=e+p*(n-e),c.y=t+p*(i-t),c};var ub=T3;function Xg(e){this._quantizedVertices=e.quantizedVertices,this._encodedNormals=e.encodedNormals,this._indices=e.indices,this._minimumHeight=e.minimumHeight,this._maximumHeight=e.maximumHeight,this._boundingSphere=e.boundingSphere,this._orientedBoundingBox=e.orientedBoundingBox,this._horizonOcclusionPoint=e.horizonOcclusionPoint,this._credits=e.credits;let t=this._quantizedVertices.length/3,n=this._uValues=this._quantizedVertices.subarray(0,t),i=this._vValues=this._quantizedVertices.subarray(t,2*t);this._heightValues=this._quantizedVertices.subarray(2*t,3*t);function o(s,a){return i[s]-i[a]}function r(s,a){return n[s]-n[a]}this._westIndices=C3(e.westIndices,o,t),this._southIndices=C3(e.southIndices,r,t),this._eastIndices=C3(e.eastIndices,o,t),this._northIndices=C3(e.northIndices,r,t),this._westSkirtHeight=e.westSkirtHeight,this._southSkirtHeight=e.southSkirtHeight,this._eastSkirtHeight=e.eastSkirtHeight,this._northSkirtHeight=e.northSkirtHeight,this._childTileMask=g(e.childTileMask,15),this._createdByUpsampling=g(e.createdByUpsampling,!1),this._waterMask=e.waterMask,this._mesh=void 0}Object.defineProperties(Xg.prototype,{credits:{get:function(){return this._credits}},waterMask:{get:function(){return this._waterMask}},childTileMask:{get:function(){return this._childTileMask}},canUpsample:{get:function(){return l(this._mesh)}}});var S3=[];function C3(e,t,n){S3.length=e.length;let i=!1;for(let o=0,r=e.length;o<r;++o)S3[o]=e[o],i=i||o>0&&t(e[o-1],e[o])>0;return i?(S3.sort(t),Ae.createTypedArray(n,S3)):e}var VTe=\"createVerticesFromQuantizedTerrainMesh\",Cyt=new di(VTe),Vyt=new di(VTe,gh.maximumAsynchronousTasks);Xg.prototype.createMesh=function(e){e=g(e,g.EMPTY_OBJECT);let t=e.tilingScheme,n=e.x,i=e.y,o=e.level,r=g(e.exaggeration,1),s=g(e.exaggerationRelativeHeight,0),a=g(e.throttle,!0),c=t.ellipsoid,d=t.tileXYToRectangle(n,i,o),m=(a?Vyt:Cyt).scheduleTask({minimumHeight:this._minimumHeight,maximumHeight:this._maximumHeight,quantizedVertices:this._quantizedVertices,octEncodedNormals:this._encodedNormals,includeWebMercatorT:!0,indices:this._indices,westIndices:this._westIndices,southIndices:this._southIndices,eastIndices:this._eastIndices,northIndices:this._northIndices,westSkirtHeight:this._westSkirtHeight,southSkirtHeight:this._southSkirtHeight,eastSkirtHeight:this._eastSkirtHeight,northSkirtHeight:this._northSkirtHeight,rectangle:d,relativeToCenter:this._boundingSphere.center,ellipsoid:c,exaggeration:r,exaggerationRelativeHeight:s});if(!l(m))return;let p=this;return Promise.resolve(m).then(function(b){let f=p._quantizedVertices.length/3,x=f+p._westIndices.length+p._southIndices.length+p._eastIndices.length+p._northIndices.length,_=Ae.createTypedArray(x,b.indices),C=new Float32Array(b.vertices),V=b.center,L=b.minimumHeight,R=b.maximumHeight,G=p._boundingSphere,X=p._orientedBoundingBox,v=g(h.clone(b.occludeePointInScaledSpace),p._horizonOcclusionPoint),W=b.vertexStride,F=gc.clone(b.encoding);return p._mesh=new Qu(V,C,_,b.indexCountWithoutSkirts,f,L,R,G,v,W,X,F,b.westIndicesSouthToNorth,b.southIndicesEastToWest,b.eastIndicesNorthToSouth,b.northIndicesWestToEast),p._quantizedVertices=void 0,p._encodedNormals=void 0,p._indices=void 0,p._uValues=void 0,p._vValues=void 0,p._heightValues=void 0,p._westIndices=void 0,p._southIndices=void 0,p._eastIndices=void 0,p._northIndices=void 0,p._mesh})};var Lyt=new di(\"upsampleQuantizedTerrainMesh\",gh.maximumAsynchronousTasks);Xg.prototype.upsample=function(e,t,n,i,o,r,s){let a=this._mesh;if(!l(this._mesh))return;let c=t*2!==o,d=n*2===r,u=e.ellipsoid,m=e.tileXYToRectangle(o,r,s),p=Lyt.scheduleTask({vertices:a.vertices,vertexCountWithoutSkirts:a.vertexCountWithoutSkirts,indices:a.indices,indexCountWithoutSkirts:a.indexCountWithoutSkirts,encoding:a.encoding,minimumHeight:this._minimumHeight,maximumHeight:this._maximumHeight,isEastChild:c,isNorthChild:d,childRectangle:m,ellipsoid:u});if(!l(p))return;let b=Math.min(this._westSkirtHeight,this._eastSkirtHeight);b=Math.min(b,this._southSkirtHeight),b=Math.min(b,this._northSkirtHeight);let f=c?b*.5:this._westSkirtHeight,x=d?b*.5:this._southSkirtHeight,_=c?this._eastSkirtHeight:b*.5,C=d?this._northSkirtHeight:b*.5,V=this._credits;return Promise.resolve(p).then(function(L){let R=new Uint16Array(L.vertices),G=Ae.createTypedArray(R.length/3,L.indices),X;return l(L.encodedNormals)&&(X=new Uint8Array(L.encodedNormals)),new Xg({quantizedVertices:R,indices:G,encodedNormals:X,minimumHeight:L.minimumHeight,maximumHeight:L.maximumHeight,boundingSphere:ce.clone(L.boundingSphere),orientedBoundingBox:Zn.clone(L.orientedBoundingBox),horizonOcclusionPoint:h.clone(L.horizonOcclusionPoint),westIndices:L.westIndices,southIndices:L.southIndices,eastIndices:L.eastIndices,northIndices:L.northIndices,westSkirtHeight:f,southSkirtHeight:x,eastSkirtHeight:_,northSkirtHeight:C,childTileMask:0,credits:V,createdByUpsampling:!0})})};var C8=32767,LTe=new h;Xg.prototype.interpolateHeight=function(e,t,n){let i=P.clamp((t-e.west)/e.width,0,1);i*=C8;let o=P.clamp((n-e.south)/e.height,0,1);return o*=C8,l(this._mesh)?Eyt(this,i,o):Xyt(this,i,o)};function ZTe(e,t,n,i,o,r,s,a){let c=Math.min(n,o,s),d=Math.max(n,o,s),u=Math.min(i,r,a),m=Math.max(i,r,a);return e>=c&&e<=d&&t>=u&&t<=m}var Zyt=new D,Ryt=new D,Gyt=new D;function Eyt(e,t,n){let i=e._mesh,o=i.vertices,r=i.encoding,s=i.indices;for(let a=0,c=s.length;a<c;a+=3){let d=s[a],u=s[a+1],m=s[a+2],p=r.decodeTextureCoordinates(o,d,Zyt),b=r.decodeTextureCoordinates(o,u,Ryt),f=r.decodeTextureCoordinates(o,m,Gyt);if(ZTe(t,n,p.x,p.y,b.x,b.y,f.x,f.y)){let x=ub.computeBarycentricCoordinates(t,n,p.x,p.y,b.x,b.y,f.x,f.y,LTe);if(x.x>=-1e-15&&x.y>=-1e-15&&x.z>=-1e-15){let _=r.decodeHeight(o,d),C=r.decodeHeight(o,u),V=r.decodeHeight(o,m);return x.x*_+x.y*C+x.z*V}}}}function Xyt(e,t,n){let i=e._uValues,o=e._vValues,r=e._heightValues,s=e._indices;for(let a=0,c=s.length;a<c;a+=3){let d=s[a],u=s[a+1],m=s[a+2],p=i[d],b=i[u],f=i[m],x=o[d],_=o[u],C=o[m];if(ZTe(t,n,p,x,b,_,f,C)){let V=ub.computeBarycentricCoordinates(t,n,p,x,b,_,f,C,LTe);if(V.x>=-1e-15&&V.y>=-1e-15&&V.z>=-1e-15){let L=V.x*r[d]+V.y*r[u]+V.z*r[m];return P.lerp(e._minimumHeight,e._maximumHeight,L/C8)}}}}Xg.prototype.isChildAvailable=function(e,t,n,i){let o=2;return n!==e*2&&++o,i!==t*2&&(o-=2),(this._childTileMask&1<<o)!==0};Xg.prototype.wasCreatedByUpsampling=function(){return this._createdByUpsampling};var QT=Xg;function Iyt(e){this.resource=e.resource,this.version=e.version,this.isHeightmap=e.isHeightmap,this.tileUrlTemplates=e.tileUrlTemplates,this.availability=e.availability,this.hasVertexNormals=e.hasVertexNormals,this.hasWaterMask=e.hasWaterMask,this.hasMetadata=e.hasMetadata,this.availabilityLevels=e.availabilityLevels,this.availabilityTilesLoaded=e.availabilityTilesLoaded,this.littleEndianExtensionSize=e.littleEndianExtensionSize,this.availabilityPromiseCache={}}function GTe(e){this.requestVertexNormals=g(e.requestVertexNormals,!1),this.requestWaterMask=g(e.requestWaterMask,!1),this.requestMetadata=g(e.requestMetadata,!0),this.ellipsoid=e.ellipsoid,this.heightmapWidth=65,this.heightmapStructure=void 0,this.hasWaterMask=!1,this.hasMetadata=!1,this.hasVertexNormals=!1,this.scheme=void 0,this.lastResource=void 0,this.layerJsonResource=void 0,this.previousError=void 0,this.availability=void 0,this.tilingScheme=void 0,this.levelZeroMaximumGeometricError=void 0,this.heightmapStructure=void 0,this.layers=[],this.attribution=\"\",this.overallAvailability=[],this.extras={},this.forceRequestLayerJson=!1,this.overallMaxZoom=0,this.tileCredits=[]}GTe.prototype.build=function(e){e._heightmapWidth=this.heightmapWidth,e._scheme=this.scheme;let t=l(this.lastResource.credits)?this.lastResource.credits:[];e._tileCredits=t.concat(this.tileCredits),e._availability=this.availability,e._tilingScheme=this.tilingScheme,e._requestWaterMask=this.requestWaterMask,e._levelZeroMaximumGeometricError=this.levelZeroMaximumGeometricError,e._heightmapStructure=this.heightmapStructure,e._layers=this.layers,e._hasWaterMask=this.hasWaterMask,e._hasVertexNormals=this.hasVertexNormals,e._hasMetadata=this.hasMetadata,e._overallAvailability=this.overallAvailability,e._extras=this.extras,e.forceRequestLayerJson=this.forceRequestLayerJson};async function ETe(e,t,n){if(t.extras&&(e.extras=t.extras),!t.format){let x=\"The tile format is not specified in the layer.json file.\";throw e.previousError=So.reportError(e.previousError,n,l(n)?n._errorEvent:void 0,x),new ue(x)}if(!t.tiles||t.tiles.length===0){let x=\"The layer.json file does not specify any tile URL templates.\";throw e.previousError=So.reportError(e.previousError,n,l(n)?n._errorEvent:void 0,x),new ue(x)}let i=!1,o=!1,r=!1,s=!0,a=!1;if(t.format===\"heightmap-1.0\")a=!0,l(e.heightmapStructure)||(e.heightmapStructure={heightScale:1/5,heightOffset:-1e3,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1,lowestEncodedHeight:0,highestEncodedHeight:256*256-1}),o=!0,e.requestWaterMask=!0;else if(t.format.indexOf(\"quantized-mesh-1.\")!==0){let x=`The tile format \"${t.format}\" is invalid or not supported.`;throw e.previousError=So.reportError(e.previousError,n,l(n)?n._errorEvent:void 0,x),new ue(x)}let c=t.tiles,d=t.maxzoom;if(e.overallMaxZoom=Math.max(e.overallMaxZoom,d),!t.projection||t.projection===\"EPSG:4326\")e.tilingScheme=new Ui({numberOfLevelZeroTilesX:2,numberOfLevelZeroTilesY:1,ellipsoid:e.ellipsoid});else if(t.projection===\"EPSG:3857\")e.tilingScheme=new _r({numberOfLevelZeroTilesX:1,numberOfLevelZeroTilesY:1,ellipsoid:e.ellipsoid});else{let x=`The projection \"${t.projection}\" is invalid or not supported.`;throw e.previousError=So.reportError(e.previousError,n,l(n)?n._errorEvent:void 0,x),new ue(x)}if(e.levelZeroMaximumGeometricError=Jr.getEstimatedLevelZeroGeometricErrorForAHeightmap(e.tilingScheme.ellipsoid,e.heightmapWidth,e.tilingScheme.getNumberOfXTilesAtLevel(0)),!t.scheme||t.scheme===\"tms\"||t.scheme===\"slippyMap\")e.scheme=t.scheme;else{let x=`The scheme \"${t.scheme}\" is invalid or not supported.`;throw e.previousError=So.reportError(e.previousError,n,l(n)?n._errorEvent:void 0,x),new ue(x)}let u;l(t.extensions)&&t.extensions.indexOf(\"octvertexnormals\")!==-1?i=!0:l(t.extensions)&&t.extensions.indexOf(\"vertexnormals\")!==-1&&(i=!0,s=!1),l(t.extensions)&&t.extensions.indexOf(\"watermask\")!==-1&&(o=!0),l(t.extensions)&&t.extensions.indexOf(\"metadata\")!==-1&&(r=!0);let m=t.metadataAvailability,p=t.available,b;if(l(p)&&!l(m)){b=new Xh(e.tilingScheme,p.length);for(let x=0;x<p.length;++x){let _=p[x],C=e.tilingScheme.getNumberOfYTilesAtLevel(x);l(e.overallAvailability[x])||(e.overallAvailability[x]=[]);for(let V=0;V<_.length;++V){let L=_[V],R=C-L.endY-1,G=C-L.startY-1;e.overallAvailability[x].push([L.startX,R,L.endX,G]),b.addAvailableTileRange(x,L.startX,R,L.endX,G)}}}else l(m)&&(u=new Xh(e.tilingScheme,d),b=new Xh(e.tilingScheme,d),e.overallAvailability[0]=[[0,0,1,0]],b.addAvailableTileRange(0,0,0,1,0));e.hasWaterMask=e.hasWaterMask||o,e.hasVertexNormals=e.hasVertexNormals||i,e.hasMetadata=e.hasMetadata||r,l(t.attribution)&&(e.attribution.length>0&&(e.attribution+=\" \"),e.attribution+=t.attribution),e.layers.push(new Iyt({resource:e.lastResource,version:t.version,isHeightmap:a,tileUrlTemplates:c,availability:b,hasVertexNormals:i,hasWaterMask:o,hasMetadata:r,availabilityLevels:m,availabilityTilesLoaded:u,littleEndianExtensionSize:s}));let f=t.parentUrl;return l(f)?l(b)?(e.lastResource=e.lastResource.getDerivedResource({url:f}),e.lastResource.appendForwardSlash(),e.layerJsonResource=e.lastResource.getDerivedResource({url:\"layer.json\"}),await Z8(e),!0):(console.log(\"A layer.json can't have a parentUrl if it does't have an available array.\"),!0):!0}function Wyt(e,t,n){let i=`An error occurred while accessing ${e.layerJsonResource.url}.`;if(l(t)&&(i+=` ${t.message}`),e.previousError=So.reportError(e.previousError,n,l(n)?n._errorEvent:void 0,i),e.previousError.retry)return Z8(e,n);throw new ue(i)}async function Pyt(e,t,n){await ETe(e,t,n);let i=e.overallAvailability.length,o=e.overallMaxZoom;if(i>0){let r=e.availability=new Xh(e.tilingScheme,!o||isNaN(o)?i:o);for(let s=0;s<i;++s){let a=e.overallAvailability[s];for(let c=0;c<a.length;++c){let d=a[c];r.addAvailableTileRange(s,d[0],d[1],d[2],d[3])}}}if(e.attribution.length>0){let r=new Zt(e.attribution);e.tileCredits.push(r)}return!0}async function Z8(e,t){try{let n=await e.layerJsonResource.fetchJson();return Pyt(e,n,t)}catch(n){return l(n)&&n.statusCode===404&&!e.forceRequestLayerJson?(await ETe(e,{tilejson:\"2.1.0\",format:\"heightmap-1.0\",version:\"1.0.0\",scheme:\"tms\",tiles:[\"{z}/{x}/{y}.terrain?v={version}\"]},t),!0):Wyt(e,n,t)}}function Ih(e){e=g(e,g.EMPTY_OBJECT),this._heightmapWidth=void 0,this._heightmapStructure=void 0,this._hasWaterMask=!1,this._hasVertexNormals=!1,this._hasMetadata=!1,this._scheme=void 0,this._ellipsoid=e.ellipsoid,this._extras={},this._overallAvailability=[],this.forceRequestLayerJson=g(e.forceRequestLayerJson,!1),this._requestVertexNormals=g(e.requestVertexNormals,!1),this._requestWaterMask=g(e.requestWaterMask,!1),this._requestMetadata=g(e.requestMetadata,!0),this._errorEvent=new ge;let t=e.credit;typeof t==\"string\"&&(t=new Zt(t)),this._credit=t,this._availability=void 0,this._tilingScheme=void 0,this._levelZeroMaximumGeometricError=void 0,this._layers=void 0,this._tileCredits=void 0}var V8={OCT_VERTEX_NORMALS:1,WATER_MASK:2,METADATA:4};function RTe(e){return!l(e)||e.length===0?{Accept:\"application/vnd.quantized-mesh,application/octet-stream;q=0.9,*/*;q=0.01\"}:{Accept:`application/vnd.quantized-mesh;extensions=${e.join(\"-\")},application/octet-stream;q=0.9,*/*;q=0.01`}}function vyt(e,t,n,i,o){let r=new Uint16Array(t,0,e._heightmapWidth*e._heightmapWidth);return new Fa({buffer:r,childTileMask:new Uint8Array(t,r.byteLength,1)[0],waterMask:new Uint8Array(t,r.byteLength+1,t.byteLength-r.byteLength-1),width:e._heightmapWidth,height:e._heightmapWidth,structure:e._heightmapStructure,credits:e._tileCredits})}function wyt(e,t,n,i,o,r){let s=r.littleEndianExtensionSize,a=0,c=3,d=c+1,u=Float64Array.BYTES_PER_ELEMENT*c,m=Float64Array.BYTES_PER_ELEMENT*d,b=Uint16Array.BYTES_PER_ELEMENT*3,f=3,x=Uint16Array.BYTES_PER_ELEMENT,_=x*f,C=new DataView(t),V=new h(C.getFloat64(a,!0),C.getFloat64(a+8,!0),C.getFloat64(a+16,!0));a+=u;let L=C.getFloat32(a,!0);a+=Float32Array.BYTES_PER_ELEMENT;let R=C.getFloat32(a,!0);a+=Float32Array.BYTES_PER_ELEMENT;let G=new ce(new h(C.getFloat64(a,!0),C.getFloat64(a+8,!0),C.getFloat64(a+16,!0)),C.getFloat64(a+u,!0));a+=m;let X=new h(C.getFloat64(a,!0),C.getFloat64(a+8,!0),C.getFloat64(a+16,!0));a+=u;let v=C.getUint32(a,!0);a+=Uint32Array.BYTES_PER_ELEMENT;let W=new Uint16Array(t,a,v*3);a+=v*b,v>64*1024&&(x=Uint32Array.BYTES_PER_ELEMENT,_=x*f);let F=W.subarray(0,v),A=W.subarray(v,2*v),y=W.subarray(v*2,3*v);wn.zigZagDeltaDecode(F,A,y),a%x!==0&&(a+=x-a%x);let Z=C.getUint32(a,!0);a+=Uint32Array.BYTES_PER_ELEMENT;let E=Ae.createTypedArrayFromArrayBuffer(v,t,a,Z*f);a+=Z*_;let I=0,w=E.length;for(let ae=0;ae<w;++ae){let ye=E[ae];E[ae]=I-ye,ye===0&&++I}let k=C.getUint32(a,!0);a+=Uint32Array.BYTES_PER_ELEMENT;let B=Ae.createTypedArrayFromArrayBuffer(v,t,a,k);a+=k*x;let U=C.getUint32(a,!0);a+=Uint32Array.BYTES_PER_ELEMENT;let Y=Ae.createTypedArrayFromArrayBuffer(v,t,a,U);a+=U*x;let N=C.getUint32(a,!0);a+=Uint32Array.BYTES_PER_ELEMENT;let J=Ae.createTypedArrayFromArrayBuffer(v,t,a,N);a+=N*x;let z=C.getUint32(a,!0);a+=Uint32Array.BYTES_PER_ELEMENT;let ee=Ae.createTypedArrayFromArrayBuffer(v,t,a,z);a+=z*x;let H,j;for(;a<C.byteLength;){let ae=C.getUint8(a,!0);a+=Uint8Array.BYTES_PER_ELEMENT;let ye=C.getUint32(a,s);if(a+=Uint32Array.BYTES_PER_ELEMENT,ae===V8.OCT_VERTEX_NORMALS&&e._requestVertexNormals)H=new Uint8Array(t,a,v*2);else if(ae===V8.WATER_MASK&&e._requestWaterMask)j=new Uint8Array(t,a,ye);else if(ae===V8.METADATA&&e._requestMetadata){let Te=C.getUint32(a,!0);if(Te>0){let Re=Go(new Uint8Array(t),a+Uint32Array.BYTES_PER_ELEMENT,Te).available;if(l(Re))for(let ke=0;ke<Re.length;++ke){let rt=n+ke+1,yt=Re[ke],Dt=e._tilingScheme.getNumberOfYTilesAtLevel(rt);for(let it=0;it<yt.length;++it){let Ie=yt[it],ft=Dt-Ie.endY-1,Ke=Dt-Ie.startY-1;e.availability.addAvailableTileRange(rt,Ie.startX,ft,Ie.endX,Ke),r.availability.addAvailableTileRange(rt,Ie.startX,ft,Ie.endX,Ke)}}}r.availabilityTilesLoaded.addAvailableTileRange(n,i,o,i,o)}a+=ye}let q=e.getLevelMaximumGeometricError(n)*5,pe=e._tilingScheme.tileXYToRectangle(i,o,n),_e=Zn.fromRectangle(pe,L,R,e._tilingScheme.ellipsoid);return new QT({center:V,minimumHeight:L,maximumHeight:R,boundingSphere:G,orientedBoundingBox:_e,horizonOcclusionPoint:X,quantizedVertices:W,encodedNormals:H,indices:E,westIndices:B,southIndices:Y,eastIndices:J,northIndices:ee,westSkirtHeight:q,southSkirtHeight:q,eastSkirtHeight:q,northSkirtHeight:q,childTileMask:e.availability.computeChildMaskForTile(n,i,o),waterMask:j,credits:e._tileCredits})}Ih.prototype.requestTileGeometry=function(e,t,n,i){let o=this._layers,r,s=o.length,a=!1,c=Promise.resolve();if(s===1)r=o[0];else for(let d=0;d<s;++d){let u=o[d];if(!l(u.availability)||u.availability.isTileAvailable(n,e,t)){r=u;break}let m=R8(this,e,t,n,u,d===0);m.result&&(a=!0,c=c.then(()=>m.promise))}return!l(r)&&a?c.then(()=>new Promise(d=>{setTimeout(()=>{let u=this.requestTileGeometry(e,t,n,i);d(u)},0)})):XTe(this,e,t,n,r,i)};function XTe(e,t,n,i,o,r){if(!l(o))return Promise.reject(new ue(\"Terrain tile doesn't exist\"));let s=o.tileUrlTemplates;if(s.length===0)return;let a;!e._scheme||e._scheme===\"tms\"?a=e._tilingScheme.getNumberOfYTilesAtLevel(i)-n-1:a=n;let c=[];e._requestVertexNormals&&o.hasVertexNormals&&c.push(o.littleEndianExtensionSize?\"octvertexnormals\":\"vertexnormals\"),e._requestWaterMask&&o.hasWaterMask&&c.push(\"watermask\"),e._requestMetadata&&o.hasMetadata&&c.push(\"metadata\");let d,u,m=s[(t+a+i)%s.length],p=o.resource;l(p._ionEndpoint)&&!l(p._ionEndpoint.externalType)?(c.length!==0&&(u={extensions:c.join(\"-\")}),d=RTe(void 0)):d=RTe(c);let b=p.getDerivedResource({url:m,templateValues:{version:o.version,z:i,x:t,y:a},queryParameters:u,headers:d,request:r}).fetchArrayBuffer();if(l(b))return b.then(function(f){return l(f)?l(e._heightmapStructure)?vyt(e,f,i,t,n):wyt(e,f,i,t,n,o):Promise.reject(new ue(\"Mesh buffer doesn't exist.\"))})}Object.defineProperties(Ih.prototype,{errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){return this._credit}},tilingScheme:{get:function(){return this._tilingScheme}},hasWaterMask:{get:function(){return this._hasWaterMask&&this._requestWaterMask}},hasVertexNormals:{get:function(){return this._hasVertexNormals&&this._requestVertexNormals}},hasMetadata:{get:function(){return this._hasMetadata&&this._requestMetadata}},requestVertexNormals:{get:function(){return this._requestVertexNormals}},requestWaterMask:{get:function(){return this._requestWaterMask}},requestMetadata:{get:function(){return this._requestMetadata}},availability:{get:function(){return this._availability}},extras:{get:function(){return this._extras}}});Ih.prototype.getLevelMaximumGeometricError=function(e){return this._levelZeroMaximumGeometricError/(1<<e)};Ih.fromIonAssetId=async function(e,t){let n=await md.fromAssetId(e);return Ih.fromUrl(n,t)};Ih.fromUrl=async function(e,t){t=g(t,g.EMPTY_OBJECT),e=await Promise.resolve(e);let n=Xe.createIfNeeded(e);n.appendForwardSlash();let i=new GTe(t);i.lastResource=n,i.layerJsonResource=i.lastResource.getDerivedResource({url:\"layer.json\"}),await Z8(i);let o=new Ih(t);return i.build(o),o};Ih.prototype.getTileDataAvailable=function(e,t,n){if(!l(this._availability))return;if(n>this._availability._maximumLevel)return!1;if(this._availability.isTileAvailable(n,e,t))return!0;if(!this._hasMetadata)return!1;let i=this._layers,o=i.length;for(let r=0;r<o;++r)if(R8(this,e,t,n,i[r],r===0).result)return;return!1};Ih.prototype.loadTileDataAvailability=function(e,t,n){if(!l(this._availability)||n>this._availability._maximumLevel||this._availability.isTileAvailable(n,e,t)||!this._hasMetadata)return;let i=this._layers,o=i.length;for(let r=0;r<o;++r){let s=R8(this,e,t,n,i[r],r===0);if(l(s.promise))return s.promise}};function L8(e,t,n,i){if(i===0)return;let o=e.availabilityLevels,r=i%o===0?i-o:(i/o|0)*o,s=1<<i-r,a=t/s|0,c=n/s|0;return{level:r,x:a,y:c}}function R8(e,t,n,i,o,r){if(!l(o.availabilityLevels))return{result:!1};let s,a=function(){delete o.availabilityPromiseCache[s]},c=o.availabilityTilesLoaded,d=o.availability,u=L8(o,t,n,i);for(;l(u);){if(d.isTileAvailable(u.level,u.x,u.y)&&!c.isTileAvailable(u.level,u.x,u.y)){let m;if(!r&&(s=`${u.level}-${u.x}-${u.y}`,m=o.availabilityPromiseCache[s],!l(m))){let p=new Do({throttle:!1,throttleByServer:!0,type:is.TERRAIN});m=XTe(e,u.x,u.y,u.level,o,p),l(m)&&(o.availabilityPromiseCache[s]=m,m.then(a))}return{result:!0,promise:m}}u=L8(o,u.x,u.y,u.level)}return{result:!1}}Ih._getAvailabilityTile=L8;var jT=Ih;var MYi=T(S(),1);function mb(e){e=g(e,g.EMPTY_OBJECT);let t=e.radius,n={center:e.center,semiMajorAxis:t,semiMinorAxis:t,ellipsoid:e.ellipsoid,height:e.height,extrudedHeight:e.extrudedHeight,granularity:e.granularity,vertexFormat:e.vertexFormat,stRotation:e.stRotation,shadowVolume:e.shadowVolume};this._ellipseGeometry=new $c(n),this._workerName=\"createCircleGeometry\"}mb.packedLength=$c.packedLength;mb.pack=function(e,t,n){return $c.pack(e._ellipseGeometry,t,n)};var Fyt=new $c({center:new h,semiMajorAxis:1,semiMinorAxis:1}),Zc={center:new h,radius:void 0,ellipsoid:oe.clone(oe.UNIT_SPHERE),height:void 0,extrudedHeight:void 0,granularity:void 0,vertexFormat:new Pe,stRotation:void 0,semiMajorAxis:void 0,semiMinorAxis:void 0,shadowVolume:void 0};mb.unpack=function(e,t,n){let i=$c.unpack(e,t,Fyt);return Zc.center=h.clone(i._center,Zc.center),Zc.ellipsoid=oe.clone(i._ellipsoid,Zc.ellipsoid),Zc.height=i._height,Zc.extrudedHeight=i._extrudedHeight,Zc.granularity=i._granularity,Zc.vertexFormat=Pe.clone(i._vertexFormat,Zc.vertexFormat),Zc.stRotation=i._stRotation,Zc.shadowVolume=i._shadowVolume,l(n)?(Zc.semiMajorAxis=i._semiMajorAxis,Zc.semiMinorAxis=i._semiMinorAxis,n._ellipseGeometry=new $c(Zc),n):(Zc.radius=i._semiMajorAxis,new mb(Zc))};mb.createGeometry=function(e){return $c.createGeometry(e._ellipseGeometry)};mb.createShadowVolume=function(e,t,n){let i=e._ellipseGeometry._granularity,o=e._ellipseGeometry._ellipsoid,r=t(i,o),s=n(i,o);return new mb({center:e._ellipseGeometry._center,radius:e._ellipseGeometry._semiMajorAxis,ellipsoid:o,stRotation:e._ellipseGeometry._stRotation,granularity:i,extrudedHeight:r,height:s,vertexFormat:Pe.POSITION_ONLY,shadowVolume:!0})};Object.defineProperties(mb.prototype,{rectangle:{get:function(){return this._ellipseGeometry.rectangle}},textureCoordinateRotationPoints:{get:function(){return this._ellipseGeometry.textureCoordinateRotationPoints}}});var G8=mb;var OYi=T(S(),1);function aL(e){e=g(e,g.EMPTY_OBJECT);let t=e.radius,n={center:e.center,semiMajorAxis:t,semiMinorAxis:t,ellipsoid:e.ellipsoid,height:e.height,extrudedHeight:e.extrudedHeight,granularity:e.granularity,numberOfVerticalLines:e.numberOfVerticalLines};this._ellipseGeometry=new Gd(n),this._workerName=\"createCircleOutlineGeometry\"}aL.packedLength=Gd.packedLength;aL.pack=function(e,t,n){return Gd.pack(e._ellipseGeometry,t,n)};var Ayt=new Gd({center:new h,semiMajorAxis:1,semiMinorAxis:1}),Jd={center:new h,radius:void 0,ellipsoid:oe.clone(oe.UNIT_SPHERE),height:void 0,extrudedHeight:void 0,granularity:void 0,numberOfVerticalLines:void 0,semiMajorAxis:void 0,semiMinorAxis:void 0};aL.unpack=function(e,t,n){let i=Gd.unpack(e,t,Ayt);return Jd.center=h.clone(i._center,Jd.center),Jd.ellipsoid=oe.clone(i._ellipsoid,Jd.ellipsoid),Jd.height=i._height,Jd.extrudedHeight=i._extrudedHeight,Jd.granularity=i._granularity,Jd.numberOfVerticalLines=i._numberOfVerticalLines,l(n)?(Jd.semiMajorAxis=i._semiMajorAxis,Jd.semiMinorAxis=i._semiMinorAxis,n._ellipseGeometry=new Gd(Jd),n):(Jd.radius=i._semiMajorAxis,new aL(Jd))};aL.createGeometry=function(e){return Gd.createGeometry(e._ellipseGeometry)};var E8=aL;var tOi=T(S(),1);function cL(e){e=g(e,g.EMPTY_OBJECT),this._callback=e.callback,this._tilingScheme=e.tilingScheme,l(this._tilingScheme)||(this._tilingScheme=new Ui({ellipsoid:g(e.ellipsoid,oe.WGS84)})),this._width=e.width,this._height=e.height;let t=Math.max(this._width,this._height);this._levelZeroMaximumGeometricError=Jr.getEstimatedLevelZeroGeometricErrorForAHeightmap(this._tilingScheme.ellipsoid,t,this._tilingScheme.getNumberOfXTilesAtLevel(0)),this._errorEvent=new ge;let n=e.credit;typeof n==\"string\"&&(n=new Zt(n)),this._credit=n}Object.defineProperties(cL.prototype,{errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){return this._credit}},tilingScheme:{get:function(){return this._tilingScheme}},hasWaterMask:{get:function(){return!1}},hasVertexNormals:{get:function(){return!1}},width:{get:function(){return this._width}},height:{get:function(){return this._height}}});cL.prototype.requestTileGeometry=function(e,t,n,i){let o=this._callback(e,t,n);if(!l(o))return;let r=this._width,s=this._height;return Promise.resolve(o).then(function(a){let c=a;return Array.isArray(c)&&(c=new Float64Array(c)),new Fa({buffer:c,width:r,height:s})})};cL.prototype.getLevelMaximumGeometricError=function(e){return this._levelZeroMaximumGeometricError/(1<<e)};cL.prototype.getTileDataAvailable=function(e,t,n){};cL.prototype.loadTileDataAvailability=function(e,t,n){};var X8=cL;var iOi=T(S(),1);function ITe(e){this.proxy=e}ITe.prototype.getURL=function(e){let t=this.proxy.indexOf(\"?\")===-1?\"?\":\"\";return this.proxy+t+encodeURIComponent(e)};var I8=ITe;var rOi=T(S(),1),Myt={SEARCH:0,AUTOCOMPLETE:1},Ig=Object.freeze(Myt);var dOi=T(S(),1);function V3(){fe.throwInstantiationError()}Object.defineProperties(V3.prototype,{credit:{get:fe.throwInstantiationError}});V3.getCreditsFromResult=function(e){if(l(e.attributions))return e.attributions.map(Zt.getIonCredit)};V3.prototype.geocode=fe.throwInstantiationError;var lL=V3;var hOi=T(S(),1);function WTe(){fe.throwInstantiationError()}WTe.createGeometry=function(e){fe.throwInstantiationError()};var W8=WTe;var vOi=T(S(),1),Yyt=T(P8(),1);var _Oi=T(S(),1);var bOi=T(S(),1);function Nyt(e,t){return(e&t)!==0}var Rc=Nyt;var kyt=[1,2,4,8],PTe=15,Uyt=16,Dyt=64,Byt=128;function tp(e,t,n,i,o,r){this._bits=e,this.cnodeVersion=t,this.imageryVersion=n,this.terrainVersion=i,this.imageryProvider=o,this.terrainProvider=r,this.ancestorHasTerrain=!1,this.terrainState=void 0}tp.clone=function(e,t){return l(t)?(t._bits=e._bits,t.cnodeVersion=e.cnodeVersion,t.imageryVersion=e.imageryVersion,t.terrainVersion=e.terrainVersion,t.imageryProvider=e.imageryProvider,t.terrainProvider=e.terrainProvider):t=new tp(e._bits,e.cnodeVersion,e.imageryVersion,e.terrainVersion,e.imageryProvider,e.terrainProvider),t.ancestorHasTerrain=e.ancestorHasTerrain,t.terrainState=e.terrainState,t};tp.prototype.setParent=function(e){this.ancestorHasTerrain=e.ancestorHasTerrain||this.hasTerrain()};tp.prototype.hasSubtree=function(){return Rc(this._bits,Uyt)};tp.prototype.hasImagery=function(){return Rc(this._bits,Dyt)};tp.prototype.hasTerrain=function(){return Rc(this._bits,Byt)};tp.prototype.hasChildren=function(){return Rc(this._bits,PTe)};tp.prototype.hasChild=function(e){return Rc(this._bits,kyt[e])};tp.prototype.getChildBitmask=function(){return this._bits&PTe};var A9=tp;function Oyt(e){let t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n);for(let o=0;o<t;++o)i[o]=e.charCodeAt(o);return n}var zyt=Oyt(`E\\xF4\\xBD\\vy\\xE2jE\"\u0005\\x92,\u0017\\xCD\u0006q\\xF8I\u0010FgQ\\0B%\\xC6\\xE8a,f)\\b\\xC64\\xDCjb%y w\u001dmi\\xD6\\xF0\\x9Ck\\x93\\xA1\\xBDNu\\xE0A\u0004[\\xDF@V\\f\\xD9\\xBBr\\x9B\\x81|\u00103S\\xEEOl\\xD4q\u0005\\xB0{\\xC0\\x7FE\u0003VZ\\xADwUe\\v3\\x92*\\xAC\u0019l5\u0014\\xC5\u001d0s\\xF83>mF8J\\xB4\\xDD\\xF0.\\xDD\u0017u\u0016\\xDA\\x8CDt\"\u0006\\xFAa\"\\f3\"So\\xAF9D\\v\\x8C\u000e9\\xD99\u0013L\\xB9\\xBF\\x7F\\xAB\\\\\\x8CP_\\x9F\"ux\u001f\\xE9\\x07q\\x91h;\\xC1\\xC4\\x9B\\x7F\\xF0<VqH\\x82\u0005'UfYNe\u001d\\x98u\\xA3aF}a?\u0015A\\0\\x9F\u0014\u0006\\xD7\\xB44M\\xCE\u0013\\x87F\\xB0\u001a\\xD5\u0005\u001c\\xB8\\x8A'{\\x8B\\xDC+\\xBBMg0\\xC8\\xD1\\xF6\\\\\\x8FP\\xFA[/F\\x9Bn5\u0018/'C.\\xEB \\f^\u0010\u0005\u0010\\xA5s\\x1Be4\\xE5l.jC'c\u0014#U\\xA9?q{gC}:\\xAF\\xCD\\xE2TU\\x9C\\xFDK\\xC6\\xE2\\x9F/(\\xED\\xCB\\\\\\xC6-f\\x07\\x88\\xA7;/\u0018*\"N\u000e\\xB0k.\\xDD\\r\\x95}}G\\xBAC\\xB2\u0011\\xB2+>M\\xAA>}\\xE6\\xCEI\\x89\\xC6\\xE6x\\fa1\u0005-\u0001\\xA4O\\xA5~q \\x88\\xEC\\r1\\xE8N\\v\\0nPh}\u0017=\\b\\r\u0017\\x95\\xA6n\\xA3h\\x97$[k\\xF3\u0017#\\xF3\\xB6s\\xB3\\r\\v@\\xC0\\x9F\\xD8\u0004Q]\\xFA\u001a\u0017\".\u0015j\\xDFI\\0\\xB9\\xA0wU\\xC6\\xEF\u0010j\\xBF{GL\\x7F\\x83\u0017\u0005\\xEE\\xDC\\xDCF\\x85\\xA9\\xADS\\x07+S4\u0006\\x07\\xFF\u0014\\x94Y\u0019\u0002\\xE48\\xE81\\x83N\\xB9XFk\\xCB-#\\x86\\x92p\\x005\\x88\"\\xCF1\\xB2&/\\xE7\\xC3u-6,rt\\xB0#G\\xB7\\xD3\\xD1&\u0016\\x857r\\xE2\\0\\x8CD\\xCF\u0010\\xDA3-\u001a\\xDE\\`\\x86i#i*|\\xCDKQ\\r\\x95T9w.)\\xEA\\x1B\\xA6P\\xA2j\\x8FoP\\x99\\\\>T\\xFB\\xEFP[\\v\\x07E\u0017\\x89m(\u0013w7\u001d\\xDB\\x8E\u001eJ\u0005fJo\\x99 \\xE5p\\xE2\\xB9q~\\fmI\u0004-z\\xFEr\\xC7\\xF2Y0\\x8F\\xBB\u0002]s\\xE5\\xC9 \\xEAx\\xEC \\x90\\xF0\\x8A\\x7FB\u0017|G\u0019\\`\\xB0\u0016\\xBD&\\xB7q\\xB6\\xC7\\x9F\u000e\\xD13\\x82=\\xD3\\xAB\\xEEc\\x99\\xC8+S\\xA0D\\\\q\u0001\\xC6\\xCCD\u001f2O<\\xCA\\xC0)=R\\xD3a\u0019X\\xA9}e\\xB4\\xDC\\xCF\\r\\xF4=\\xF1\\b\\xA9B\\xDA# \\xD8\\xBF^PI\\xF8M\\xC0\\xCBGL\u001cO\\xF7{+\\xD8\u0016\u0018\\xC51\\x92;\\xB5o\\xDCl\\r\\x92\\x88\u0016\\xD1\\x9E\\xDB?\\xE2\\xE9\\xDA_\\xD4\\x84\\xE2FaZ\\xDE\u001cU\\xCF\\xA4\\0\\xBE\\xFD\\xCEg\\xF1Ji\u001c\\x97\\xE6 H\\xD8]\\x7F~\\xAEq \u000eN\\xAE\\xC0V\\xA9\\x91\u0001<\\x82\u001d\u000fr\\xE7v\\xEC)I\\xD6]-\\x83\\xE3\\xDB6\u0006\\xA9;f\u0013\\x97\\x87j\\xD5\\xB6=P^R\\xB9K\\xC7sWx\\xC9\\xF4.Y\\x07\\x95\\x93o\\xD0K\u0017W\u0019>''\\xC7\\`\\xDB;\\xED\\x9A\u000eSD\u0016>?\\x8D\\x92mw\\xA2 \\xEB?R\\xA8\\xC6U^1I7\\x85\\xF4\\xC5\u001f&-\\xA9\u001c\\xBF\\x8B'T\\xDA\\xC3j \\xE5*x\u0004\\xB0\\xD6\\x90pr\\xAA\\x8Bh\\xBD\\x88\\xF7\u0002_H\\xB1~\\xC0XL?f\u001a\\xF9>\\xE1e\\xC0p\\xA7\\xCF8i\\xAF\\xF0VldI\\x9C'\\xADxtO\\xC2\\x87\\xDEV9\\0\\xDAw\\v\\xCB-\\x1B\\x89\\xFB5O\u0002\\xF5\\bQ\u0013\\`\\xC1 ZGM&\u001c30x\\xDA\\xC0\\x9CFG\\xE2[y\\`In7gS >\\xE9\\xECF9\\xB2\\xF14\\r\\xC6\\x84Sun\\xE1\\fY\\xD9\u001e\\xDE)\\x85\u0010{II\\xA5wy\\xBEIV.6\\xE7\\v:\\xBBO\u0003b{\\xD2M1\\x95/\\xBD8{\\xA8O!\\xE1\\xECFpv\\x95})\"x\\x88 \\x90\\xDD\\x9D\\\\\\xDA\\xDE\u0019Q\\xCF\\xF0\\xFCYRe|3\u0013\\xDF\\xF3H\\xDA\\xBB*u\\xDB\\`\\xB2\u0002\u0015\\xD4\\xFC\u0019\\xED\\x1B\\xEC\\x7F5\\xA8\\xFF(1\\x07-\u0012\\xC8\\xDC\\x88F|\\x8A[\"`);function Qd(e){this.imageryPresent=!0,this.protoImagery=void 0,this.terrainPresent=!0,this.negativeAltitudeExponentBias=32,this.negativeAltitudeThreshold=P.EPSILON12,this.providers={},this.key=void 0,this._resource=void 0,this._quadPacketVersion=1,this._tileInfo={},this._subtreePromises={}}Object.defineProperties(Qd.prototype,{url:{get:function(){return this._resource.url}},proxy:{get:function(){return this._resource.proxy}},resource:{get:function(){return this._resource}}});Qd.fromUrl=async function(e){let t=e;typeof t!=\"string\"&&!(t instanceof Xe)&&(t=e.url);let n=Xe.createIfNeeded(t);n.appendForwardSlash();let i=new Qd;i._resource=n;try{await Hyt(i),await i.getQuadTreePacket(\"\",i._quadPacketVersion)}catch(o){let r=`An error occurred while accessing ${wTe(i,\"\",1).url}: ${o}`;throw new ue(r)}return i};Qd.tileXYToQuadKey=function(e,t,n){let i=\"\";for(let o=n;o>=0;--o){let r=1<<o,s=0;Rc(t,r)?Rc(e,r)&&(s|=1):(s|=2,Rc(e,r)||(s|=1)),i+=s}return i};Qd.quadKeyToTileXY=function(e){let t=0,n=0,i=e.length-1;for(let o=i;o>=0;--o){let r=1<<o,s=+e[i-o];Rc(s,2)?Rc(s,1)||(t|=r):(n|=r,Rc(s,1)&&(t|=r))}return{x:t,y:n,level:i}};Qd.prototype.isValid=function(e){let t=this.getTileInformationFromQuadKey(e);if(l(t))return t!==null;let n=!0,i=e,o;for(;i.length>1;)if(o=i.substring(i.length-1),i=i.substring(0,i.length-1),t=this.getTileInformationFromQuadKey(i),l(t)){!t.hasSubtree()&&!t.hasChild(parseInt(o))&&(n=!1);break}else if(t===null){n=!1;break}return n};var vTe=new di(\"decodeGoogleEarthEnterprisePacket\");Qd.prototype.getQuadTreePacket=function(e,t,n){t=g(t,1),e=g(e,\"\");let o=wTe(this,e,t,n).fetchArrayBuffer();if(!l(o))return;let r=this._tileInfo,s=this.key;return o.then(function(a){return vTe.scheduleTask({buffer:a,quadKey:e,type:\"Metadata\",key:s},[a]).then(function(d){let u,m=-1;if(e!==\"\"){m=e.length+1;let f=d[e];u=r[e],u._bits|=f._bits,delete d[e]}let p=Object.keys(d);p.sort(function(f,x){return f.length-x.length});let b=p.length;for(let f=0;f<b;++f){let x=p[f];if(d[x]!==null){let C=A9.clone(d[x]),V=x.length;if(V===m)C.setParent(u);else if(V>1){let L=r[x.substring(0,x.length-1)];C.setParent(L)}r[x]=C}else r[x]=null}})})};Qd.prototype.populateSubtree=function(e,t,n,i){let o=Qd.tileXYToQuadKey(e,t,n);return F8(this,o,i)};function F8(e,t,n){let i=e._tileInfo,o=t,r=i[o];if(l(r)&&(!r.hasSubtree()||r.hasChildren()))return r;for(;r===void 0&&o.length>1;)o=o.substring(0,o.length-1),r=i[o];let s,a=e._subtreePromises,c=a[o];if(l(c))return c.then(function(){return s=new Do({throttle:n.throttle,throttleByServer:n.throttleByServer,type:n.type,priorityFunction:n.priorityFunction}),F8(e,t,s)});if(!l(r)||!r.hasSubtree())return Promise.reject(new ue(`Couldn't load metadata for tile ${t}`));if(c=e.getQuadTreePacket(o,r.cnodeVersion,n),!!l(c))return a[o]=c,c.then(function(){return s=new Do({throttle:n.throttle,throttleByServer:n.throttleByServer,type:n.type,priorityFunction:n.priorityFunction}),F8(e,t,s)}).finally(function(){delete a[o]})}Qd.prototype.getTileInformation=function(e,t,n){let i=Qd.tileXYToQuadKey(e,t,n);return this._tileInfo[i]};Qd.prototype.getTileInformationFromQuadKey=function(e){return this._tileInfo[e]};function wTe(e,t,n,i){return e._resource.getDerivedResource({url:`flatfile?q2-0${t}-q.${n.toString()}`,request:i})}var v8,w8;function Hyt(e){let t=e._resource.getDerivedResource({url:\"dbRoot.v5\",queryParameters:{output:\"proto\"}});if(!l(w8)){let n=on(\"ThirdParty/google-earth-dbroot-parser.js\"),i=window.cesiumGoogleEarthDbRootParser;w8=Qg(n).then(function(){v8=window.cesiumGoogleEarthDbRootParser(Yyt),l(i)?window.cesiumGoogleEarthDbRootParser=i:delete window.cesiumGoogleEarthDbRootParser})}return w8.then(function(){return t.fetchArrayBuffer()}).then(function(n){let i=v8.EncryptedDbRootProto.decode(new Uint8Array(n)),o=i.encryptionData,r=o.byteOffset,s=r+o.byteLength,a=e.key=o.buffer.slice(r,s);o=i.dbrootData,r=o.byteOffset,s=r+o.byteLength;let c=o.buffer.slice(r,s);return vTe.scheduleTask({buffer:c,type:\"DbRoot\",key:a},[c])}).then(function(n){let i=v8.DbRootProto.decode(new Uint8Array(n.buffer));if(e.imageryPresent=g(i.imageryPresent,e.imageryPresent),e.protoImagery=i.protoImagery,e.terrainPresent=g(i.terrainPresent,e.terrainPresent),l(i.endSnippet)&&l(i.endSnippet.model)){let a=i.endSnippet.model;e.negativeAltitudeExponentBias=g(a.negativeAltitudeExponentBias,e.negativeAltitudeExponentBias),e.negativeAltitudeThreshold=g(a.compressedNegativeAltitudeThreshold,e.negativeAltitudeThreshold)}l(i.databaseVersion)&&(e._quadPacketVersion=g(i.databaseVersion.quadtreeVersion,e._quadPacketVersion));let o=e.providers,r=g(i.providerInfo,[]),s=r.length;for(let a=0;a<s;++a){let c=r[a],d=c.copyrightString;l(d)&&(o[c.providerId]=new Zt(d.value))}}).catch(function(){console.log(`Failed to retrieve ${t.url}. Using defaults.`),e.key=zyt})}var hb=Qd;var jOi=T(S(),1);function qT(e){e=g(e,g.EMPTY_OBJECT),this._buffer=e.buffer,this._credits=e.credits,this._negativeAltitudeExponentBias=e.negativeAltitudeExponentBias,this._negativeElevationThreshold=e.negativeElevationThreshold;let t=g(e.childTileMask,15),n=t&3;n|=t&4?8:0,n|=t&8?4:0,this._childTileMask=n,this._createdByUpsampling=g(e.createdByUpsampling,!1),this._skirtHeight=void 0,this._bufferType=this._buffer.constructor,this._mesh=void 0,this._minimumHeight=void 0,this._maximumHeight=void 0}Object.defineProperties(qT.prototype,{credits:{get:function(){return this._credits}},waterMask:{get:function(){}}});var MTe=\"createVerticesFromGoogleEarthEnterpriseBuffer\",Kyt=new di(MTe),Jyt=new di(MTe,gh.maximumAsynchronousTasks),FTe=new le,A8=new le;qT.prototype.createMesh=function(e){e=g(e,g.EMPTY_OBJECT);let t=e.tilingScheme,n=e.x,i=e.y,o=e.level,r=g(e.exaggeration,1),s=g(e.exaggerationRelativeHeight,0),a=g(e.throttle,!0),c=t.ellipsoid;t.tileXYToNativeRectangle(n,i,o,FTe),t.tileXYToRectangle(n,i,o,A8);let d=c.cartographicToCartesian(le.center(A8)),m=40075.16/(1<<o);this._skirtHeight=Math.min(m*8,1e3);let b=(a?Jyt:Kyt).scheduleTask({buffer:this._buffer,nativeRectangle:FTe,rectangle:A8,relativeToCenter:d,ellipsoid:c,skirtHeight:this._skirtHeight,exaggeration:r,exaggerationRelativeHeight:s,includeWebMercatorT:!0,negativeAltitudeExponentBias:this._negativeAltitudeExponentBias,negativeElevationThreshold:this._negativeElevationThreshold});if(!l(b))return;let f=this;return b.then(function(x){return f._mesh=new Qu(d,new Float32Array(x.vertices),new Uint16Array(x.indices),x.indexCountWithoutSkirts,x.vertexCountWithoutSkirts,x.minimumHeight,x.maximumHeight,ce.clone(x.boundingSphere3D),h.clone(x.occludeePointInScaledSpace),x.numberOfAttributes,Zn.clone(x.orientedBoundingBox),gc.clone(x.encoding),x.westIndicesSouthToNorth,x.southIndicesEastToWest,x.eastIndicesNorthToSouth,x.northIndicesWestToEast),f._minimumHeight=x.minimumHeight,f._maximumHeight=x.maximumHeight,f._buffer=void 0,f._mesh})};qT.prototype.interpolateHeight=function(e,t,n){let i=P.clamp((t-e.west)/e.width,0,1),o=P.clamp((n-e.south)/e.height,0,1);return l(this._mesh)?egt(this,i,o):igt(this,i,o,e)};var Qyt=new di(\"upsampleQuantizedTerrainMesh\",gh.maximumAsynchronousTasks);qT.prototype.upsample=function(e,t,n,i,o,r,s){let a=this._mesh;if(!l(this._mesh))return;let c=t*2!==o,d=n*2===r,u=e.ellipsoid,m=e.tileXYToRectangle(o,r,s),p=Qyt.scheduleTask({vertices:a.vertices,indices:a.indices,indexCountWithoutSkirts:a.indexCountWithoutSkirts,vertexCountWithoutSkirts:a.vertexCountWithoutSkirts,encoding:a.encoding,minimumHeight:this._minimumHeight,maximumHeight:this._maximumHeight,isEastChild:c,isNorthChild:d,childRectangle:m,ellipsoid:u});if(!l(p))return;let b=this;return p.then(function(f){let x=new Uint16Array(f.vertices),_=Ae.createTypedArray(x.length/3,f.indices),C=b._skirtHeight;return new QT({quantizedVertices:x,indices:_,minimumHeight:f.minimumHeight,maximumHeight:f.maximumHeight,boundingSphere:ce.clone(f.boundingSphere),orientedBoundingBox:Zn.clone(f.orientedBoundingBox),horizonOcclusionPoint:h.clone(f.horizonOcclusionPoint),westIndices:f.westIndices,southIndices:f.southIndices,eastIndices:f.eastIndices,northIndices:f.northIndices,westSkirtHeight:C,southSkirtHeight:C,eastSkirtHeight:C,northSkirtHeight:C,childTileMask:0,createdByUpsampling:!0,credits:b._credits})})};qT.prototype.isChildAvailable=function(e,t,n,i){let o=2;return n!==e*2&&++o,i!==t*2&&(o-=2),(this._childTileMask&1<<o)!==0};qT.prototype.wasCreatedByUpsampling=function(){return this._createdByUpsampling};var jyt=new D,qyt=new D,$yt=new D,NTe=new h;function egt(e,t,n){let i=e._mesh,o=i.vertices,r=i.encoding,s=i.indices;for(let a=0,c=s.length;a<c;a+=3){let d=s[a],u=s[a+1],m=s[a+2],p=r.decodeTextureCoordinates(o,d,jyt),b=r.decodeTextureCoordinates(o,u,qyt),f=r.decodeTextureCoordinates(o,m,$yt),x=ub.computeBarycentricCoordinates(t,n,p.x,p.y,b.x,b.y,f.x,f.y,NTe);if(x.x>=-1e-15&&x.y>=-1e-15&&x.z>=-1e-15){let _=r.decodeHeight(o,d),C=r.decodeHeight(o,u),V=r.decodeHeight(o,m);return x.x*_+x.y*C+x.z*V}}}var tgt=Uint16Array.BYTES_PER_ELEMENT,ATe=Uint32Array.BYTES_PER_ELEMENT,M8=Int32Array.BYTES_PER_ELEMENT,ngt=Float32Array.BYTES_PER_ELEMENT,N8=Float64Array.BYTES_PER_ELEMENT;function igt(e,t,n,i){let o=e._buffer,r=0,s=0,a=0;n>.5?(t>.5?(r=2,s=.5):r=3,a=.5):t>.5&&(r=1,s=.5);let c=new DataView(o),d=0;for(let G=0;G<r;++G)d+=c.getUint32(d,!0),d+=ATe;d+=ATe,d+=2*N8;let u=P.toRadians(c.getFloat64(d,!0)*180);d+=N8;let m=P.toRadians(c.getFloat64(d,!0)*180);d+=N8;let p=i.width/u/2,b=i.height/m/2,f=c.getInt32(d,!0);d+=M8;let x=c.getInt32(d,!0)*3;d+=M8,d+=M8;let _=new Array(f),C=new Array(f),V=new Array(f),L;for(L=0;L<f;++L)_[L]=s+c.getUint8(d++)*p,C[L]=a+c.getUint8(d++)*b,V[L]=c.getFloat32(d,!0)*6371010,d+=ngt;let R=new Array(x);for(L=0;L<x;++L)R[L]=c.getUint16(d,!0),d+=tgt;for(L=0;L<x;L+=3){let G=R[L],X=R[L+1],v=R[L+2],W=_[G],F=_[X],A=_[v],y=C[G],Z=C[X],E=C[v],I=ub.computeBarycentricCoordinates(t,n,W,y,F,Z,A,E,NTe);if(I.x>=-1e-15&&I.y>=-1e-15&&I.z>=-1e-15)return I.x*V[G]+I.y*V[X]+I.z*V[v]}}var dL=qT;var pzi=T(S(),1);var sm={UNKNOWN:0,NONE:1,SELF:2,PARENT:3},L3=new te;function Z3(){this._terrainCache={},this._lastTidy=te.now()}Z3.prototype.add=function(e,t){this._terrainCache[e]={buffer:t,timestamp:te.now()}};Z3.prototype.get=function(e){let n=this._terrainCache[e];if(l(n))return delete this._terrainCache[e],n.buffer};Z3.prototype.tidy=function(){if(te.now(L3),te.secondsDifference(L3,this._lastTidy)>10){let e=this._terrainCache,t=Object.keys(e),n=t.length;for(let i=0;i<n;++i){let o=t[i],r=e[o];te.secondsDifference(L3,r.timestamp)>10&&delete e[o]}te.clone(L3,this._lastTidy)}};function Wg(e){e=g(e,g.EMPTY_OBJECT),this._tilingScheme=new Ui({numberOfLevelZeroTilesX:2,numberOfLevelZeroTilesY:2,rectangle:new le(-P.PI,-P.PI,P.PI,P.PI),ellipsoid:e.ellipsoid});let t=e.credit;typeof t==\"string\"&&(t=new Zt(t)),this._credit=t,this._levelZeroMaximumGeometricError=40075.16,this._terrainCache=new Z3,this._terrainPromises={},this._terrainRequests={},this._errorEvent=new ge}Object.defineProperties(Wg.prototype,{url:{get:function(){return this._metadata.url}},proxy:{get:function(){return this._metadata.proxy}},tilingScheme:{get:function(){return this._tilingScheme}},errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){return this._credit}},hasWaterMask:{get:function(){return!1}},hasVertexNormals:{get:function(){return!1}},availability:{get:function(){}}});Wg.fromMetadata=function(e,t){if(!e.terrainPresent)throw new ue(`The server ${e.url} doesn't have terrain`);let n=new Wg(t);return n._metadata=e,n};var ogt=new di(\"decodeGoogleEarthEnterprisePacket\");function kTe(e,t,n){let i=t.getChildBitmask();if(t.terrainState===sm.PARENT){i=0;for(let o=0;o<4;++o){let r=n.getTileInformationFromQuadKey(e+o.toString());l(r)&&r.hasTerrain()&&(i|=1<<o)}}return i}Wg.prototype.requestTileGeometry=function(e,t,n,i){let o=hb.tileXYToQuadKey(e,t,n),r=this._terrainCache,s=this._metadata,a=s.getTileInformationFromQuadKey(o);if(!l(a))return Promise.reject(new ue(\"Terrain tile doesn't exist\"));let c=a.terrainState;l(c)||(c=a.terrainState=sm.UNKNOWN);let d=r.get(o);if(l(d)){let C=s.providers[a.terrainProvider];return Promise.resolve(new"
}