{
  "metadata": {
    "source_file": "Cesium-1.116.0-fix-26\\Cesium.js",
    "chunk_index": 113,
    "total_chunks": 194,
    "chunk_size": 54496,
    "word_count": 800,
    "model_kwargs": {
      "model": "text-embedding-3-large",
      "dimensions": 3072,
      "encoding_format": "float"
    },
    "text_splitter": {
      "split_by": "word",
      "chunk_size": 800,
      "chunk_overlap": 200
    },
    "created_at": "2025-12-17T23:57:49.715Z"
  },
  "content": "h,nqe=new D,iqe=new At,oqe=new At,rqe=new At,sqe=new It;function ahe(e){this.entity=e,this.label=void 0,this.index=void 0}function Yy(e,t){t.collectionChanged.addEventListener(Yy.prototype._onCollectionChanged,this),this._cluster=e,this._entityCollection=t,this._items=new Lt,this._onCollectionChanged(t,t.values,[],[])}Yy.prototype.update=function(e){let t=this._items.values,n=this._cluster;for(let i=0,o=t.length;i<o;i++){let r=t[i],s=r.entity,a=s._label,c,d=r.label,u=s.isShowing&&s.isAvailable(e)&&K.getValueOrDefault(a._show,e,!0),m;if(u&&(m=K.getValueOrUndefined(s._position,e,Q6e),c=K.getValueOrUndefined(a._text,e),u=l(m)&&l(c)),!u){cJ(r,s,n);continue}K.isConstant(s._position)||(n._clusterDirty=!0);let p=!1,b=K.getValueOrDefault(a._heightReference,e,H6e);l(d)||(d=n.getLabel(s),d.id=s,r.label=d,p=h.equals(d.position,m)&&d.heightReference===b),d.show=!0,d.position=m,d.text=c,d.scale=K.getValueOrDefault(a._scale,e,F6e),d.font=K.getValueOrDefault(a._font,e,A6e),d.style=K.getValueOrDefault(a._style,e,M6e),d.fillColor=K.getValueOrDefault(a._fillColor,e,N6e,j6e),d.outlineColor=K.getValueOrDefault(a._outlineColor,e,k6e,q6e),d.outlineWidth=K.getValueOrDefault(a._outlineWidth,e,U6e),d.showBackground=K.getValueOrDefault(a._showBackground,e,D6e),d.backgroundColor=K.getValueOrDefault(a._backgroundColor,e,B6e,$6e),d.backgroundPadding=K.getValueOrDefault(a._backgroundPadding,e,Y6e,eqe),d.pixelOffset=K.getValueOrDefault(a._pixelOffset,e,O6e,nqe),d.eyeOffset=K.getValueOrDefault(a._eyeOffset,e,z6e,tqe),d.heightReference=b,d.horizontalOrigin=K.getValueOrDefault(a._horizontalOrigin,e,K6e),d.verticalOrigin=K.getValueOrDefault(a._verticalOrigin,e,J6e),d.translucencyByDistance=K.getValueOrUndefined(a._translucencyByDistance,e,iqe),d.pixelOffsetScaleByDistance=K.getValueOrUndefined(a._pixelOffsetScaleByDistance,e,oqe),d.scaleByDistance=K.getValueOrUndefined(a._scaleByDistance,e,rqe),d.distanceDisplayCondition=K.getValueOrUndefined(a._distanceDisplayCondition,e,sqe),d.disableDepthTestDistance=K.getValueOrUndefined(a._disableDepthTestDistance,e),d.depthFailTranslucency=K.getValueOrUndefined(a._depthFailTranslucency,e),p&&d._updateClamping()}return!0};Yy.prototype.getBoundingSphere=function(e,t){let n=this._items.get(e.id);if(!l(n)||!l(n.label))return ht.FAILED;let i=n.label;return t.center=h.clone(g(i._clampedPosition,i.position),t.center),t.radius=0,ht.DONE};Yy.prototype.isDestroyed=function(){return!1};Yy.prototype.destroy=function(){this._entityCollection.collectionChanged.removeEventListener(Yy.prototype._onCollectionChanged,this);let e=this._entityCollection.values;for(let t=0;t<e.length;t++)this._cluster.removeLabel(e[t]);return me(this)};Yy.prototype._onCollectionChanged=function(e,t,n,i){let o,r,s=this._items,a=this._cluster;for(o=t.length-1;o>-1;o--)r=t[o],l(r._label)&&l(r._position)&&s.set(r.id,new ahe(r));for(o=i.length-1;o>-1;o--)r=i[o],l(r._label)&&l(r._position)?s.contains(r.id)||s.set(r.id,new ahe(r)):(cJ(s.get(r.id),r,a),s.remove(r.id));for(o=n.length-1;o>-1;o--)r=n[o],cJ(s.get(r.id),r,a),s.remove(r.id)};function cJ(e,t,n){l(e)&&(e.label=void 0,n.removeLabel(t))}var BP=Yy;var roi=T(S(),1);var aqe=1,cqe=0,lqe=!0,dqe=!0,uqe=_n.ENABLED,mqe=Je.NONE,hqe=O.RED,fqe=0,pqe=O.WHITE,bqe=ac.HIGHLIGHT,yqe=.5,gqe=new D(1,1),xqe=new M,_qe=new M,che=new O,lhe=new Array(4),Tqe=new h;function Oy(e,t){t.collectionChanged.addEventListener(Oy.prototype._onCollectionChanged,this),this._scene=e,this._primitives=e.primitives,this._entityCollection=t,this._modelHash={},this._entitiesToVisualize=new Lt,this._onCollectionChanged(t,t.values,[],[])}async function Sqe(e,t,n,i){let o=e._primitives,r=e._modelHash;try{let s=await Ym.fromGltfAsync({url:n,incrementallyLoadTextures:i,scene:e._scene});if(e.isDestroyed()||!l(r[t.id]))return;s.id=t,o.add(s),r[t.id].modelPrimitive=s,s.errorEvent.addEventListener(a=>{l(r[t.id])&&(console.log(a),a.name!==\"TextureError\"&&s.incrementallyLoadTextures&&(r[t.id].loadFailed=!0))})}catch(s){if(e.isDestroyed()||!l(r[t.id]))return;console.log(s),r[t.id].loadFailed=!0}}Oy.prototype.update=function(e){let t=this._entitiesToVisualize.values,n=this._modelHash,i=this._primitives;for(let o=0,r=t.length;o<r;o++){let s=t[o],a=s._model,c,d=n[s.id],u=s.isShowing&&s.isAvailable(e)&&K.getValueOrDefault(a._show,e,!0),m;if(u&&(m=s.computeModelMatrix(e,xqe),c=Xe.createIfNeeded(K.getValueOrUndefined(a._uri,e)),u=l(m)&&l(c)),!u){l(d)&&d.modelPrimitive&&(d.modelPrimitive.show=!1);continue}if(!l(d)||c.url!==d.url){l(d?.modelPrimitive)&&(i.removeAndDestroy(d.modelPrimitive),delete n[s.id]),d={modelPrimitive:void 0,url:c.url,animationsRunning:!1,nodeTransformationsScratch:{},articulationsScratch:{},loadFailed:!1,modelUpdated:!1},n[s.id]=d;let f=K.getValueOrDefault(a._incrementallyLoadTextures,e,lqe);Sqe(this,s,c,f)}let p=d.modelPrimitive;if(!l(p))continue;p.show=!0,p.scale=K.getValueOrDefault(a._scale,e,aqe),p.minimumPixelSize=K.getValueOrDefault(a._minimumPixelSize,e,cqe),p.maximumScale=K.getValueOrUndefined(a._maximumScale,e),p.modelMatrix=M.clone(m,p.modelMatrix),p.shadows=K.getValueOrDefault(a._shadows,e,uqe),p.heightReference=K.getValueOrDefault(a._heightReference,e,mqe),p.distanceDisplayCondition=K.getValueOrUndefined(a._distanceDisplayCondition,e),p.silhouetteColor=K.getValueOrDefault(a._silhouetteColor,e,hqe,che),p.silhouetteSize=K.getValueOrDefault(a._silhouetteSize,e,fqe),p.color=K.getValueOrDefault(a._color,e,pqe,che),p.colorBlendMode=K.getValueOrDefault(a._colorBlendMode,e,bqe),p.colorBlendAmount=K.getValueOrDefault(a._colorBlendAmount,e,yqe),p.clippingPlanes=K.getValueOrUndefined(a._clippingPlanes,e),p.clampAnimations=K.getValueOrDefault(a._clampAnimations,e,dqe),p.imageBasedLighting.imageBasedLightingFactor=K.getValueOrDefault(a._imageBasedLightingFactor,e,gqe);let b=K.getValueOrUndefined(a._lightColor,e);if(l(b)&&(O.pack(b,lhe,0),b=h.unpack(lhe,0,Tqe)),p.lightColor=b,p.customShader=K.getValueOrUndefined(a._customShader,e),n[s.id].modelUpdated=!0,p.ready){let f=K.getValueOrDefault(a._runAnimations,e,!0);d.animationsRunning!==f&&(f?p.activeAnimations.addAll({loop:Pl.REPEAT}):p.activeAnimations.removeAll(),d.animationsRunning=f);let x=K.getValueOrUndefined(a._nodeTransformations,e,d.nodeTransformationsScratch);if(l(x)){let V=Object.keys(x);for(let L=0,R=V.length;L<R;++L){let G=V[L],X=x[G];if(!l(X))continue;let v=p.getNode(G);if(!l(v))continue;let W=M.fromTranslationRotationScale(X,_qe);v.matrix=M.multiply(v.originalMatrix,W,W)}}let _=!1,C=K.getValueOrUndefined(a._articulations,e,d.articulationsScratch);if(l(C)){let V=Object.keys(C);for(let L=0,R=V.length;L<R;++L){let G=V[L],X=C[G];l(X)&&(_=!0,p.setArticulationStage(G,X))}}_&&p.applyArticulations()}}return!0};Oy.prototype.isDestroyed=function(){return!1};Oy.prototype.destroy=function(){this._entityCollection.collectionChanged.removeEventListener(Oy.prototype._onCollectionChanged,this);let e=this._entitiesToVisualize.values,t=this._modelHash,n=this._primitives;for(let i=e.length-1;i>-1;i--)lJ(this,e[i],t,n);return me(this)};var Zk=new h,Cqe=new he;Oy.prototype.getBoundingSphere=function(e,t){let n=this._modelHash[e.id];if(!l(n))return ht.FAILED;if(n.loadFailed)return ht.FAILED;let i=n.modelPrimitive;if(!l(i)||!i.show)return ht.PENDING;if(!i.ready||!n.modelUpdated)return ht.PENDING;let o=this._scene,r=o.globe,s=g(r?.ellipsoid,oe.WGS84);if(i.heightReference!==Je.NONE){let c=i.modelMatrix;Zk.x=c[12],Zk.y=c[13],Zk.z=c[14];let d=s.cartesianToCartographic(Zk,Cqe),u=o.getHeight(d,i.heightReference);return l(u)&&(cu(i.heightReference)?d.height=u:d.height+=u),ce.clone(i.boundingSphere,t),t.center=s.cartographicToCartesian(d),ht.DONE}return ce.clone(i.boundingSphere,t),ht.DONE};Oy.prototype._onCollectionChanged=function(e,t,n,i){let o,r,s=this._entitiesToVisualize,a=this._modelHash,c=this._primitives;for(o=t.length-1;o>-1;o--)r=t[o],l(r._model)&&l(r._position)&&s.set(r.id,r);for(o=i.length-1;o>-1;o--)r=i[o],l(r._model)&&l(r._position)?(Vqe(r,a),s.set(r.id,r)):(lJ(this,r,a,c),s.remove(r.id));for(o=n.length-1;o>-1;o--)r=n[o],lJ(this,r,a,c),s.remove(r.id)};function lJ(e,t,n,i){let o=n[t.id];l(o)&&(i.removeAndDestroy(o.modelPrimitive),delete n[t.id])}function Vqe(e,t){let n=t[e.id];l(n)&&(n.nodeTransformationsScratch={},n.articulationsScratch={})}var YP=Oy;var voi=T(S(),1);var moi=T(S(),1);function zy(e){this._definitionChanged=new ge,this._value=void 0,this._removeSubscription=void 0,this.setValue(e)}Object.defineProperties(zy.prototype,{isConstant:{get:function(){return K.isConstant(this._value)}},definitionChanged:{get:function(){return this._definitionChanged}},referenceFrame:{get:function(){return l(this._value)?this._value.referenceFrame:no.FIXED}}});zy.prototype.getValue=function(e,t){return this.getValueInReferenceFrame(e,no.FIXED,t)};zy.prototype.setValue=function(e){this._value!==e&&(this._value=e,l(this._removeSubscription)&&(this._removeSubscription(),this._removeSubscription=void 0),l(e)&&(this._removeSubscription=e.definitionChanged.addEventListener(this._raiseDefinitionChanged,this)),this._definitionChanged.raiseEvent(this))};zy.prototype.getValueInReferenceFrame=function(e,t,n){if(l(this._value))return n=this._value.getValueInReferenceFrame(e,t,n),l(n)?oe.WGS84.scaleToGeodeticSurface(n,n):void 0};zy.prototype.equals=function(e){return this===e||e instanceof zy&&this._value===e._value};zy.prototype._raiseDefinitionChanged=function(){this._definitionChanged.raiseEvent(this)};var Lf=zy;var Lqe=60,Zqe=1,mhe=new Sn,dJ=new Sn,uJ=new Sn;function dhe(e){this.entity=e,this.polyline=void 0,this.index=void 0,this.updater=void 0}function Rqe(e,t,n,i,o,r,s,a,c){let d=a,u;u=e.getValueInReferenceFrame(t,r,c[d]),l(u)&&(c[d++]=u);let m=!l(o)||te.lessThanOrEquals(o,t)||te.greaterThanOrEquals(o,n),p=0,b=i.length,f=i[p],x=n,_=!1,C,V,L;for(;p<b;){if(!m&&te.greaterThanOrEquals(f,o)&&(u=e.getValueInReferenceFrame(o,r,c[d]),l(u)&&(c[d++]=u),m=!0),te.greaterThan(f,t)&&te.lessThan(f,x)&&!f.equals(o)&&(u=e.getValueInReferenceFrame(f,r,c[d]),l(u)&&(c[d++]=u)),p<b-1){if(s>0&&!_){let R=i[p+1],G=te.secondsDifference(R,f);_=G>s,_&&(C=Math.ceil(G/s),V=0,L=G/Math.max(C,2),C=Math.max(C-1,1))}if(_&&V<C){f=te.addSeconds(f,L,new te),V++;continue}}_=!1,p++,f=i[p]}return u=e.getValueInReferenceFrame(n,r,c[d]),l(u)&&(c[d++]=u),d}function Gqe(e,t,n,i,o,r,s,a){let c,d=0,u=s,m=t,p=Math.max(r,60),b=!l(i)||te.lessThanOrEquals(i,t)||te.greaterThanOrEquals(i,n);for(;te.lessThan(m,n);)!b&&te.greaterThanOrEquals(m,i)&&(b=!0,c=e.getValueInReferenceFrame(i,o,a[u]),l(c)&&(a[u]=c,u++)),c=e.getValueInReferenceFrame(m,o,a[u]),l(c)&&(a[u]=c,u++),d++,m=te.addSeconds(t,p*d,new te);return c=e.getValueInReferenceFrame(n,o,a[u]),l(c)&&(a[u]=c,u++),u}function Eqe(e,t,n,i,o,r,s,a){uJ.start=t,uJ.stop=n;let c=s,d=e.intervals;for(let u=0;u<d.length;u++){let m=d.get(u);if(!Sn.intersect(m,uJ,mhe).isEmpty){let p=m.start;m.isStartIncluded||(m.isStopIncluded?p=m.stop:p=te.addSeconds(m.start,te.secondsDifference(m.stop,m.start)/2,new te));let b=e.getValueInReferenceFrame(p,o,a[c]);l(b)&&(a[c]=b,c++)}}return c}function Xqe(e,t,n,i,o,r,s,a){let c=e.getValueInReferenceFrame(t,o,a[s]);return l(c)&&(a[s++]=c),s}function Iqe(e,t,n,i,o,r,s,a){dJ.start=t,dJ.stop=n;let c=s,d=e.intervals;for(let u=0;u<d.length;u++){let m=d.get(u);if(!Sn.intersect(m,dJ,mhe).isEmpty){let p=m.start,b=m.stop,f=t;te.greaterThan(p,f)&&(f=p);let x=n;te.lessThan(b,x)&&(x=b),c=hhe(m.data,f,x,i,o,r,c,a)}}return c}function hhe(e,t,n,i,o,r,s,a){for(;e instanceof I0;)e=e.resolvedProperty;if(e instanceof la){let c=e._property._times;s=Rqe(e,t,n,c,i,o,r,s,a)}else e instanceof aa?s=Iqe(e,t,n,i,o,r,s,a):e instanceof W0?s=Eqe(e,t,n,i,o,r,s,a):e instanceof kc||e instanceof Lf&&K.isConstant(e)?s=Xqe(e,t,n,i,o,r,s,a):s=Gqe(e,t,n,i,o,r,s,a);return s}function fhe(e,t,n,i,o,r,s){l(s)||(s=[]);let a=hhe(e,t,n,i,o,r,0,s);return s.length=a,s}var uhe=new $;function OP(e,t){this._unusedIndexes=[],this._polylineCollection=new zm,this._scene=e,this._referenceFrame=t,e.primitives.add(this._polylineCollection)}OP.prototype.update=function(e){if(this._referenceFrame===no.INERTIAL){let t=Wt.computeIcrfToFixedMatrix(e,uhe);l(t)||(t=Wt.computeTemeToPseudoFixedMatrix(e,uhe)),M.fromRotationTranslation(t,h.ZERO,this._polylineCollection.modelMatrix)}};OP.prototype.updateObject=function(e,t){let n=t.entity,i=n._path,o=n._position,r,s,a=i._show,c=t.polyline,d=n.isShowing&&n.isAvailable(e)&&(!l(a)||a.getValue(e));if(d){let m=K.getValueOrUndefined(i._leadTime,e),p=K.getValueOrUndefined(i._trailTime,e),b=n._availability,f=l(b),x=l(m),_=l(p);if(d=f||x&&_,d){if(_&&(r=te.addSeconds(e,-p,new te)),x&&(s=te.addSeconds(e,m,new te)),f){let C=b.start,V=b.stop;(!_||te.greaterThan(C,r))&&(r=C),(!x||te.lessThan(V,s))&&(s=V)}d=te.lessThan(r,s)}}if(!d){l(c)&&(this._unusedIndexes.push(t.index),t.polyline=void 0,c.show=!1,t.index=void 0);return}if(!l(c)){let m=this._unusedIndexes;if(m.length>0){let b=m.pop();c=this._polylineCollection.get(b),t.index=b}else t.index=this._polylineCollection.length,c=this._polylineCollection.add();c.id=n,t.polyline=c}let u=K.getValueOrDefault(i._resolution,e,Lqe);c.show=!0,c.positions=fhe(o,r,s,e,this._referenceFrame,u,c.positions.slice()),c.material=Oo.getValue(e,i._material,c.material),c.width=K.getValueOrDefault(i._width,e,Zqe),c.distanceDisplayCondition=K.getValueOrUndefined(i._distanceDisplayCondition,e,c.distanceDisplayCondition)};OP.prototype.removeObject=function(e){let t=e.polyline;l(t)&&(this._unusedIndexes.push(e.index),e.polyline=void 0,t.show=!1,t.id=void 0,e.index=void 0)};OP.prototype.destroy=function(){return this._scene.primitives.remove(this._polylineCollection),me(this)};function Hy(e,t){t.collectionChanged.addEventListener(Hy.prototype._onCollectionChanged,this),this._scene=e,this._updaters={},this._entityCollection=t,this._items=new Lt,this._onCollectionChanged(t,t.values,[],[])}Hy.prototype.update=function(e){let t=this._updaters;for(let i in t)t.hasOwnProperty(i)&&t[i].update(e);let n=this._items.values;if(n.length===0&&l(this._updaters)&&Object.keys(this._updaters).length>0){for(let i in t)t.hasOwnProperty(i)&&t[i].destroy();this._updaters={}}for(let i=0,o=n.length;i<o;i++){let r=n[i],a=r.entity._position,c=r.updater,d=no.FIXED;this._scene.mode===ie.SCENE3D&&(d=a.referenceFrame);let u=this._updaters[d];if(c===u&&l(u)){u.updateObject(e,r);continue}l(c)&&c.removeObject(r),l(u)||(u=new OP(this._scene,d),u.update(e),this._updaters[d]=u),r.updater=u,l(u)&&u.updateObject(e,r)}return!0};Hy.prototype.isDestroyed=function(){return!1};Hy.prototype.destroy=function(){this._entityCollection.collectionChanged.removeEventListener(Hy.prototype._onCollectionChanged,this);let e=this._updaters;for(let t in e)e.hasOwnProperty(t)&&e[t].destroy();return me(this)};Hy.prototype._onCollectionChanged=function(e,t,n,i){let o,r,s,a=this._items;for(o=t.length-1;o>-1;o--)r=t[o],l(r._path)&&l(r._position)&&a.set(r.id,new dhe(r));for(o=i.length-1;o>-1;o--)r=i[o],l(r._path)&&l(r._position)?a.contains(r.id)||a.set(r.id,new dhe(r)):(s=a.get(r.id),l(s)&&(l(s.updater)&&s.updater.removeObject(s),a.remove(r.id)));for(o=n.length-1;o>-1;o--)r=n[o],s=a.get(r.id),l(s)&&(l(s.updater)&&s.updater.removeObject(s),a.remove(r.id))};Hy._subSample=fhe;var zP=Hy;var Hoi=T(S(),1);var phe=O.WHITE,bhe=O.BLACK,yhe=0,ghe=1,xhe=0,_he=new O,Wqe=new h,The=new O,She=new At,Che=new At,Vhe=new It;function Lhe(e){this.entity=e,this.pointPrimitive=void 0,this.billboard=void 0,this.color=void 0,this.outlineColor=void 0,this.pixelSize=void 0,this.outlineWidth=void 0}function Ky(e,t){t.collectionChanged.addEventListener(Ky.prototype._onCollectionChanged,this),this._cluster=e,this._entityCollection=t,this._items=new Lt,this._onCollectionChanged(t,t.values,[],[])}Ky.prototype.update=function(e){let t=this._items.values,n=this._cluster;for(let i=0,o=t.length;i<o;i++){let r=t[i],s=r.entity,a=s._point,c=r.pointPrimitive,d=r.billboard,u=K.getValueOrDefault(a._heightReference,e,Je.NONE),m=s.isShowing&&s.isAvailable(e)&&K.getValueOrDefault(a._show,e,!0),p;if(m&&(p=K.getValueOrUndefined(s._position,e,Wqe),m=l(p)),!m){HP(r,s,n);continue}K.isConstant(s._position)||(n._clusterDirty=!0);let b=!1,f=!1;if(u!==Je.NONE&&!l(d)?(l(c)&&(HP(r,s,n),c=void 0),d=n.getBillboard(s),d.id=s,d.image=void 0,d.color=O.WHITE,r.billboard=d,b=!0,f=h.equals(d.position,p)&&d.heightReference===u):u===Je.NONE&&!l(c)&&(l(d)&&(HP(r,s,n),d=void 0),c=n.getPoint(s),c.id=s,r.pointPrimitive=c),l(c))c.show=!0,c.position=p,c.scaleByDistance=K.getValueOrUndefined(a._scaleByDistance,e,She),c.translucencyByDistance=K.getValueOrUndefined(a._translucencyByDistance,e,Che),c.color=K.getValueOrDefault(a._color,e,phe,_he),c.outlineColor=K.getValueOrDefault(a._outlineColor,e,bhe,The),c.outlineWidth=K.getValueOrDefault(a._outlineWidth,e,yhe),c.pixelSize=K.getValueOrDefault(a._pixelSize,e,ghe),c.distanceDisplayCondition=K.getValueOrUndefined(a._distanceDisplayCondition,e,Vhe),c.disableDepthTestDistance=K.getValueOrDefault(a._disableDepthTestDistance,e,xhe),c.depthFailTranslucency=K.getValueOrUndefined(a._depthFailTranslucency,e);else if(l(d)){d.show=!0,d.position=p,d.scaleByDistance=K.getValueOrUndefined(a._scaleByDistance,e,She),d.translucencyByDistance=K.getValueOrUndefined(a._translucencyByDistance,e,Che),d.distanceDisplayCondition=K.getValueOrUndefined(a._distanceDisplayCondition,e,Vhe),d.disableDepthTestDistance=K.getValueOrDefault(a._disableDepthTestDistance,e,xhe),d.heightReference=u;let x=K.getValueOrDefault(a._color,e,phe,_he),_=K.getValueOrDefault(a._outlineColor,e,bhe,The),C=Math.round(K.getValueOrDefault(a._outlineWidth,e,yhe)),V=Math.max(1,Math.round(K.getValueOrDefault(a._pixelSize,e,ghe)));if(C>0?(d.scale=1,b=b||C!==r.outlineWidth||V!==r.pixelSize||!O.equals(x,r.color)||!O.equals(_,r.outlineColor)):(d.scale=V/50,V=50,b=b||C!==r.outlineWidth||!O.equals(x,r.color)||!O.equals(_,r.outlineColor)),b){r.color=O.clone(x,r.color),r.outlineColor=O.clone(_,r.outlineColor),r.pixelSize=V,r.outlineWidth=C;let L=x.alpha,R=x.toCssColorString(),G=_.toCssColorString(),X=JSON.stringify([R,V,G,C]);d.setImage(X,h_(L,R,G,C,V))}d.depthFailTranslucency=K.getValueOrUndefined(a._depthFailTranslucency,e),f&&d._updateClamping()}}return!0};Ky.prototype.getBoundingSphere=function(e,t){let n=this._items.get(e.id);if(!l(n)||!(l(n.pointPrimitive)||l(n.billboard)))return ht.FAILED;if(l(n.pointPrimitive))t.center=h.clone(n.pointPrimitive.position,t.center);else{let i=n.billboard;if(!l(i._clampedPosition))return ht.PENDING;t.center=h.clone(i._clampedPosition,t.center)}return t.radius=0,ht.DONE};Ky.prototype.isDestroyed=function(){return!1};Ky.prototype.destroy=function(){this._entityCollection.collectionChanged.removeEventListener(Ky.prototype._onCollectionChanged,this);let e=this._entityCollection.values;for(let t=0;t<e.length;t++)this._cluster.removePoint(e[t]);return me(this)};Ky.prototype._onCollectionChanged=function(e,t,n,i){let o,r,s=this._items,a=this._cluster;for(o=t.length-1;o>-1;o--)r=t[o],l(r._point)&&l(r._position)&&s.set(r.id,new Lhe(r));for(o=i.length-1;o>-1;o--)r=i[o],l(r._point)&&l(r._position)?s.contains(r.id)||s.set(r.id,new Lhe(r)):(HP(s.get(r.id),r,a),s.remove(r.id));for(o=n.length-1;o>-1;o--)r=n[o],HP(s.get(r.id),r,a),s.remove(r.id)};function HP(e,t,n){if(l(e)){let i=e.pointPrimitive;if(l(i)){e.pointPrimitive=void 0,n.removePoint(t);return}let o=e.billboard;l(o)&&(e.billboard=void 0,n.removeBillboard(t))}}var KP=Ky;var Lsi=T(S(),1);var Yri=T(S(),1);var hri=T(S(),1);var Xhe=[];function Pqe(e,t,n,i,o){let r=Xhe;r.length=o;let s,a=n.red,c=n.green,d=n.blue,u=n.alpha,m=i.red,p=i.green,b=i.blue,f=i.alpha;if(O.equals(n,i)){for(s=0;s<o;s++)r[s]=O.clone(n);return r}let x=(m-a)/o,_=(p-c)/o,C=(b-d)/o,V=(f-u)/o;for(s=0;s<o;s++)r[s]=new O(a+s*x,c+s*_,d+s*C,u+s*V);return r}function JP(e){e=g(e,g.EMPTY_OBJECT);let t=e.positions,n=e.colors,i=g(e.width,1),o=g(e.colorsPerVertex,!1);this._positions=t,this._colors=n,this._width=i,this._colorsPerVertex=o,this._vertexFormat=Pe.clone(g(e.vertexFormat,Pe.DEFAULT)),this._arcType=g(e.arcType,$t.GEODESIC),this._granularity=g(e.granularity,P.RADIANS_PER_DEGREE),this._ellipsoid=oe.clone(g(e.ellipsoid,oe.WGS84)),this._workerName=\"createPolylineGeometry\";let r=1+t.length*h.packedLength;r+=l(n)?1+n.length*O.packedLength:1,this.packedLength=r+oe.packedLength+Pe.packedLength+4}JP.pack=function(e,t,n){n=g(n,0);let i,o=e._positions,r=o.length;for(t[n++]=r,i=0;i<r;++i,n+=h.packedLength)h.pack(o[i],t,n);let s=e._colors;for(r=l(s)?s.length:0,t[n++]=r,i=0;i<r;++i,n+=O.packedLength)O.pack(s[i],t,n);return oe.pack(e._ellipsoid,t,n),n+=oe.packedLength,Pe.pack(e._vertexFormat,t,n),n+=Pe.packedLength,t[n++]=e._width,t[n++]=e._colorsPerVertex?1:0,t[n++]=e._arcType,t[n]=e._granularity,t};var Ihe=oe.clone(oe.UNIT_SPHERE),Whe=new Pe,sT={positions:void 0,colors:void 0,ellipsoid:Ihe,vertexFormat:Whe,width:void 0,colorsPerVertex:void 0,arcType:void 0,granularity:void 0};JP.unpack=function(e,t,n){t=g(t,0);let i,o=e[t++],r=new Array(o);for(i=0;i<o;++i,t+=h.packedLength)r[i]=h.unpack(e,t);o=e[t++];let s=o>0?new Array(o):void 0;for(i=0;i<o;++i,t+=O.packedLength)s[i]=O.unpack(e,t);let a=oe.unpack(e,t,Ihe);t+=oe.packedLength;let c=Pe.unpack(e,t,Whe);t+=Pe.packedLength;let d=e[t++],u=e[t++]===1,m=e[t++],p=e[t];return l(n)?(n._positions=r,n._colors=s,n._ellipsoid=oe.clone(a,n._ellipsoid),n._vertexFormat=Pe.clone(c,n._vertexFormat),n._width=d,n._colorsPerVertex=u,n._arcType=m,n._granularity=p,n):(sT.positions=r,sT.colors=s,sT.width=d,sT.colorsPerVertex=u,sT.arcType=m,sT.granularity=p,new JP(sT))};var Zhe=new h,Rhe=new h,Ghe=new h,Ehe=new h;JP.createGeometry=function(e){let t=e._width,n=e._vertexFormat,i=e._colors,o=e._colorsPerVertex,r=e._arcType,s=e._granularity,a=e._ellipsoid,c,d,u,m=[],p=yo(e._positions,h.equalsEpsilon,!1,m);if(l(i)&&m.length>0){let w=0,k=m[0];i=i.filter(function(B,U){let Y=!1;return o?Y=U===k||U===0&&k===1:Y=U+1===k,Y?(w++,k=m[w],!1):!0})}let b=p.length;if(b<2||t<=0)return;if(r===$t.GEODESIC||r===$t.RHUMB){let w,k;r===$t.GEODESIC?(w=P.chordLength(s,a.maximumRadius),k=Ri.numberOfPoints):(w=s,k=Ri.numberOfPointsRhumbLine);let B=Ri.extractHeights(p,a);if(l(i)){let U=1;for(c=0;c<b-1;++c)U+=k(p[c],p[c+1],w);let Y=new Array(U),N=0;for(c=0;c<b-1;++c){let J=p[c],z=p[c+1],ee=i[c],H=k(J,z,w);if(o&&c<U){let j=i[c+1],q=Pqe(J,z,ee,j,H),pe=q.length;for(d=0;d<pe;++d)Y[N++]=q[d]}else for(d=0;d<H;++d)Y[N++]=O.clone(ee)}Y[N]=O.clone(i[i.length-1]),i=Y,Xhe.length=0}r===$t.GEODESIC?p=Ri.generateCartesianArc({positions:p,minDistance:w,ellipsoid:a,height:B}):p=Ri.generateCartesianRhumbArc({positions:p,granularity:w,ellipsoid:a,height:B})}b=p.length;let f=b*4-4,x=new Float64Array(f*3),_=new Float64Array(f*3),C=new Float64Array(f*3),V=new Float32Array(f*2),L=n.st?new Float32Array(f*2):void 0,R=l(i)?new Uint8Array(f*4):void 0,G=0,X=0,v=0,W=0,F;for(d=0;d<b;++d){d===0?(F=Zhe,h.subtract(p[0],p[1],F),h.add(p[0],F,F)):F=p[d-1],h.clone(F,Ghe),h.clone(p[d],Rhe),d===b-1?(F=Zhe,h.subtract(p[b-1],p[b-2],F),h.add(p[b-1],F,F)):F=p[d+1],h.clone(F,Ehe);let w,k;l(R)&&(d!==0&&!o?w=i[d-1]:w=i[d],d!==b-1&&(k=i[d]));let B=d===0?2:0,U=d===b-1?2:4;for(u=B;u<U;++u){h.pack(Rhe,x,G),h.pack(Ghe,_,G),h.pack(Ehe,C,G),G+=3;let Y=u-2<0?-1:1;if(V[X++]=2*(u%2)-1,V[X++]=Y*t,n.st&&(L[v++]=d/(b-1),L[v++]=Math.max(V[X-2],0)),l(R)){let N=u<2?w:k;R[W++]=O.floatToByte(N.red),R[W++]=O.floatToByte(N.green),R[W++]=O.floatToByte(N.blue),R[W++]=O.floatToByte(N.alpha)}}}let A=new hn;A.position=new Ee({componentDatatype:Q.DOUBLE,componentsPerAttribute:3,values:x}),A.prevPosition=new Ee({componentDatatype:Q.DOUBLE,componentsPerAttribute:3,values:_}),A.nextPosition=new Ee({componentDatatype:Q.DOUBLE,componentsPerAttribute:3,values:C}),A.expandAndWidth=new Ee({componentDatatype:Q.FLOAT,componentsPerAttribute:2,values:V}),n.st&&(A.st=new Ee({componentDatatype:Q.FLOAT,componentsPerAttribute:2,values:L})),l(R)&&(A.color=new Ee({componentDatatype:Q.UNSIGNED_BYTE,componentsPerAttribute:4,values:R,normalize:!0}));let y=Ae.createTypedArray(f,b*6-6),Z=0,E=0,I=b-1;for(d=0;d<I;++d)y[E++]=Z,y[E++]=Z+2,y[E++]=Z+1,y[E++]=Z+1,y[E++]=Z+2,y[E++]=Z+3,Z+=4;return new ut({attributes:A,indices:y,primitiveType:we.TRIANGLES,boundingSphere:ce.fromPoints(p),geometryType:ou.POLYLINES})};var N0=JP;var vqe=new Jn(0),Rk={},Phe=new O,wqe=new kt(O.WHITE),Fqe=new Jn(!0),Aqe=new Jn(_n.DISABLED),Mqe=new Jn(new It),Nqe=new Jn(Un.BOTH);function kqe(){this.vertexFormat=void 0,this.positions=void 0,this.width=void 0,this.arcType=void 0,this.granularity=void 0}function Uqe(){this.positions=void 0,this.width=void 0,this.arcType=void 0,this.granularity=void 0}function dh(e,t){this._entity=e,this._scene=t,this._entitySubscription=e.definitionChanged.addEventListener(dh.prototype._onEntityPropertyChanged,this),this._fillEnabled=!1,this._dynamic=!1,this._geometryChanged=new ge,this._showProperty=void 0,this._materialProperty=void 0,this._shadowsProperty=void 0,this._distanceDisplayConditionProperty=void 0,this._classificationTypeProperty=void 0,this._depthFailMaterialProperty=void 0,this._geometryOptions=new kqe,this._groundGeometryOptions=new Uqe,this._id=`polyline-${e.id}`,this._clampToGround=!1,this._supportsPolylinesOnTerrain=zo.supportsPolylinesOnTerrain(t),this._zIndex=0,this._onEntityPropertyChanged(e,\"polyline\",e.polyline,void 0)}Object.defineProperties(dh.prototype,{id:{get:function(){return this._id}},entity:{get:function(){return this._entity}},fillEnabled:{get:function(){return this._fillEnabled}},hasConstantFill:{get:function(){return!this._fillEnabled||!l(this._entity.availability)&&K.isConstant(this._showProperty)}},fillMaterialProperty:{get:function(){return this._materialProperty}},depthFailMaterialProperty:{get:function(){return this._depthFailMaterialProperty}},outlineEnabled:{value:!1},hasConstantOutline:{value:!0},outlineColorProperty:{value:void 0},shadowsProperty:{get:function(){return this._shadowsProperty}},distanceDisplayConditionProperty:{get:function(){return this._distanceDisplayConditionProperty}},classificationTypeProperty:{get:function(){return this._classificationTypeProperty}},isDynamic:{get:function(){return this._dynamic}},isClosed:{value:!1},geometryChanged:{get:function(){return this._geometryChanged}},arcType:{get:function(){return this._arcType}},clampToGround:{get:function(){return this._clampToGround&&this._supportsPolylinesOnTerrain}},zIndex:{get:function(){return this._zIndex}}});dh.prototype.isOutlineVisible=function(e){return!1};dh.prototype.isFilled=function(e){let t=this._entity,n=this._fillEnabled&&t.isAvailable(e)&&this._showProperty.getValue(e);return g(n,!1)};dh.prototype.createFillGeometryInstance=function(e){let t=this._entity,n=t.isAvailable(e),i=new xn(n&&t.isShowing&&this._showProperty.getValue(e)),o=this._distanceDisplayConditionProperty.getValue(e),r=kn.fromDistanceDisplayCondition(o),s={show:i,distanceDisplayCondition:r},a;return this._materialProperty instanceof kt&&(l(this._materialProperty.color)&&(this._materialProperty.color.isConstant||n)&&(a=this._materialProperty.color.getValue(e,Phe)),l(a)||(a=O.WHITE),s.color=Ot.fromColor(a)),this.clampToGround?new Vt({id:t,geometry:new Tx(this._groundGeometryOptions),attributes:s}):(l(this._depthFailMaterialProperty)&&this._depthFailMaterialProperty instanceof kt&&(l(this._depthFailMaterialProperty.color)&&(this._depthFailMaterialProperty.color.isConstant||n)&&(a=this._depthFailMaterialProperty.color.getValue(e,Phe)),l(a)||(a=O.WHITE),s.depthFailColor=Ot.fromColor(a)),new Vt({id:t,geometry:new N0(this._geometryOptions),attributes:s}))};dh.prototype.createOutlineGeometryInstance=function(e){};dh.prototype.isDestroyed=function(){return!1};dh.prototype.destroy=function(){this._entitySubscription(),me(this)};dh.prototype._onEntityPropertyChanged=function(e,t,n,i){if(!(t===\"availability\"||t===\"polyline\"))return;let o=this._entity.polyline;if(!l(o)){this._fillEnabled&&(this._fillEnabled=!1,this._geometryChanged.raiseEvent(this));return}let r=o.positions,s=o.show;if(l(s)&&s.isConstant&&!s.getValue(Be.MINIMUM_VALUE)||!l(r)){this._fillEnabled&&(this._fillEnabled=!1,this._geometryChanged.raiseEvent(this));return}let a=o.zIndex,c=g(o.material,wqe),d=c instanceof kt;this._materialProperty=c,this._depthFailMaterialProperty=o.depthFailMaterial,this._showProperty=g(s,Fqe),this._shadowsProperty=g(o.shadows,Aqe),this._distanceDisplayConditionProperty=g(o.distanceDisplayCondition,Mqe),this._classificationTypeProperty=g(o.classificationType,Nqe),this._fillEnabled=!0,this._zIndex=g(a,vqe);let u=o.width,m=o.arcType,p=o.clampToGround,b=o.granularity;if(!r.isConstant||!K.isConstant(u)||!K.isConstant(m)||!K.isConstant(b)||!K.isConstant(p)||!K.isConstant(a))this._dynamic||(this._dynamic=!0,this._geometryChanged.raiseEvent(this));else{let f=this._geometryOptions,x=r.getValue(Be.MINIMUM_VALUE,f.positions);if(!l(x)||x.length<2){this._fillEnabled&&(this._fillEnabled=!1,this._geometryChanged.raiseEvent(this));return}let _;d&&(!l(this._depthFailMaterialProperty)||this._depthFailMaterialProperty instanceof kt)?_=Br.VERTEX_FORMAT:_=ta.VERTEX_FORMAT,f.vertexFormat=_,f.positions=x,f.width=l(u)?u.getValue(Be.MINIMUM_VALUE):void 0,f.arcType=l(m)?m.getValue(Be.MINIMUM_VALUE):void 0,f.granularity=l(b)?b.getValue(Be.MINIMUM_VALUE):void 0;let C=this._groundGeometryOptions;C.positions=x,C.width=f.width,C.arcType=f.arcType,C.granularity=f.granularity,this._clampToGround=l(p)?p.getValue(Be.MINIMUM_VALUE):!1,!this._clampToGround&&l(a)&&wt(\"Entity polylines must have clampToGround: true when using zIndex. zIndex will be ignored.\"),this._dynamic=!1,this._geometryChanged.raiseEvent(this)}};dh.prototype.createDynamicUpdater=function(e,t){return new QP(e,t,this)};var iV={positions:void 0,granularity:void 0,height:void 0,ellipsoid:void 0};function QP(e,t,n){this._line=void 0,this._primitives=e,this._groundPrimitives=t,this._groundPolylinePrimitive=void 0,this._material=void 0,this._geometryUpdater=n,this._positions=[]}function vhe(e){if(l(e._line))return e._line;let t=e._primitives,n=e._geometryUpdater._scene.id+t._guid,i=Rk[n];!l(i)||i.isDestroyed()?(i=new zm,Rk[n]=i,t.add(i)):t.contains(i)||t.add(i);let o=i.add();return o.id=e._geometryUpdater._entity,e._line=o,o}QP.prototype.update=function(e){let t=this._geometryUpdater,n=t._entity,i=n.polyline,o=i.positions,r=K.getValueOrUndefined(o,e,this._positions);t._clampToGround=K.getValueOrDefault(i._clampToGround,e,!1),t._groundGeometryOptions.positions=r,t._groundGeometryOptions.width=K.getValueOrDefault(i._width,e,1),t._groundGeometryOptions.arcType=K.getValueOrDefault(i._arcType,e,$t.GEODESIC),t._groundGeometryOptions.granularity=K.getValueOrDefault(i._granularity,e,9999);let s=this._groundPrimitives;if(l(this._groundPolylinePrimitive)&&(s.remove(this._groundPolylinePrimitive),this._groundPolylinePrimitive=void 0),t.clampToGround){if(!n.isShowing||!n.isAvailable(e)||!K.getValueOrDefault(i._show,e,!0)||!l(r)||r.length<2)return;let u=t.fillMaterialProperty,m;if(u instanceof kt)m=new Br;else{let p=Oo.getValue(e,u,this._material);m=new ta({material:p,translucent:p.isTranslucent()}),this._material=p}this._groundPolylinePrimitive=s.add(new Lm({geometryInstances:t.createFillGeometryInstance(e),appearance:m,classificationType:t.classificationTypeProperty.getValue(e),asynchronous:!1}),K.getValueOrUndefined(t.zIndex,e)),l(this._line)&&(this._line.show=!1);return}let a=vhe(this);if(!n.isShowing||!n.isAvailable(e)||!K.getValueOrDefault(i._show,e,!0)){a.show=!1;return}if(!l(r)||r.length<2){a.show=!1;return}let c=$t.GEODESIC;c=K.getValueOrDefault(i._arcType,e,c);let d=t._scene.globe;c!==$t.NONE&&l(d)&&(iV.ellipsoid=d.ellipsoid,iV.positions=r,iV.granularity=K.getValueOrUndefined(i._granularity,e),iV.height=Ri.extractHeights(r,d.ellipsoid),c===$t.GEODESIC?r=Ri.generateCartesianArc(iV):r=Ri.generateCartesianRhumbArc(iV)),a.show=!0,a.positions=r.slice(),a.material=Oo.getValue(e,t.fillMaterialProperty,a.material),a.width=K.getValueOrDefault(i._width,e,1),a.distanceDisplayCondition=K.getValueOrUndefined(i._distanceDisplayCondition,e,a.distanceDisplayCondition)};QP.prototype.getBoundingSphere=function(e){if(this._geometryUpdater.clampToGround){let t=this._groundPolylinePrimitive;if(l(t)&&t.show&&t.ready){let n=t.getGeometryInstanceAttributes(this._geometryUpdater._entity);if(l(n)&&l(n.boundingSphere))return ce.clone(n.boundingSphere,e),ht.DONE}return l(t)&&!t.ready?ht.PENDING:ht.DONE}else{let t=vhe(this);if(t.show&&t.positions.length>0)return ce.fromPoints(t.positions,e),ht.DONE}return ht.FAILED};QP.prototype.isDestroyed=function(){return!1};QP.prototype.destroy=function(){let t=this._geometryUpdater._scene.id+this._primitives._guid,n=Rk[t];l(n)&&(n.remove(this._line),n.length===0&&(this._primitives.removeAndDestroy(n),delete Rk[t])),l(this._groundPolylinePrimitive)&&this._groundPrimitives.remove(this._groundPolylinePrimitive),me(this)};var jP=dh;var asi=T(S(),1);var Dqe=new O,Bqe=new It,Yqe=new It;function uh(e,t,n,i,o){let r;n instanceof kt?r=Br:r=ta,this.orderedGroundPrimitives=e,this.classificationType=t,this.appearanceType=r,this.materialProperty=n,this.updaters=new Lt,this.createPrimitive=!0,this.primitive=void 0,this.oldPrimitive=void 0,this.geometry=new Lt,this.material=void 0,this.updatersWithAttributes=new Lt,this.attributes=new Lt,this.invalidated=!1,this.removeMaterialSubscription=n.definitionChanged.addEventListener(uh.prototype.onMaterialChanged,this),this.subscriptions=new Lt,this.showsUpdated=new Lt,this.zIndex=i,this._asynchronous=o}uh.prototype.onMaterialChanged=function(){this.invalidated=!0};uh.prototype.isMaterial=function(e){let t=this.materialProperty,n=e.fillMaterialProperty;return n===t||n instanceof kt&&t instanceof kt?!0:l(t)&&t.equals(n)};uh.prototype.add=function(e,t,n){let i=t.id;if(this.updaters.set(i,t),this.geometry.set(i,n),!t.hasConstantFill||!t.fillMaterialProperty.isConstant||!K.isConstant(t.distanceDisplayConditionProperty))this.updatersWithAttributes.set(i,t);else{let o=this;this.subscriptions.set(i,t.entity.definitionChanged.addEventListener(function(r,s,a,c){s===\"isShowing\"&&o.showsUpdated.set(t.id,t)}))}this.createPrimitive=!0};uh.prototype.remove=function(e){let t=e.id;if(this.createPrimitive=this.geometry.remove(t)||this.createPrimitive,this.updaters.remove(t)){this.updatersWithAttributes.remove(t);let n=this.subscriptions.get(t);return l(n)&&(n(),this.subscriptions.remove(t)),!0}return!1};uh.prototype.update=function(e){let t=!0,n=this.primitive,i=this.orderedGroundPrimitives,o=this.geometry.values,r;if(this.createPrimitive){if(o.length>0)l(n)&&(l(this.oldPrimitive)?i.remove(n):this.oldPrimitive=n),n=new Lm({show:!1,asynchronous:this._asynchronous,geometryInstances:o.slice(),appearance:new this.appearanceType,classificationType:this.classificationType}),this.appearanceType===ta&&(this.material=Oo.getValue(e,this.materialProperty,this.material),n.appearance.material=this.material),i.add(n,this.zIndex),t=!1;else{l(n)&&(i.remove(n),n=void 0);let a=this.oldPrimitive;l(a)&&(i.remove(a),this.oldPrimitive=void 0)}this.attributes.removeAll(),this.primitive=n,this.createPrimitive=!1}else if(l(n)&&n.ready){n.show=!0,l(this.oldPrimitive)&&(i.remove(this.oldPrimitive),this.oldPrimitive=void 0),this.appearanceType===ta&&(this.material=Oo.getValue(e,this.materialProperty,this.material),this.primitive.appearance.material=this.material);let s=this.updatersWithAttributes.values,a=s.length;for(r=0;r<a;r++){let c=s[r],d=c.entity,u=this.geometry.get(c.id),m=this.attributes.get(u.id.id);if(l(m)||(m=n.getGeometryInstanceAttributes(u.id),this.attributes.set(u.id.id,m)),!c.fillMaterialProperty.isConstant){let x=c.fillMaterialProperty.color,_=K.getValueOrDefault(x,e,O.WHITE,Dqe);O.equals(m._lastColor,_)||(m._lastColor=O.clone(_,m._lastColor),m.color=Ot.toValue(_,m.color))}let p=d.isShowing&&(c.hasConstantFill||c.isFilled(e)),b=m.show[0]===1;p!==b&&(m.show=xn.toValue(p,m.show));let f=c.distanceDisplayConditionProperty;if(!K.isConstant(f)){let x=K.getValueOrDefault(f,e,Yqe,Bqe);It.equals(x,m._lastDistanceDisplayCondition)||(m._lastDistanceDisplayCondition=It.clone(x,m._lastDistanceDisplayCondition),m.distanceDisplayCondition=kn.toValue(x,m.distanceDisplayCondition))}}this.updateShows(n)}else l(n)&&!n.ready&&(t=!1);return t};uh.prototype.updateShows=function(e){let t=this.showsUpdated.values,n=t.length;for(let i=0;i<n;i++){let o=t[i],r=o.entity,s=this.geometry.get(o.id);if(!s)continue;let a=this.attributes.get(s.id.id);l(a)||(a=e.getGeometryInstanceAttributes(s.id),this.attributes.set(s.id.id,a));let c=r.isShowing,d=a.show[0]===1;c!==d&&(a.show=xn.toValue(c,a.show),s.attributes.show.value[0]=a.show[0])}this.showsUpdated.removeAll()};uh.prototype.contains=function(e){return this.updaters.contains(e.id)};uh.prototype.getBoundingSphere=function(e,t){let n=this.primitive;if(!n.ready)return ht.PENDING;let i=n.getGeometryInstanceAttributes(e.entity);return!l(i)||!l(i.boundingSphere)||l(i.show)&&i.show[0]===0?ht.FAILED:(i.boundingSphere.clone(t),ht.DONE)};uh.prototype.destroy=function(){let e=this.primitive,t=this.orderedGroundPrimitives;l(e)&&t.remove(e);let n=this.oldPrimitive;l(n)&&t.remove(n),this.removeMaterialSubscription()};function oV(e,t,n){this._items=[],this._orderedGroundPrimitives=e,this._classificationType=t,this._asynchronous=g(n,!0)}oV.prototype.add=function(e,t){let n=this._items,i=n.length,o=t.createFillGeometryInstance(e),r=K.getValueOrDefault(t.zIndex,0);for(let a=0;a<i;++a){let c=n[a];if(c.isMaterial(t)&&c.zIndex===r){c.add(e,t,o);return}}let s=new uh(this._orderedGroundPrimitives,this._classificationType,t.fillMaterialProperty,r,this._asynchronous);s.add(e,t,o),n.push(s)};oV.prototype.remove=function(e){let t=this._items,n=t.length;for(let i=n-1;i>=0;i--){let o=t[i];if(o.remove(e)){o.updaters.length===0&&(t.splice(i,1),o.destroy());break}}};oV.prototype.update=function(e){let t,n=this._items,i=n.length;for(t=i-1;t>=0;t--){let r=n[t];if(r.invalidated){n.splice(t,1);let s=r.updaters.values,a=s.length;for(let c=0;c<a;c++)this.add(e,s[c]);r.destroy()}}let o=!0;for(t=0;t<n.length;t++)o=n[t].update(e)&&o;return o};oV.prototype.getBoundingSphere=function(e,t){let n=this._items,i=n.length;for(let o=0;o<i;o++){let r=n[o];if(r.contains(e))return r.getBoundingSphere(e,t)}return ht.FAILED};oV.prototype.removeAllPrimitives=function(){let e=this._items,t=e.length;for(let n=0;n<t;n++)e[n].destroy();this._items.length=0};var qP=oV;var Oqe=[];function whe(e,t){let n=e._batches,i=n.length;for(let o=0;o<i;o++)n[o].remove(t)}function Fhe(e,t,n){if(n.isDynamic){e._dynamicBatch.add(t,n);return}if(n.clampToGround&&n.fillEnabled){let s=n.classificationTypeProperty.getValue(t);e._groundBatches[s].add(t,n);return}let i;n.fillEnabled&&(i=n.shadowsProperty.getValue(t));let o=0;l(n.depthFailMaterialProperty)&&(o=n.depthFailMaterialProperty instanceof kt?1:2);let r;l(i)&&(r=i+o*_n.NUMBER_OF_SHADOW_MODES),n.fillEnabled&&(n.fillMaterialProperty instanceof kt?e._colorBatches[r].add(t,n):e._materialBatches[r].add(t,n))}function Zf(e,t,n,i){i=g(i,e.groundPrimitives),n=g(n,e.primitives),this._scene=e,this._primitives=n,this._entityCollection=void 0,this._addedObjects=new Lt,this._removedObjects=new Lt,this._changedObjects=new Lt;let o,r=_n.NUMBER_OF_SHADOW_MODES;for(this._colorBatches=new Array(r*3),this._materialBatches=new Array(r*3),o=0;o<r;++o)this._colorBatches[o]=new Du(n,Br,void 0,!1,o),this._materialBatches[o]=new Bu(n,ta,void 0,!1,o),this._colorBatches[o+r]=new Du(n,Br,Br,!1,o),this._materialBatches[o+r]=new Bu(n,ta,Br,!1,o),this._colorBatches[o+r*2]=new Du(n,Br,ta,!1,o),this._materialBatches[o+r*2]=new Bu(n,ta,ta,!1,o);this._dynamicBatch=new O_(n,i);let s=Un.NUMBER_OF_CLASSIFICATION_TYPES;for(this._groundBatches=new Array(s),o=0;o<s;++o)this._groundBatches[o]=new qP(i,o);this._batches=this._colorBatches.concat(this._materialBatches,this._dynamicBatch,this._groundBatches),this._subscriptions=new Lt,this._updaters=new Lt,this._entityCollection=t,t.collectionChanged.addEventListener(Zf.prototype._onCollectionChanged,this),this._onCollectionChanged(t,t.values,Oqe)}Zf.prototype.update=function(e){let t=this._addedObjects,n=t.values,i=this._removedObjects,o=i.values,r=this._changedObjects,s=r.values,a,c,d,u;for(a=s.length-1;a>-1;a--)c=s[a],d=c.id,u=this._updaters.get(d),u.entity===c?(whe(this,u),Fhe(this,e,u)):(o.push(c),n.push(c));for(a=o.length-1;a>-1;a--)c=o[a],d=c.id,u=this._updaters.get(d),whe(this,u),u.destroy(),this._updaters.remove(d),this._subscriptions.get(d)(),this._subscriptions.remove(d);for(a=n.length-1;a>-1;a--)c=n[a],d=c.id,u=new jP(c,this._scene),this._updaters.set(d,u),Fhe(this,e,u),this._subscriptions.set(d,u.geometryChanged.addEventListener(Zf._onGeometryChanged,this));t.removeAll(),i.removeAll(),r.removeAll();let m=!0,p=this._batches,b=p.length;for(a=0;a<b;a++)m=p[a].update(e)&&m;return m};var zqe=[],Hqe=new ce;Zf.prototype.getBoundingSphere=function(e,t){let n=zqe,i=Hqe,o=0,r=ht.DONE,s=this._batches,a=s.length,c=this._updaters.get(e.id);for(let d=0;d<a;d++){if(r=s[d].getBoundingSphere(c,i),r===ht.PENDING)return ht.PENDING;r===ht.DONE&&(n[o]=ce.clone(i,n[o]),o++)}return o===0?ht.FAILED:(n.length=o,ce.fromBoundingSpheres(n,t),ht.DONE)};Zf.prototype.isDestroyed=function(){return!1};Zf.prototype.destroy=function(){this._entityCollection.collectionChanged.removeEventListener(Zf.prototype._onCollectionChanged,this),this._addedObjects.removeAll(),this._removedObjects.removeAll();let e,t=this._batches,n=t.length;for(e=0;e<n;e++)t[e].removeAllPrimitives();let i=this._subscriptions.values;for(n=i.length,e=0;e<n;e++)i[e]();return this._subscriptions.removeAll(),me(this)};Zf._onGeometryChanged=function(e){let t=this._removedObjects,n=this._changedObjects,i=e.entity,o=i.id;!l(t.get(o))&&!l(n.get(o))&&n.set(o,i)};Zf.prototype._onCollectionChanged=function(e,t,n){let i=this._addedObjects,o=this._removedObjects,r=this._changedObjects,s,a,c;for(s=n.length-1;s>-1;s--)c=n[s],a=c.id,i.remove(a)||(o.set(a,c),r.remove(a));for(s=t.length-1;s>-1;s--)c=t[s],a=c.id,o.remove(a)?r.set(a,c):i.set(a,c)};var $P=Zf;function Ul(e){Mc.initializeTerrainHeights(),Lm.initializeTerrainHeights();let t=e.scene,n=e.dataSourceCollection;this._eventHelper=new Xr,this._eventHelper.add(n.dataSourceAdded,this._onDataSourceAdded,this),this._eventHelper.add(n.dataSourceRemoved,this._onDataSourceRemoved,this),this._eventHelper.add(n.dataSourceMoved,this._onDataSourceMoved,this),this._eventHelper.add(t.postRender,this._postRender,this),this._dataSourceCollection=n,this._scene=t,this._visualizersCallback=g(e.visualizersCallback,Ul.defaultVisualizersCallback);let i=!1,o=new Ml,r=new Ml;n.length>0&&(t.primitives.add(o),t.groundPrimitives.add(r),i=!0),this._primitives=o,this._groundPrimitives=r;for(let d=0,u=n.length;d<u;d++)this._onDataSourceAdded(n,n.get(d));let s=new nP;this._onDataSourceAdded(void 0,s),this._defaultDataSource=s;let a,c;if(!i){let d=this,u=function(){t.primitives.add(o),t.groundPrimitives.add(r),a(),c(),d._removeDefaultDataSourceListener=void 0,d._removeDataSourceCollectionListener=void 0};a=s.entities.collectionChanged.addEventListener(u),c=n.dataSourceAdded.addEventListener(u)}this._removeDefaultDataSourceListener=a,this._removeDataSourceCollectionListener=c,this._ready=!1}var rV=[];Ul.registerVisualizer=function(e){rV.includes(e)||rV.push(e)};Ul.unregisterVisualizer=function(e){if(rV.includes(e)){let t=rV.indexOf(e);rV.splice(t,1)}};Ul.defaultVisualizersCallback=function(e,t,n){let i=n.entities;return[new zG(t,i),new DP(e,i,n._primitives,n._groundPrimitives),new BP(t,i),new YP(e,i),new U2(e,i),new KP(t,i),new zP(e,i),new $P(e,i,n._primitives,n._groundPrimitives),...rV.map(o=>new o(e,i))]};Object.defineProperties(Ul.prototype,{scene:{get:function(){return this._scene}},dataSources:{get:function(){return this._dataSourceCollection}},defaultDataSource:{get:function(){return this._defaultDataSource}},ready:{get:function(){return this._ready}}});Ul.prototype.isDestroyed=function(){return!1};Ul.prototype.destroy=function(){this._eventHelper.removeAll();let e=this._dataSourceCollection;for(let t=0,n=e.length;t<n;++t)this._onDataSourceRemoved(this._dataSourceCollection,e.get(t));return this._onDataSourceRemoved(void 0,this._defaultDataSource),l(this._removeDefaultDataSourceListener)?(this._removeDefaultDataSourceListener(),this._removeDataSourceCollectionListener()):(this._scene.primitives.remove(this._primitives),this._scene.groundPrimitives.remove(this._groundPrimitives)),me(this)};Ul.prototype.update=function(e){if(!ai.initialized)return this._ready=!1,!1;let t=!0,n,i,o,r,s=this._dataSourceCollection,a=s.length;for(n=0;n<a;n++){let c=s.get(n);for(l(c.update)&&(t=c.update(e)&&t),o=c._visualizers,r=o.length,i=0;i<r;i++)t=o[i].update(e)&&t}for(o=this._defaultDataSource._visualizers,r=o.length,i=0;i<r;i++)t=o[i].update(e)&&t;return this._ready=t,t};Ul.prototype._postRender=function(){let e=this._scene.frameState,t=this._dataSourceCollection,n=t.length;for(let i=0;i<n;i++){let o=t.get(i),r=o.credit;l(r)&&e.creditDisplay.addCreditToNextFrame(r);let s=o._resourceCredits;if(l(s)){let a=s.length;for(let c=0;c<a;c++)e.creditDisplay.addCreditToNextFrame(s[c])}}};var Kqe=[],Jqe=new ce;Ul.prototype.getBoundingSphere=function(e,t,n){if(!this._ready)return ht.PENDING;let i,o,r=this._defaultDataSource;if(!r.entities.contains(e)){r=void 0;let p=this._dataSourceCollection;for(o=p.length,i=0;i<o;i++){let b=p.get(i);if(b.entities.contains(e)){r=b;break}}}if(!l(r))return ht.FAILED;let s=Kqe,a=Jqe,c=0,d=ht.DONE,u=r._visualizers,m=u.length;for(i=0;i<m;i++){let p=u[i];if(l(p.getBoundingSphere)){if(d=u[i].getBoundingSphere(e,a),!t&&d===ht.PENDING)return ht.PENDING;d===ht.DONE&&(s[c]=ce.clone(a,s[c]),c++)}}return c===0?ht.FAILED:(s.length=c,ce.fromBoundingSpheres(s,n),ht.DONE)};Ul.prototype._onDataSourceAdded=function(e,t){let n=this._scene,i=this._primitives,o=this._groundPrimitives,r=i.add(new Ml),s=o.add(new yP);t._primitives=r,t._groundPrimitives=s;let a=t.clustering;a._initialize(n),r.add(a),t._visualizers=this._visualizersCallback(n,a,t)};Ul.prototype._onDataSourceRemoved=function(e,t){let n=this._primitives,i=this._groundPrimitives,o=t._primitives,r=t._groundPrimitives,s=t.clustering;o.remove(s);let a=t._visualizers,c=a.length;for(let d=0;d<c;d++)a[d].destroy();n.remove(o),i.remove(r),t._visualizers=void 0};Ul.prototype._onDataSourceMoved=function(e,t,n){let i=this._primitives,o=this._groundPrimitives,r=e._primitives,s=e._groundPrimitives;t===n+1?(i.raise(r),o.raise(s)):t===n-1?(i.lower(r),o.lower(s)):t===0?(i.lowerToBottom(r),o.lowerToBottom(s),i.raise(r),o.raise(s)):(i.raiseToTop(r),o.raiseToTop(s))};var ev=Ul;var dai=T(S(),1);var jsi=T(S(),1);function mJ(e,t,n){this.heading=g(e,0),this.pitch=g(t,0),this.range=g(n,0)}mJ.clone=function(e,t){if(l(e))return l(t)||(t=new mJ),t.heading=e.heading,t.pitch=e.pitch,t.range=e.range,t};var Ou=mJ;var Ahe=new $,Mhe=new $,Nhe=new $,Qqe=new M,Gk=new h,khe=new h,hJ=new h,fJ=new h,Uhe=new h,Dhe=new h,sV=new te,jqe=1.25;function qqe(e,t,n,i,o,r,s){let a=e.scene.mode,c=o.getValue(r,e._lastCartesian);if(l(c)){let d=!1,u=!1,m,p,b;if(a===ie.SCENE3D){te.addSeconds(r,.001,sV);let V=o.getValue(sV,Gk);if(l(V)||(te.addSeconds(r,-.001,sV),V=o.getValue(sV,Gk),u=!0),l(V)){let L=Wt.computeFixedToIcrfMatrix(r,Ahe),R=Wt.computeFixedToIcrfMatrix(sV,Mhe),G;!l(L)||!l(R)?(G=Wt.computeTemeToPseudoFixedMatrix(r,Nhe),L=$.transpose(G,Ahe),R=Wt.computeTemeToPseudoFixedMatrix(sV,Mhe),$.transpose(R,R)):G=$.transpose(L,Nhe);let X=$.multiplyByVector(L,c,Uhe),v=$.multiplyByVector(R,V,Dhe);h.subtract(X,v,fJ);let W=h.magnitude(fJ)*1e3,F=P.GRAVITATIONALPARAMETER,A=-F/(W*W-2*F/h.magnitude(X));A<0||A>jqe*s.maximumRadius?(m=khe,h.normalize(c,m),h.negate(m,m),b=h.clone(h.UNIT_Z,hJ),p=h.cross(b,m,Gk),h.magnitude(p)>P.EPSILON7&&(h.normalize(m,m),h.normalize(p,p),b=h.cross(m,p,hJ),h.normalize(b,b),d=!0)):h.equalsEpsilon(c,V,P.EPSILON7)||(b=khe,h.normalize(X,b),h.normalize(v,v),p=h.cross(b,v,hJ),u&&(p=h.multiplyByScalar(p,-1,p)),h.equalsEpsilon(p,h.ZERO,P.EPSILON7)||(m=h.cross(p,b,Gk),$.multiplyByVector(G,m,m),$.multiplyByVector(G,p,p),$.multiplyByVector(G,b,b),h.normalize(m,m),h.normalize(p,p),h.normalize(b,b),d=!0))}}l(e.boundingSphere)&&(c=e.boundingSphere.center);let f,x,_;i&&(f=h.clone(t.position,fJ),x=h.clone(t.direction,Uhe),_=h.clone(t.up,Dhe));let C=Qqe;d?(C[0]=m.x,C[1]=m.y,C[2]=m.z,C[3]=0,C[4]=p.x,C[5]=p.y,C[6]=p.z,C[7]=0,C[8]=b.x,C[9]=b.y,C[10]=b.z,C[11]=0,C[12]=c.x,C[13]=c.y,C[14]=c.z,C[15]=0):Wt.eastNorthUpToFixedFrame(c,s,C),t._setTransform(C),i&&(h.clone(f,t.position),h.clone(x,t.direction),h.clone(_,t.up),h.cross(x,_,t.right))}if(n){let d=a===ie.SCENE2D||h.equals(e._offset3D,h.ZERO)?void 0:e._offset3D;t.lookAtTransform(t.transform,d)}}function tv(e,t,n){this.entity=e,this.scene=t,this.ellipsoid=g(n,oe.WGS84),this.boundingSphere=void 0,this._lastEntity=void 0,this._mode=void 0,this._lastCartesian=new h,this._defaultOffset3D=void 0,this._offset3D=new h}Object.defineProperties(tv,{defaultOffset3D:{get:function(){return this._defaultOffset3D},set:function(e){this._defaultOffset3D=h.clone(e,new h)}}});tv.defaultOffset3D=new h(-14e3,3500,3500);var Ek=new Ou,$qe=new h;tv.prototype.update=function(e,t){let n=this.scene,i=this.ellipsoid,o=n.mode;if(o===ie.MORPHING)return;let r=this.entity,s=r.position;if(!l(s))return;let a=r!==this._lastEntity,c=o!==this._mode,d=n.camera,u=a||c,m=!0;if(a){let p=r.viewFrom,b=l(p);if(!b&&l(t)){Ek.pitch=-P.PI_OVER_FOUR,Ek.range=0;let f=s.getValue(e,$qe);if(l(f)){let x=2-1/Math.max(1,h.magnitude(f)/i.maximumRadius);Ek.pitch*=x}d.viewBoundingSphere(t,Ek),this.boundingSphere=t,u=!1,m=!1}else(!b||!l(p.getValue(e,this._offset3D)))&&h.clone(tv._defaultOffset3D,this._offset3D)}else!c&&this._mode!==ie.SCENE2D&&h.clone(d.position,this._offset3D);this._lastEntity=r,this._mode=o,qqe(this,d,u,m,s,e,i)};var nv=tv;var Dci=T(S(),1);var yai=T(S(),1);function ov(){this._cache={}}ov.prototype.fromColor=function(e,t){return Xk(void 0,void 0,e,t,this._cache)};ov.prototype.fromUrl=function(e,t,n){return Xk(e,void 0,t,n,this._cache)};ov.prototype.fromMakiIconId=function(e,t,n){return Xk(on(`Assets/Textures/maki/${encodeURIComponent(e)}.png`),void 0,t,n,this._cache)};ov.prototype.fromText=function(e,t,n){return Xk(void 0,e,t,n,this._cache)};var e$e=new O;function t$e(e,t,n){e.save(),e.scale(n/24,n/24),e.fillStyle=t.toCssColorString(),e.strokeStyle=t.brighten(.6,e$e).toCssColorString(),e.lineWidth=.846,e.beginPath(),e.moveTo(6.72,.422),e.lineTo(17.28,.422),e.bezierCurveTo(18.553,.422,19.577,1.758,19.577,3.415),e.lineTo(19.577,10.973),e.bezierCurveTo(19.577,12.63,18.553,13.966,17.282,13.966),e.lineTo(14.386,14.008),e.lineTo(11.826,23.578),e.lineTo(9.614,14.008),e.lineTo(6.719,13.965),e.bezierCurveTo(5.446,13.983,4.422,12.629,4.422,10.972),e.lineTo(4.422,3.416),e.bezierCurveTo(4.423,1.76,5.447,.423,6.718,.423),e.closePath(),e.fill(),e.stroke(),e.restore()}function Bhe(e,t,n){let i=n/2.5,o=i,r=i;t.width>t.height?r=i*(t.height/t.width):t.width<t.height&&(o=i*(t.width/t.height));let s=Math.round((n-o)/2),a=Math.round(7/24*n-r/2);e.globalCompositeOperation=\"destination-out\",e.drawImage(t,s-1,a,o,r),e.drawImage(t,s,a-1,o,r),e.drawImage(t,s+1,a,o,r),e.drawImage(t,s,a+1,o,r),e.globalCompositeOperation=\"destination-over\",e.fillStyle=O.BLACK.toCssColorString(),e.fillRect(s-1,a-1,o+2,r+2),e.globalCompositeOperation=\"destination-out\",e.drawImage(t,s,a,o,r),e.globalCompositeOperation=\"destination-over\",e.fillStyle=O.WHITE.toCssColorString(),e.fillRect(s-1,a-2,o+2,r+2)}var iv=new Array(4);function Xk(e,t,n,i,o){iv[0]=e,iv[1]=t,iv[2]=n,iv[3]=i;let r=JSON.stringify(iv),s=o[r];if(l(s))return s;let a=document.createElement(\"canvas\");a.width=i,a.height=i;let c=a.getContext(\"2d\");if(t$e(c,n,i),l(e)){let u=Xe.createIfNeeded(e).fetchImage().then(function(m){return Bhe(c,m,i),o[r]=a,a});return o[r]=u,u}else if(l(t)){let d=p_(t,{font:`bold ${i}px sans-serif`});Bhe(c,d,i)}return o[r]=a,a}var k0=ov;var aci=T(S());var Lai=T(S());var Sai=T(S());var xai=T(S());function pJ(e){return e}function Ik(e){if(e==null)return pJ;var t,n,i=e.scale[0],o=e.scale[1],r=e.translate[0],s=e.translate[1];return function(a,c){c||(t=n=0);var d=2,u=a.length,m=new Array(u);for(m[0]=(t+=a[0])*i+r,m[1]=(n+=a[1])*o+s;d<u;)m[d]=a[d],++d;return m}}var Iai=T(S());var Rai=T(S());function Yhe(e,t){for(var n,i=e.length,o=i-t;o<--i;)n=e[o],e[o++]=e[i],e[i]=n}function bJ(e,t){return typeof t==\"string\"&&(t=e.objects[t]),t.type===\"GeometryCollection\"?{type:\"FeatureCollection\",features:t.geometries.map(function(n){return Ohe(e,n)})}:Ohe(e,t)}function Ohe(e,t){var n=t.id,i=t.bbox,o=t.properties==null?{}:t.properties,r=yJ(e,t);return n==null&&i==null?{type:\"Feature\",properties:o,geometry:r}:i==null?{type:\"Feature\",id:n,properties:o,geometry:r}:{type:\"Feature\",id:n,bbox:i,properties:o,geometry:r}}function yJ(e,t){var n=Ik(e.transform),i=e.arcs;function o(u,m){m.length&&m.pop();for(var p=i[u<0?~u:u],b=0,f=p.length;b<f;++b)m.push(n(p[b],b));u<0&&Yhe(m,f)}function r(u){return n(u)}function s(u){for(var m=[],p=0,b=u.length;p<b;++p)o(u[p],m);return m.length<2&&m.push(m[0]),m}function a(u){for(var m=s(u);m.length<4;)m.push(m[0]);return m}function c(u){return u.map(a)}function d(u){var m=u.type,p;switch(m){case\"GeometryCollection\":return{type:m,geometries:u.geometries.map(d)};case\"Point\":p=r(u.coordinates);break;case\"MultiPoint\":p=u.coordinates.map(r);break;case\"LineString\":p=s(u.arcs);break;case\"MultiLineString\":p=u.arcs.map(s);break;case\"Polygon\":p=c(u.arcs);break;case\"MultiPolygon\":p=u.arcs.map(c);break;default:return null}return{type:m,coordinates:p}}return d(t)}var Aai=T(S());var Pai=T(S());var Uai=T(S());var Hai=T(S());var Bai=T(S());var eci=T(S());var Qai=T(S());function Wk(e){return h.fromDegrees(e[0],e[1],e[2])}var gJ={\"urn:ogc:def:crs:OGC:1.3:CRS84\":Wk,\"EPSG:4326\":Wk,\"urn:ogc:def:crs:EPSG::4326\":Wk},zhe={},Hhe={},xJ=48,_J,TJ=O.ROYALBLUE,SJ=O.YELLOW,CJ=2,VJ=O.fromBytes(255,255,0,100),LJ=!1,s$e={small:24,medium:48,large:64},a$e=[\"title\",\"description\",\"marker-size\",\"marker-symbol\",\"marker-color\",\"stroke\",\"stroke-opacity\",\"stroke-width\",\"fill\",\"fill-opacity\"];function Khe(e,t){let n=\"\";for(let i in e)if(e.hasOwnProperty(i)){if(i===t||a$e.indexOf(i)!==-1)continue;let o=e[i];l(o)&&(typeof o==\"object\"?n+=`<tr><th>${i}</th><td>${Khe(o)}</td></tr>`:n+=`<tr><th>${i}</th><td>${o}</td></tr>`)}return n.length>0&&(n=`<table class=\"cesium-infoBox-defaultTable\"><tbody>${n}</tbody></table>`),n}function c$e(e,t,n){let i;return function(o,r){return l(i)||(i=e(t,n)),i}}function l$e(e,t){return new Em(c$e(Khe,e,t),!0)}function Pk(e,t,n){let i=e.id;if(!l(i)||e.type!==\"Feature\")i=Bn();else{let s=2,a=i;for(;l(t.getById(a));)a=`${i}_${s}`,s++;i=a}let o=t.getOrCreateEntity(i),r=e.properties;if(l(r)){o.properties=r;let s,a=r.title;if(l(a))o.name=a,s=\"title\";else{let"
}