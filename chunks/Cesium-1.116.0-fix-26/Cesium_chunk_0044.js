{
  "metadata": {
    "source_file": "Cesium-1.116.0-fix-26\\Cesium.js",
    "chunk_index": 44,
    "total_chunks": 194,
    "chunk_size": 57150,
    "word_count": 800,
    "model_kwargs": {
      "model": "text-embedding-3-large",
      "dimensions": 3072,
      "encoding_format": "float"
    },
    "text_splitter": {
      "split_by": "word",
      "chunk_size": 800,
      "chunk_overlap": 200
    },
    "created_at": "2025-12-17T23:57:49.672Z"
  },
  "content": "e=this.cache;for(let t in e)if(e.hasOwnProperty(t)){let n=e[t];l(n.destroy)&&n.destroy()}return this._shaderCache=this._shaderCache.destroy(),this._textureCache=this._textureCache.destroy(),this._defaultTexture=this._defaultTexture&&this._defaultTexture.destroy(),this._defaultEmissiveTexture=this._defaultEmissiveTexture&&this._defaultEmissiveTexture.destroy(),this._defaultNormalTexture=this._defaultNormalTexture&&this._defaultNormalTexture.destroy(),this._defaultCubeMap=this._defaultCubeMap&&this._defaultCubeMap.destroy(),me(this)};od._deprecationWarning=Is;var NG=od;var kNt=T(S(),1);var gNt=T(S(),1);function US(e){e=g(e,g.EMPTY_OBJECT);let t=e.context,n=e.width,i=e.height;this._width=n,this._height=i;let o=e.colorRenderbuffers,r=e.colorTextures;if(l(o)!==l(r))throw new fe(\"Both color renderbuffer and texture attachments must be provided.\");let s=e.depthStencilRenderbuffer,a=e.depthStencilTexture;if(l(s)!==l(a))throw new fe(\"Both depth-stencil renderbuffer and texture attachments must be provided.\");this._renderFramebuffer=new $s({context:t,colorRenderbuffers:o,depthStencilRenderbuffer:s,destroyAttachments:e.destroyAttachments}),this._colorFramebuffer=new $s({context:t,colorTextures:r,depthStencilTexture:a,destroyAttachments:e.destroyAttachments})}US.prototype.getRenderFramebuffer=function(){return this._renderFramebuffer};US.prototype.getColorFramebuffer=function(){return this._colorFramebuffer};US.prototype.blitFramebuffers=function(e,t){this._renderFramebuffer.bindRead(),this._colorFramebuffer.bindDraw();let n=e._gl,i=0;this._colorFramebuffer._colorTextures.length>0&&(i|=n.COLOR_BUFFER_BIT),l(this._colorFramebuffer.depthStencilTexture)&&(i|=n.DEPTH_BUFFER_BIT|(t?n.STENCIL_BUFFER_BIT:0)),n.blitFramebuffer(0,0,this._width,this._height,0,0,this._width,this._height,i,n.NEAREST),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null)};US.prototype.isDestroyed=function(){return!1};US.prototype.destroy=function(){return this._renderFramebuffer.destroy(),this._colorFramebuffer.destroy(),me(this)};var kG=US;var GNt=T(S(),1);var TNt=T(S(),1);var _l={RGBA4:ne.RGBA4,RGBA8:ne.RGBA8,RGBA16F:ne.RGBA16F,RGBA32F:ne.RGBA32F,RGB5_A1:ne.RGB5_A1,RGB565:ne.RGB565,DEPTH_COMPONENT16:ne.DEPTH_COMPONENT16,STENCIL_INDEX8:ne.STENCIL_INDEX8,DEPTH_STENCIL:ne.DEPTH_STENCIL,DEPTH24_STENCIL8:ne.DEPTH24_STENCIL8,validate:function(e){return e===_l.RGBA4||e===_l.RGBA8||e===_l.RGBA16F||e===_l.RGBA32F||e===_l.RGB5_A1||e===_l.RGB565||e===_l.DEPTH_COMPONENT16||e===_l.STENCIL_INDEX8||e===_l.DEPTH_STENCIL||e===_l.DEPTH24_STENCIL8},getColorFormat:function(e){return e===ne.FLOAT?_l.RGBA32F:e===ne.HALF_FLOAT_OES?_l.RGBA16F:_l.RGBA8}},Pc=Object.freeze(_l);function UG(e){e=g(e,g.EMPTY_OBJECT);let n=e.context._gl,i=Yt.maximumRenderbufferSize,o=g(e.format,Pc.RGBA4),r=l(e.width)?e.width:n.drawingBufferWidth,s=l(e.height)?e.height:n.drawingBufferHeight,a=g(e.numSamples,1);this._gl=n,this._format=o,this._width=r,this._height=s,this._renderbuffer=this._gl.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,this._renderbuffer),a>1?n.renderbufferStorageMultisample(n.RENDERBUFFER,a,o,r,s):n.renderbufferStorage(n.RENDERBUFFER,o,r,s),n.bindRenderbuffer(n.RENDERBUFFER,null)}Object.defineProperties(UG.prototype,{format:{get:function(){return this._format}},width:{get:function(){return this._width}},height:{get:function(){return this._height}}});UG.prototype._getRenderbuffer=function(){return this._renderbuffer};UG.prototype.isDestroyed=function(){return!1};UG.prototype.destroy=function(){return this._gl.deleteRenderbuffer(this._renderbuffer),me(this)};var rd=UG;function ms(e){e=g(e,g.EMPTY_OBJECT),this._numSamples=g(e.numSamples,1),this._colorAttachmentsLength=g(e.colorAttachmentsLength,1),this._color=g(e.color,!0),this._depth=g(e.depth,!1),this._depthStencil=g(e.depthStencil,!1),this._supportsDepthTexture=g(e.supportsDepthTexture,!1),this._createColorAttachments=g(e.createColorAttachments,!0),this._createDepthAttachments=g(e.createDepthAttachments,!0),this._pixelDatatype=e.pixelDatatype,this._pixelFormat=e.pixelFormat,this._width=void 0,this._height=void 0,this._framebuffer=void 0,this._multisampleFramebuffer=void 0,this._colorTextures=void 0,this._color&&(this._colorTextures=new Array(this._colorAttachmentsLength),this._colorRenderbuffers=new Array(this._colorAttachmentsLength)),this._colorRenderbuffer=void 0,this._depthStencilRenderbuffer=void 0,this._depthStencilTexture=void 0,this._depthRenderbuffer=void 0,this._depthTexture=void 0,this._attachmentsDirty=!1}Object.defineProperties(ms.prototype,{framebuffer:{get:function(){return this._numSamples>1?this._multisampleFramebuffer.getRenderFramebuffer():this._framebuffer}},numSamples:{get:function(){return this._numSamples}},status:{get:function(){return this.framebuffer.status}}});ms.prototype.isDirty=function(e,t,n,i,o){n=g(n,1);let r=this._width!==e||this._height!==t,s=this._numSamples!==n,a=l(i)&&this._pixelDatatype!==i||l(o)&&this._pixelFormat!==o,c=n===1?l(this._framebuffer):l(this._multisampleFramebuffer);return this._attachmentsDirty||r||s||a||!c||this._color&&!l(this._colorTextures[0])};ms.prototype.update=function(e,t,n,i,o,r){if(i=e.msaa?g(i,1):1,o=g(o,this._color?g(this._pixelDatatype,Qe.UNSIGNED_BYTE):void 0),r=g(r,this._color?g(this._pixelFormat,at.RGBA):void 0),this.isDirty(t,n,i,o,r)){if(this.destroy(),this._width=t,this._height=n,this._numSamples=i,this._pixelDatatype=o,this._pixelFormat=r,this._attachmentsDirty=!1,this._color&&this._createColorAttachments){for(let s=0;s<this._colorAttachmentsLength;++s)if(this._colorTextures[s]=new Ft({context:e,width:t,height:n,pixelFormat:r,pixelDatatype:o,sampler:mn.NEAREST}),this._numSamples>1){let a=Pc.getColorFormat(o);this._colorRenderbuffers[s]=new rd({context:e,width:t,height:n,format:a,numSamples:this._numSamples})}}this._depthStencil&&this._createDepthAttachments&&(this._supportsDepthTexture&&e.depthTexture?(this._depthStencilTexture=new Ft({context:e,width:t,height:n,pixelFormat:at.DEPTH_STENCIL,pixelDatatype:Qe.UNSIGNED_INT_24_8,sampler:mn.NEAREST}),this._numSamples>1&&(this._depthStencilRenderbuffer=new rd({context:e,width:t,height:n,format:Pc.DEPTH24_STENCIL8,numSamples:this._numSamples}))):this._depthStencilRenderbuffer=new rd({context:e,width:t,height:n,format:Pc.DEPTH_STENCIL})),this._depth&&this._createDepthAttachments&&(this._supportsDepthTexture&&e.depthTexture?this._depthTexture=new Ft({context:e,width:t,height:n,pixelFormat:at.DEPTH_COMPONENT,pixelDatatype:Qe.UNSIGNED_INT,sampler:mn.NEAREST}):this._depthRenderbuffer=new rd({context:e,width:t,height:n,format:Pc.DEPTH_COMPONENT16})),this._numSamples>1?this._multisampleFramebuffer=new kG({context:e,width:this._width,height:this._height,colorTextures:this._colorTextures,colorRenderbuffers:this._colorRenderbuffers,depthStencilTexture:this._depthStencilTexture,depthStencilRenderbuffer:this._depthStencilRenderbuffer,destroyAttachments:!1}):this._framebuffer=new $s({context:e,colorTextures:this._colorTextures,depthTexture:this._depthTexture,depthRenderbuffer:this._depthRenderbuffer,depthStencilTexture:this._depthStencilTexture,depthStencilRenderbuffer:this._depthStencilRenderbuffer,destroyAttachments:!1})}};ms.prototype.getColorTexture=function(e){return e=g(e,0),this._colorTextures[e]};ms.prototype.setColorTexture=function(e,t){t=g(t,0),this._attachmentsDirty=e!==this._colorTextures[t],this._colorTextures[t]=e};ms.prototype.getColorRenderbuffer=function(e){return e=g(e,0),this._colorRenderbuffers[e]};ms.prototype.setColorRenderbuffer=function(e,t){t=g(t,0),this._attachmentsDirty=e!==this._colorRenderbuffers[t],this._colorRenderbuffers[t]=e};ms.prototype.getDepthRenderbuffer=function(){return this._depthRenderbuffer};ms.prototype.setDepthRenderbuffer=function(e){this._attachmentsDirty=e!==this._depthRenderbuffer,this._depthRenderbuffer=e};ms.prototype.getDepthTexture=function(){return this._depthTexture};ms.prototype.setDepthTexture=function(e){this._attachmentsDirty=e!==this._depthTexture,this._depthTexture=e};ms.prototype.getDepthStencilRenderbuffer=function(){return this._depthStencilRenderbuffer};ms.prototype.setDepthStencilRenderbuffer=function(e){this._attachmentsDirty=e!==this._depthStencilRenderbuffer,this._depthStencilRenderbuffer=e};ms.prototype.getDepthStencilTexture=function(){return this._depthStencilTexture};ms.prototype.setDepthStencilTexture=function(e){this._attachmentsDirty=e!==this._depthStencilTexture,this._depthStencilTexture=e};ms.prototype.prepareTextures=function(e,t){this._numSamples>1&&this._multisampleFramebuffer.blitFramebuffers(e,t)};ms.prototype.clear=function(e,t,n){let i=t.framebuffer;t.framebuffer=this.framebuffer,t.execute(e,n),t.framebuffer=i};ms.prototype.destroyFramebuffer=function(){this._framebuffer=this._framebuffer&&this._framebuffer.destroy(),this._multisampleFramebuffer=this._multisampleFramebuffer&&this._multisampleFramebuffer.destroy()};ms.prototype.destroy=function(){if(this._color){let e,t=this._colorTextures.length;for(e=0;e<t;++e){let n=this._colorTextures[e];this._createColorAttachments&&l(n)&&!n.isDestroyed()&&(this._colorTextures[e].destroy(),this._colorTextures[e]=void 0),l(n)&&n.isDestroyed()&&(this._colorTextures[e]=void 0);let i=this._colorRenderbuffers[e];this._createColorAttachments&&l(i)&&!i.isDestroyed()&&(this._colorRenderbuffers[e].destroy(),this._colorRenderbuffers[e]=void 0),l(i)&&i.isDestroyed()&&(this._colorRenderbuffers[e]=void 0)}}this._depthStencil&&(this._createDepthAttachments&&(this._depthStencilTexture=this._depthStencilTexture&&this._depthStencilTexture.destroy(),this._depthStencilRenderbuffer=this._depthStencilRenderbuffer&&this._depthStencilRenderbuffer.destroy()),l(this._depthStencilTexture)&&this._depthStencilTexture.isDestroyed()&&(this._depthStencilTexture=void 0),l(this._depthStencilRenderbuffer)&&this._depthStencilRenderbuffer.isDestroyed()&&(this._depthStencilRenderbuffer=void 0)),this._depth&&(this._createDepthAttachments&&(this._depthTexture=this._depthTexture&&this._depthTexture.destroy(),this._depthRenderbuffer=this._depthRenderbuffer&&this._depthRenderbuffer.destroy()),l(this._depthTexture)&&this._depthTexture.isDestroyed()&&(this._depthTexture=void 0),l(this._depthRenderbuffer)&&this._depthRenderbuffer.isDestroyed()&&(this._depthRenderbuffer=void 0)),this.destroyFramebuffer()};var li=ms;var nkt=T(S(),1);var DNt=T(S(),1);var rx={VERTEX:0,FRAGMENT:1,BOTH:2};rx.includesVertexShader=function(e){return e===rx.VERTEX||e===rx.BOTH};rx.includesFragmentShader=function(e){return e===rx.FRAGMENT||e===rx.BOTH};var Ce=Object.freeze(rx);var YNt=T(S(),1);function XY(e){this.name=e,this.fields=[]}XY.prototype.addField=function(e,t){let n=` ${e} ${t};`;this.fields.push(n)};XY.prototype.generateGlslLines=function(){let e=this.fields;return e.length===0&&(e=[\" float _empty;\"]),[].concat(`struct ${this.name}`,\"{\",e,\"};\")};var DG=XY;var zNt=T(S(),1);function IY(e){this.signature=e,this.body=[]}IY.prototype.addLines=function(e){let t=this.body;if(Array.isArray(e)){let n=e.length;for(let i=0;i<n;i++)t.push(` ${e[i]}`)}else t.push(` ${e}`)};IY.prototype.generateGlslLines=function(){return[].concat(this.signature,\"{\",this.body,\"}\")};var BG=IY;function vc(){this._positionAttributeLine=void 0,this._nextAttributeLocation=1,this._attributeLocations={},this._attributeLines=[],this._structs={},this._functions={},this._vertexShaderParts={defineLines:[],uniformLines:[],shaderLines:[],varyingLines:[],structIds:[],functionIds:[]},this._fragmentShaderParts={defineLines:[],uniformLines:[],shaderLines:[],varyingLines:[],structIds:[],functionIds:[]}}Object.defineProperties(vc.prototype,{attributeLocations:{get:function(){return this._attributeLocations}}});vc.prototype.addDefine=function(e,t,n){n=g(n,Ce.BOTH);let i=e;l(t)&&(i+=` ${t.toString()}`),Ce.includesVertexShader(n)&&this._vertexShaderParts.defineLines.push(i),Ce.includesFragmentShader(n)&&this._fragmentShaderParts.defineLines.push(i)};vc.prototype.addStruct=function(e,t,n){this._structs[e]=new DG(t),Ce.includesVertexShader(n)&&this._vertexShaderParts.structIds.push(e),Ce.includesFragmentShader(n)&&this._fragmentShaderParts.structIds.push(e)};vc.prototype.addStructField=function(e,t,n){this._structs[e].addField(t,n)};vc.prototype.addFunction=function(e,t,n){this._functions[e]=new BG(t),Ce.includesVertexShader(n)&&this._vertexShaderParts.functionIds.push(e),Ce.includesFragmentShader(n)&&this._fragmentShaderParts.functionIds.push(e)};vc.prototype.addFunctionLines=function(e,t){this._functions[e].addLines(t)};vc.prototype.addUniform=function(e,t,n){n=g(n,Ce.BOTH);let i=`uniform ${e} ${t};`;Ce.includesVertexShader(n)&&this._vertexShaderParts.uniformLines.push(i),Ce.includesFragmentShader(n)&&this._fragmentShaderParts.uniformLines.push(i)};vc.prototype.setPositionAttribute=function(e,t){return this._positionAttributeLine=`in ${e} ${t};`,this._attributeLocations[t]=0,0};vc.prototype.addAttribute=function(e,t){let n=`in ${e} ${t};`;this._attributeLines.push(n);let i=this._nextAttributeLocation;return this._attributeLocations[t]=i,this._nextAttributeLocation+=yGe(e),i};vc.prototype.addVarying=function(e,t){let n=`${e} ${t};`;this._vertexShaderParts.varyingLines.push(`out ${n}`),this._fragmentShaderParts.varyingLines.push(`in ${n}`)};vc.prototype.addVertexLines=function(e){let t=this._vertexShaderParts.shaderLines;Array.isArray(e)?t.push.apply(t,e):t.push(e)};vc.prototype.addFragmentLines=function(e){let t=this._fragmentShaderParts.shaderLines;Array.isArray(e)?t.push.apply(t,e):t.push(e)};vc.prototype.buildShaderProgram=function(e){let t=l(this._positionAttributeLine)?[this._positionAttributeLine]:[],n=bGe(this),i=gGe(this),o=t.concat(this._attributeLines,this._vertexShaderParts.uniformLines,this._vertexShaderParts.varyingLines,n.vertexLines,i.vertexLines,this._vertexShaderParts.shaderLines).join(` `),r=new Ue({defines:this._vertexShaderParts.defineLines,sources:[o]}),s=this._fragmentShaderParts.uniformLines.concat(this._fragmentShaderParts.varyingLines,n.fragmentLines,i.fragmentLines,this._fragmentShaderParts.shaderLines).join(` `),a=new Ue({defines:this._fragmentShaderParts.defineLines,sources:[s]});return Ht.fromCache({context:e,vertexShaderSource:r,fragmentShaderSource:a,attributeLocations:this._attributeLocations})};vc.prototype.clone=function(){return Oe(this,!0)};function bGe(e){let t=[],n=[],i,o=e._vertexShaderParts.structIds,r,s,a;for(i=0;i<o.length;i++)r=o[i],s=e._structs[r],a=s.generateGlslLines(),t.push.apply(t,a);for(o=e._fragmentShaderParts.structIds,i=0;i<o.length;i++)r=o[i],s=e._structs[r],a=s.generateGlslLines(),n.push.apply(n,a);return{vertexLines:t,fragmentLines:n}}function yGe(e){switch(e){case\"mat2\":return 2;case\"mat3\":return 3;case\"mat4\":return 4;default:return 1}}function gGe(e){let t=[],n=[],i,o=e._vertexShaderParts.functionIds,r,s,a;for(i=0;i<o.length;i++)r=o[i],s=e._functions[r],a=s.generateGlslLines(),t.push.apply(t,a);for(o=e._fragmentShaderParts.functionIds,i=0;i<o.length;i++)r=o[i],s=e._functions[r],a=s.generateGlslLines(),n.push.apply(n,a);return{vertexLines:t,fragmentLines:n}}var sx=vc;var mkt=T(S(),1);function vs(e,t,n,i){let o=vs._verifyAttributes(t);n=g(n,0);let r=[],s={},a,c,d=o.length;for(let m=0;m<d;++m){let p=o[m];if(p.vertexBuffer){r.push(p);continue}c=p.usage,a=s[c],l(a)||(a=s[c]=[]),a.push(p)}function u(m,p){return Q.getSizeInBytes(p.componentDatatype)-Q.getSizeInBytes(m.componentDatatype)}this._allBuffers=[];for(c in s)if(s.hasOwnProperty(c)){a=s[c],a.sort(u);let m=vs._vertexSizeInBytes(a),p=a[0].usage,b={vertexSizeInBytes:m,vertexBuffer:void 0,usage:p,needsCommit:!1,arrayBuffer:void 0,arrayViews:vs._createArrayViews(a,m)};this._allBuffers.push(b)}this._size=0,this._instanced=g(i,!1),this._precreated=r,this._context=e,this.writers=void 0,this.va=void 0,this.resize(n)}vs._verifyAttributes=function(e){let t=[];for(let i=0;i<e.length;++i){let o=e[i],r={index:g(o.index,i),enabled:g(o.enabled,!0),componentsPerAttribute:o.componentsPerAttribute,componentDatatype:g(o.componentDatatype,Q.FLOAT),normalize:g(o.normalize,!1),vertexBuffer:o.vertexBuffer,usage:g(o.usage,Me.STATIC_DRAW)};t.push(r)}let n=new Array(t.length);for(let i=0;i<t.length;++i){let r=t[i].index;n[r]=!0}return t};vs._vertexSizeInBytes=function(e){let t=0,n=e.length;for(let s=0;s<n;++s){let a=e[s];t+=a.componentsPerAttribute*Q.getSizeInBytes(a.componentDatatype)}let i=n>0?Q.getSizeInBytes(e[0].componentDatatype):0,o=i>0?t%i:0,r=o===0?0:i-o;return t+=r,t};vs._createArrayViews=function(e,t){let n=[],i=0,o=e.length;for(let r=0;r<o;++r){let s=e[r],a=s.componentDatatype;n.push({index:s.index,enabled:s.enabled,componentsPerAttribute:s.componentsPerAttribute,componentDatatype:a,normalize:s.normalize,offsetInBytes:i,vertexSizeInComponentType:t/Q.getSizeInBytes(a),view:void 0}),i+=s.componentsPerAttribute*Q.getSizeInBytes(a)}return n};vs.prototype.resize=function(e){this._size=e;let t=this._allBuffers;this.writers=[];for(let n=0,i=t.length;n<i;++n){let o=t[n];vs._resize(o,this._size),vs._appendWriters(this.writers,o)}WY(this)};vs._resize=function(e,t){if(e.vertexSizeInBytes>0){let n=new ArrayBuffer(t*e.vertexSizeInBytes);if(l(e.arrayBuffer)){let r=new Uint8Array(n),s=new Uint8Array(e.arrayBuffer),a=s.length;for(let c=0;c<a;++c)r[c]=s[c]}let i=e.arrayViews,o=i.length;for(let r=0;r<o;++r){let s=i[r];s.view=Q.createArrayBufferView(s.componentDatatype,n,s.offsetInBytes)}e.arrayBuffer=n}};var xGe=[function(e,t,n){return function(i,o){t[i*n]=o,e.needsCommit=!0}},function(e,t,n){return function(i,o,r){let s=i*n;t[s]=o,t[s+1]=r,e.needsCommit=!0}},function(e,t,n){return function(i,o,r,s){let a=i*n;t[a]=o,t[a+1]=r,t[a+2]=s,e.needsCommit=!0}},function(e,t,n){return function(i,o,r,s,a){let c=i*n;t[c]=o,t[c+1]=r,t[c+2]=s,t[c+3]=a,e.needsCommit=!0}}];vs._appendWriters=function(e,t){let n=t.arrayViews,i=n.length;for(let o=0;o<i;++o){let r=n[o];e[r.index]=xGe[r.componentsPerAttribute-1](t,r.view,r.vertexSizeInComponentType)}};vs.prototype.commit=function(e){let t=!1,n=this._allBuffers,i,o,r;for(o=0,r=n.length;o<r;++o)i=n[o],t=_Ge(this,i)||t;if(t||!l(this.va)){WY(this);let s=this.va=[],a=P.SIXTY_FOUR_KILOBYTES-4,c=l(e)&&!this._instanced?Math.ceil(this._size/a):1;for(let d=0;d<c;++d){let u=[];for(o=0,r=n.length;o<r;++o){i=n[o];let m=d*(i.vertexSizeInBytes*a);vs._appendAttributes(u,i,m,this._instanced)}u=u.concat(this._precreated),s.push({va:new ti({context:this._context,attributes:u,indexBuffer:e}),indicesCount:1.5*(d!==c-1?a:this._size%a)})}}};function _Ge(e,t){if(t.needsCommit&&t.vertexSizeInBytes>0){t.needsCommit=!1;let n=t.vertexBuffer,i=e._size*t.vertexSizeInBytes,o=l(n);if(!o||n.sizeInBytes<i)return o&&n.destroy(),t.vertexBuffer=pt.createVertexBuffer({context:e._context,typedArray:t.arrayBuffer,usage:t.usage}),t.vertexBuffer.vertexArrayDestroyable=!1,!0;t.vertexBuffer.copyFromArrayView(t.arrayBuffer)}return!1}vs._appendAttributes=function(e,t,n,i){let o=t.arrayViews,r=o.length;for(let s=0;s<r;++s){let a=o[s];e.push({index:a.index,enabled:a.enabled,componentsPerAttribute:a.componentsPerAttribute,componentDatatype:a.componentDatatype,normalize:a.normalize,vertexBuffer:t.vertexBuffer,offsetInBytes:n+a.offsetInBytes,strideInBytes:t.vertexSizeInBytes,instanceDivisor:i?1:0})}};vs.prototype.subCommit=function(e,t){let n=this._allBuffers;for(let i=0,o=n.length;i<o;++i)TGe(n[i],e,t)};function TGe(e,t,n){if(e.needsCommit&&e.vertexSizeInBytes>0){let i=e.vertexSizeInBytes*t,o=e.vertexSizeInBytes*n;e.vertexBuffer.copyFromArrayView(new Uint8Array(e.arrayBuffer,i,o),i)}}vs.prototype.endSubCommits=function(){let e=this._allBuffers;for(let t=0,n=e.length;t<n;++t)e[t].needsCommit=!1};function WY(e){let t=e.va;if(!l(t))return;let n=t.length;for(let i=0;i<n;++i)t[i].va.destroy();e.va=void 0}vs.prototype.isDestroyed=function(){return!1};vs.prototype.destroy=function(){let e=this._allBuffers;for(let t=0,n=e.length;t<n;++t){let i=e[t];i.vertexBuffer=i.vertexBuffer&&i.vertexBuffer.destroy()}return WY(this),me(this)};var xp=vs;var bkt=T(S(),1);function SGe(e,t,n){let i={flipY:!0,skipColorSpaceConversion:n,preferImageBitmap:!0},o=[Xe.createIfNeeded(t.positiveX).fetchImage(i),Xe.createIfNeeded(t.negativeX).fetchImage(i),Xe.createIfNeeded(t.positiveY).fetchImage(i),Xe.createIfNeeded(t.negativeY).fetchImage(i),Xe.createIfNeeded(t.positiveZ).fetchImage(i),Xe.createIfNeeded(t.negativeZ).fetchImage(i)];return Promise.all(o).then(function(r){return new qa({context:e,source:{positiveX:r[0],negativeX:r[1],positiveY:r[2],negativeY:r[3],positiveZ:r[4],negativeZ:r[5]}})})}var YG=SGe;var Ikt=T(S(),1);var Lkt=T(S(),1);var _kt=T(S(),1);function Ib(e){this._value=void 0,this._hasClone=!1,this._hasEquals=!1,this._definitionChanged=new ge,this.setValue(e)}Object.defineProperties(Ib.prototype,{isConstant:{value:!0},definitionChanged:{get:function(){return this._definitionChanged}}});Ib.prototype.getValue=function(e,t){return this._hasClone?this._value.clone(t):this._value};Ib.prototype.setValue=function(e){let t=this._value;if(t!==e){let n=l(e),i=n&&typeof e.clone==\"function\",o=n&&typeof e.equals==\"function\";(!o||!e.equals(t))&&(this._hasClone=i,this._hasEquals=o,this._value=i?e.clone(this._value):e,this._definitionChanged.raiseEvent(this))}};Ib.prototype.equals=function(e){return this===e||e instanceof Ib&&(!this._hasEquals&&this._value===e._value||this._hasEquals&&this._value.equals(e._value))};Ib.prototype.valueOf=function(){return this._value};Ib.prototype.toString=function(){return String(this._value)};var Jn=Ib;function CGe(e,t,n,i,o){return{configurable:i,get:function(){return this[t]},set:function(r){let s=this[t],a=this[n];l(a)&&(a(),this[n]=void 0),r!==void 0&&(!l(r)||!l(r.getValue))&&l(o)&&(r=o(r)),s!==r&&(this[t]=r,this._definitionChanged.raiseEvent(this,e,r,s)),l(r)&&l(r.definitionChanged)&&(this[n]=r.definitionChanged.addEventListener(function(){this._definitionChanged.raiseEvent(this,e,r,r)},this))}}}function VGe(e){return new Jn(e)}function LGe(e,t,n){return CGe(e,`_${e.toString()}`,`_${e.toString()}Subscription`,g(t,!1),g(n,VGe))}var de=LGe;function OG(e){this._definitionChanged=new ge,this._show=void 0,this._showSubscription=void 0,this._image=void 0,this._imageSubscription=void 0,this._scale=void 0,this._scaleSubscription=void 0,this._pixelOffset=void 0,this._pixelOffsetSubscription=void 0,this._eyeOffset=void 0,this._eyeOffsetSubscription=void 0,this._horizontalOrigin=void 0,this._horizontalOriginSubscription=void 0,this._verticalOrigin=void 0,this._verticalOriginSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._color=void 0,this._colorSubscription=void 0,this._rotation=void 0,this._rotationSubscription=void 0,this._alignedAxis=void 0,this._alignedAxisSubscription=void 0,this._sizeInMeters=void 0,this._sizeInMetersSubscription=void 0,this._width=void 0,this._widthSubscription=void 0,this._height=void 0,this._heightSubscription=void 0,this._scaleByDistance=void 0,this._scaleByDistanceSubscription=void 0,this._translucencyByDistance=void 0,this._translucencyByDistanceSubscription=void 0,this._pixelOffsetScaleByDistance=void 0,this._pixelOffsetScaleByDistanceSubscription=void 0,this._imageSubRegion=void 0,this._imageSubRegionSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._disableDepthTestDistance=void 0,this._disableDepthTestDistanceSubscription=void 0,this._depthFailTranslucency=void 0,this.merge(g(e,g.EMPTY_OBJECT))}Object.defineProperties(OG.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:de(\"show\"),image:de(\"image\"),scale:de(\"scale\"),pixelOffset:de(\"pixelOffset\"),eyeOffset:de(\"eyeOffset\"),horizontalOrigin:de(\"horizontalOrigin\"),verticalOrigin:de(\"verticalOrigin\"),heightReference:de(\"heightReference\"),color:de(\"color\"),rotation:de(\"rotation\"),alignedAxis:de(\"alignedAxis\"),sizeInMeters:de(\"sizeInMeters\"),width:de(\"width\"),height:de(\"height\"),scaleByDistance:de(\"scaleByDistance\"),translucencyByDistance:de(\"translucencyByDistance\"),pixelOffsetScaleByDistance:de(\"pixelOffsetScaleByDistance\"),imageSubRegion:de(\"imageSubRegion\"),distanceDisplayCondition:de(\"distanceDisplayCondition\"),disableDepthTestDistance:de(\"disableDepthTestDistance\"),depthFailTranslucency:de(\"depthFailTranslucency\")});OG.prototype.clone=function(e){return l(e)?(e.show=this._show,e.image=this._image,e.scale=this._scale,e.pixelOffset=this._pixelOffset,e.eyeOffset=this._eyeOffset,e.horizontalOrigin=this._horizontalOrigin,e.verticalOrigin=this._verticalOrigin,e.heightReference=this._heightReference,e.color=this._color,e.rotation=this._rotation,e.alignedAxis=this._alignedAxis,e.sizeInMeters=this._sizeInMeters,e.width=this._width,e.height=this._height,e.scaleByDistance=this._scaleByDistance,e.translucencyByDistance=this._translucencyByDistance,e.pixelOffsetScaleByDistance=this._pixelOffsetScaleByDistance,e.imageSubRegion=this._imageSubRegion,e.distanceDisplayCondition=this._distanceDisplayCondition,e.disableDepthTestDistance=this._disableDepthTestDistance,e.depthFailTranslucency=this._depthFailTranslucency,e):new OG(this)};OG.prototype.merge=function(e){this.show=g(this._show,e.show),this.image=g(this._image,e.image),this.scale=g(this._scale,e.scale),this.pixelOffset=g(this._pixelOffset,e.pixelOffset),this.eyeOffset=g(this._eyeOffset,e.eyeOffset),this.horizontalOrigin=g(this._horizontalOrigin,e.horizontalOrigin),this.verticalOrigin=g(this._verticalOrigin,e.verticalOrigin),this.heightReference=g(this._heightReference,e.heightReference),this.color=g(this._color,e.color),this.rotation=g(this._rotation,e.rotation),this.alignedAxis=g(this._alignedAxis,e.alignedAxis),this.sizeInMeters=g(this._sizeInMeters,e.sizeInMeters),this.width=g(this._width,e.width),this.height=g(this._height,e.height),this.scaleByDistance=g(this._scaleByDistance,e.scaleByDistance),this.translucencyByDistance=g(this._translucencyByDistance,e.translucencyByDistance),this.pixelOffsetScaleByDistance=g(this._pixelOffsetScaleByDistance,e.pixelOffsetScaleByDistance),this.imageSubRegion=g(this._imageSubRegion,e.imageSubRegion),this.distanceDisplayCondition=g(this._distanceDisplayCondition,e.distanceDisplayCondition),this.disableDepthTestDistance=g(this._disableDepthTestDistance,e.disableDepthTestDistance),this.depthFailTranslucency=g(this._depthFailTranslucency,e.depthFailTranslucency)};var ec=OG;var yUt=T(S(),1);var vkt=T(S(),1);function ax(){this._array=[],this._hash={}}Object.defineProperties(ax.prototype,{length:{get:function(){return this._array.length}},values:{get:function(){return this._array}}});ax.prototype.contains=function(e){return l(this._hash[e])};ax.prototype.set=function(e,t){let n=this._hash[e];t!==n&&(this.remove(e),this._hash[e]=t,this._array.push(t))};ax.prototype.get=function(e){return this._hash[e]};ax.prototype.remove=function(e){let t=this._hash[e],n=l(t);if(n){let i=this._array;i.splice(i.indexOf(t),1),delete this._hash[e]}return n};ax.prototype.removeAll=function(){let e=this._array;e.length>0&&(this._hash={},e.length=0)};var Lt=ax;var Mkt=T(S(),1);function sd(e,t){e=g(e,0),this._near=e,t=g(t,Number.MAX_VALUE),this._far=t}Object.defineProperties(sd.prototype,{near:{get:function(){return this._near},set:function(e){this._near=e}},far:{get:function(){return this._far},set:function(e){this._far=e}}});sd.packedLength=2;sd.pack=function(e,t,n){return n=g(n,0),t[n++]=e.near,t[n]=e.far,t};sd.unpack=function(e,t,n){return t=g(t,0),l(n)||(n=new sd),n.near=e[t++],n.far=e[t],n};sd.equals=function(e,t){return e===t||l(e)&&l(t)&&e.near===t.near&&e.far===t.far};sd.clone=function(e,t){if(l(e))return l(t)||(t=new sd),t.near=e.near,t.far=e.far,t};sd.prototype.clone=function(e){return sd.clone(this,e)};sd.prototype.equals=function(e){return sd.equals(this,e)};var It=sd;var Dkt=T(S(),1);function au(e,t,n,i){this.near=g(e,0),this.nearValue=g(t,0),this.far=g(n,1),this.farValue=g(i,0)}au.clone=function(e,t){if(l(e))return l(t)?(t.near=e.near,t.nearValue=e.nearValue,t.far=e.far,t.farValue=e.farValue,t):new au(e.near,e.nearValue,e.far,e.farValue)};au.packedLength=4;au.pack=function(e,t,n){return n=g(n,0),t[n++]=e.near,t[n++]=e.nearValue,t[n++]=e.far,t[n]=e.farValue,t};au.unpack=function(e,t,n){return t=g(t,0),l(n)||(n=new au),n.near=e[t++],n.nearValue=e[t++],n.far=e[t++],n.farValue=e[t],n};au.equals=function(e,t){return e===t||l(e)&&l(t)&&e.near===t.near&&e.nearValue===t.nearValue&&e.far===t.far&&e.farValue===t.farValue};au.prototype.clone=function(e){return au.clone(this,e)};au.prototype.equals=function(e){return au.equals(this,e)};var At=au;var Ykt=T(S(),1),cx={NONE:0,CLAMP_TO_GROUND:1,RELATIVE_TO_GROUND:2,CLAMP_TO_TERRAIN:3,RELATIVE_TO_TERRAIN:4,CLAMP_TO_3D_TILE:5,RELATIVE_TO_3D_TILE:6},Je=Object.freeze(cx);function cu(e){return e===cx.CLAMP_TO_GROUND||e===cx.CLAMP_TO_3D_TILE||e===cx.CLAMP_TO_TERRAIN}function DS(e){return e===cx.RELATIVE_TO_GROUND||e===cx.RELATIVE_TO_3D_TILE||e===cx.RELATIVE_TO_TERRAIN}var zkt=T(S(),1),ZGe={CENTER:0,LEFT:1,RIGHT:-1},ui=Object.freeze(ZGe);var Kkt=T(S(),1),RGe={CENTER:0,BOTTOM:1,BASELINE:2,TOP:-1},Wn=Object.freeze(RGe);var Qkt=T(S(),1),GGe={DONE:0,PENDING:1,FAILED:2},ht=Object.freeze(GGe);var tUt=T(S(),1);function _m(){fe.throwInstantiationError()}Object.defineProperties(_m.prototype,{isConstant:{get:fe.throwInstantiationError},definitionChanged:{get:fe.throwInstantiationError}});_m.prototype.getValue=fe.throwInstantiationError;_m.prototype.equals=fe.throwInstantiationError;_m.equals=function(e,t){return e===t||l(e)&&e.equals(t)};_m.arrayEquals=function(e,t){if(e===t)return!0;if(!l(e)||!l(t)||e.length!==t.length)return!1;let n=e.length;for(let i=0;i<n;i++)if(!_m.equals(e[i],t[i]))return!1;return!0};_m.isConstant=function(e){return!l(e)||e.isConstant};_m.getValueOrUndefined=function(e,t,n){return l(e)?e.getValue(t,n):void 0};_m.getValueOrDefault=function(e,t,n,i){return l(e)?g(e.getValue(t,i),n):n};_m.getValueOrClonedDefault=function(e,t,n,i){let o;return l(e)&&(o=e.getValue(t,i)),l(o)||(o=n.clone(o)),o};var K=_m;var EGe=O.WHITE,XGe=h.ZERO,IGe=Je.NONE,WGe=D.ZERO,PGe=1,vGe=0,wGe=h.ZERO,FGe=ui.CENTER,AGe=Wn.CENTER,MGe=!1,NGe=new h,kGe=new O,UGe=new h,DGe=new D,BGe=new At,YGe=new At,OGe=new At,zGe=new ze,HGe=new It;function Kee(e){this.entity=e,this.billboard=void 0,this.textureValue=void 0}function Wb(e,t){t.collectionChanged.addEventListener(Wb.prototype._onCollectionChanged,this),this._cluster=e,this._entityCollection=t,this._items=new Lt,this._onCollectionChanged(t,t.values,[],[])}Wb.prototype.update=function(e){let t=this._items.values,n=this._cluster;for(let i=0,o=t.length;i<o;i++){let r=t[i],s=r.entity,a=s._billboard,c,d=r.billboard,u=s.isShowing&&s.isAvailable(e)&&K.getValueOrDefault(a._show,e,!0),m;if(u&&(m=K.getValueOrUndefined(s._position,e,NGe),c=K.getValueOrUndefined(a._image,e),u=l(m)&&l(c)),!u){PY(r,s,n);continue}K.isConstant(s._position)||(n._clusterDirty=!0),l(d)||(d=n.getBillboard(s),d.id=s,d.image=void 0,r.billboard=d),d.show=u,(!l(d.image)||r.textureValue!==c)&&(d.image=c,r.textureValue=c),d.position=m,d.color=K.getValueOrDefault(a._color,e,EGe,kGe),d.eyeOffset=K.getValueOrDefault(a._eyeOffset,e,XGe,UGe),d.heightReference=K.getValueOrDefault(a._heightReference,e,IGe),d.pixelOffset=K.getValueOrDefault(a._pixelOffset,e,WGe,DGe),d.scale=K.getValueOrDefault(a._scale,e,PGe),d.rotation=K.getValueOrDefault(a._rotation,e,vGe),d.alignedAxis=K.getValueOrDefault(a._alignedAxis,e,wGe),d.horizontalOrigin=K.getValueOrDefault(a._horizontalOrigin,e,FGe),d.verticalOrigin=K.getValueOrDefault(a._verticalOrigin,e,AGe),d.width=K.getValueOrUndefined(a._width,e),d.height=K.getValueOrUndefined(a._height,e),d.scaleByDistance=K.getValueOrUndefined(a._scaleByDistance,e,BGe),d.translucencyByDistance=K.getValueOrUndefined(a._translucencyByDistance,e,YGe),d.pixelOffsetScaleByDistance=K.getValueOrUndefined(a._pixelOffsetScaleByDistance,e,OGe),d.sizeInMeters=K.getValueOrDefault(a._sizeInMeters,e,MGe),d.distanceDisplayCondition=K.getValueOrUndefined(a._distanceDisplayCondition,e,HGe),d.disableDepthTestDistance=K.getValueOrUndefined(a._disableDepthTestDistance,e),d.depthFailTranslucency=K.getValueOrUndefined(a._depthFailTranslucency,e);let p=K.getValueOrUndefined(a._imageSubRegion,e,zGe);l(p)&&d.setImageSubRegion(d._imageId,p)}return!0};Wb.prototype.getBoundingSphere=function(e,t){let n=this._items.get(e.id);if(!l(n)||!l(n.billboard))return ht.FAILED;let i=n.billboard;if(i.heightReference===Je.NONE)t.center=h.clone(i.position,t.center);else{if(!l(i._clampedPosition))return ht.PENDING;t.center=h.clone(i._clampedPosition,t.center)}return t.radius=0,ht.DONE};Wb.prototype.isDestroyed=function(){return!1};Wb.prototype.destroy=function(){this._entityCollection.collectionChanged.removeEventListener(Wb.prototype._onCollectionChanged,this);let e=this._entityCollection.values;for(let t=0;t<e.length;t++)this._cluster.removeBillboard(e[t]);return me(this)};Wb.prototype._onCollectionChanged=function(e,t,n,i){let o,r,s=this._items,a=this._cluster;for(o=t.length-1;o>-1;o--)r=t[o],l(r._billboard)&&l(r._position)&&s.set(r.id,new Kee(r));for(o=i.length-1;o>-1;o--)r=i[o],l(r._billboard)&&l(r._position)?s.contains(r.id)||s.set(r.id,new Kee(r)):(PY(s.get(r.id),r,a),s.remove(r.id));for(o=n.length-1;o>-1;o--)r=n[o],PY(s.get(r.id),r,a),s.remove(r.id)};function PY(e,t,n){l(e)&&(e.billboard=void 0,n.removeBillboard(t))}var zG=Wb;var Q$t=T(S(),1);var nDt=T(S(),1);var vUt=T(S(),1);var _Ut=T(S(),1);function KGe(e,t){this.start=g(e,0),this.stop=g(t,0)}var Va=KGe;function pn(e,t){this.center=h.clone(g(e,h.ZERO)),this.radius=g(t,0)}var FY=new h,AY=new h,MY=new h,NY=new h,kY=new h,UY=new h,DY=new h,ea=new h,BY=new h,YY=new h,OY=new h,zY=new h,JGe=4/3*P.PI;pn.fromPoints=function(e,t){if(l(t)||(t=new pn),!l(e)||e.length===0)return t.center=h.clone(h.ZERO,t.center),t.radius=0,t;let n=h.clone(e[0],DY),i=h.clone(n,FY),o=h.clone(n,AY),r=h.clone(n,MY),s=h.clone(n,NY),a=h.clone(n,kY),c=h.clone(n,UY),d=e.length,u;for(u=1;u<d;u++){h.clone(e[u],n);let W=n.x,F=n.y,A=n.z;W<i.x&&h.clone(n,i),W>s.x&&h.clone(n,s),F<o.y&&h.clone(n,o),F>a.y&&h.clone(n,a),A<r.z&&h.clone(n,r),A>c.z&&h.clone(n,c)}let m=h.magnitudeSquared(h.subtract(s,i,ea)),p=h.magnitudeSquared(h.subtract(a,o,ea)),b=h.magnitudeSquared(h.subtract(c,r,ea)),f=i,x=s,_=m;p>_&&(_=p,f=o,x=a),b>_&&(_=b,f=r,x=c);let C=BY;C.x=(f.x+x.x)*.5,C.y=(f.y+x.y)*.5,C.z=(f.z+x.z)*.5;let V=h.magnitudeSquared(h.subtract(x,C,ea)),L=Math.sqrt(V),R=YY;R.x=i.x,R.y=o.y,R.z=r.z;let G=OY;G.x=s.x,G.y=a.y,G.z=c.z;let X=h.midpoint(R,G,zY),v=0;for(u=0;u<d;u++){h.clone(e[u],n);let W=h.magnitude(h.subtract(n,X,ea));W>v&&(v=W);let F=h.magnitudeSquared(h.subtract(n,C,ea));if(F>V){let A=Math.sqrt(F);L=(L+A)*.5,V=L*L;let y=A-L;C.x=(L*C.x+y*n.x)/A,C.y=(L*C.y+y*n.y)/A,C.z=(L*C.z+y*n.z)/A}}return L<v?(h.clone(C,t.center),t.radius=L):(h.clone(X,t.center),t.radius=v),t};var QGe=new Ci,jGe=new h,qGe=new h,vY=new he,wY=new he;pn.fromRectangle2D=function(e,t,n){return pn.fromRectangleWithHeights2D(e,t,0,0,n)};pn.fromRectangleWithHeights2D=function(e,t,n,i,o){if(l(o)||(o=new pn),!l(e))return o.center=h.clone(h.ZERO,o.center),o.radius=0,o;t=g(t,QGe),le.southwest(e,vY),vY.height=n,le.northeast(e,wY),wY.height=i;let r=t.project(vY,jGe),s=t.project(wY,qGe),a=s.x-r.x,c=s.y-r.y,d=s.z-r.z;o.radius=Math.sqrt(a*a+c*c+d*d)*.5;let u=o.center;return u.x=r.x+a*.5,u.y=r.y+c*.5,u.z=r.z+d*.5,o};var $Ge=[];pn.fromRectangle3D=function(e,t,n,i){if(t=g(t,oe.WGS84),n=g(n,0),l(i)||(i=new pn),!l(e))return i.center=h.clone(h.ZERO,i.center),i.radius=0,i;let o=le.subsample(e,t,n,$Ge);return pn.fromPoints(o,i)};pn.fromVertices=function(e,t,n,i){if(l(i)||(i=new pn),!l(e)||e.length===0)return i.center=h.clone(h.ZERO,i.center),i.radius=0,i;t=g(t,h.ZERO),n=g(n,3);let o=DY;o.x=e[0]+t.x,o.y=e[1]+t.y,o.z=e[2]+t.z;let r=h.clone(o,FY),s=h.clone(o,AY),a=h.clone(o,MY),c=h.clone(o,NY),d=h.clone(o,kY),u=h.clone(o,UY),m=e.length,p;for(p=0;p<m;p+=n){let A=e[p]+t.x,y=e[p+1]+t.y,Z=e[p+2]+t.z;o.x=A,o.y=y,o.z=Z,A<r.x&&h.clone(o,r),A>c.x&&h.clone(o,c),y<s.y&&h.clone(o,s),y>d.y&&h.clone(o,d),Z<a.z&&h.clone(o,a),Z>u.z&&h.clone(o,u)}let b=h.magnitudeSquared(h.subtract(c,r,ea)),f=h.magnitudeSquared(h.subtract(d,s,ea)),x=h.magnitudeSquared(h.subtract(u,a,ea)),_=r,C=c,V=b;f>V&&(V=f,_=s,C=d),x>V&&(V=x,_=a,C=u);let L=BY;L.x=(_.x+C.x)*.5,L.y=(_.y+C.y)*.5,L.z=(_.z+C.z)*.5;let R=h.magnitudeSquared(h.subtract(C,L,ea)),G=Math.sqrt(R),X=YY;X.x=r.x,X.y=s.y,X.z=a.z;let v=OY;v.x=c.x,v.y=d.y,v.z=u.z;let W=h.midpoint(X,v,zY),F=0;for(p=0;p<m;p+=n){o.x=e[p]+t.x,o.y=e[p+1]+t.y,o.z=e[p+2]+t.z;let A=h.magnitude(h.subtract(o,W,ea));A>F&&(F=A);let y=h.magnitudeSquared(h.subtract(o,L,ea));if(y>R){let Z=Math.sqrt(y);G=(G+Z)*.5,R=G*G;let E=Z-G;L.x=(G*L.x+E*o.x)/Z,L.y=(G*L.y+E*o.y)/Z,L.z=(G*L.z+E*o.z)/Z}}return G<F?(h.clone(L,i.center),i.radius=G):(h.clone(W,i.center),i.radius=F),i};pn.fromEncodedCartesianVertices=function(e,t,n){if(l(n)||(n=new pn),!l(e)||!l(t)||e.length!==t.length||e.length===0)return n.center=h.clone(h.ZERO,n.center),n.radius=0,n;let i=DY;i.x=e[0]+t[0],i.y=e[1]+t[1],i.z=e[2]+t[2];let o=h.clone(i,FY),r=h.clone(i,AY),s=h.clone(i,MY),a=h.clone(i,NY),c=h.clone(i,kY),d=h.clone(i,UY),u=e.length,m;for(m=0;m<u;m+=3){let F=e[m]+t[m],A=e[m+1]+t[m+1],y=e[m+2]+t[m+2];i.x=F,i.y=A,i.z=y,F<o.x&&h.clone(i,o),F>a.x&&h.clone(i,a),A<r.y&&h.clone(i,r),A>c.y&&h.clone(i,c),y<s.z&&h.clone(i,s),y>d.z&&h.clone(i,d)}let p=h.magnitudeSquared(h.subtract(a,o,ea)),b=h.magnitudeSquared(h.subtract(c,r,ea)),f=h.magnitudeSquared(h.subtract(d,s,ea)),x=o,_=a,C=p;b>C&&(C=b,x=r,_=c),f>C&&(C=f,x=s,_=d);let V=BY;V.x=(x.x+_.x)*.5,V.y=(x.y+_.y)*.5,V.z=(x.z+_.z)*.5;let L=h.magnitudeSquared(h.subtract(_,V,ea)),R=Math.sqrt(L),G=YY;G.x=o.x,G.y=r.y,G.z=s.z;let X=OY;X.x=a.x,X.y=c.y,X.z=d.z;let v=h.midpoint(G,X,zY),W=0;for(m=0;m<u;m+=3){i.x=e[m]+t[m],i.y=e[m+1]+t[m+1],i.z=e[m+2]+t[m+2];let F=h.magnitude(h.subtract(i,v,ea));F>W&&(W=F);let A=h.magnitudeSquared(h.subtract(i,V,ea));if(A>L){let y=Math.sqrt(A);R=(R+y)*.5,L=R*R;let Z=y-R;V.x=(R*V.x+Z*i.x)/y,V.y=(R*V.y+Z*i.y)/y,V.z=(R*V.z+Z*i.z)/y}}return R<W?(h.clone(V,n.center),n.radius=R):(h.clone(v,n.center),n.radius=W),n};pn.fromCornerPoints=function(e,t,n){l(n)||(n=new pn);let i=h.midpoint(e,t,n.center);return n.radius=h.distance(i,t),n};pn.fromEllipsoid=function(e,t){return l(t)||(t=new pn),h.clone(h.ZERO,t.center),t.radius=e.maximumRadius,t};var eEe=new h;pn.fromBoundingSpheres=function(e,t){if(l(t)||(t=new pn),!l(e)||e.length===0)return t.center=h.clone(h.ZERO,t.center),t.radius=0,t;let n=e.length;if(n===1)return pn.clone(e[0],t);if(n===2)return pn.union(e[0],e[1],t);let i=[],o;for(o=0;o<n;o++)i.push(e[o].center);t=pn.fromPoints(i,t);let r=t.center,s=t.radius;for(o=0;o<n;o++){let a=e[o];s=Math.max(s,h.distance(r,a.center,eEe)+a.radius)}return t.radius=s,t};var tEe=new h,nEe=new h,iEe=new h;pn.fromOrientedBoundingBox=function(e,t){l(t)||(t=new pn);let n=e.halfAxes,i=$.getColumn(n,0,tEe),o=$.getColumn(n,1,nEe),r=$.getColumn(n,2,iEe);return h.add(i,o,i),h.add(i,r,i),t.center=h.clone(e.center,t.center),t.radius=h.magnitude(i),t};var oEe=new h,rEe=new h;pn.fromTransformation=function(e,t){l(t)||(t=new pn);let n=M.getTranslation(e,oEe),i=M.getScale(e,rEe),o=.5*h.magnitude(i);return t.center=h.clone(n,t.center),t.radius=o,t};pn.clone=function(e,t){if(l(e))return l(t)?(t.center=h.clone(e.center,t.center),t.radius=e.radius,t):new pn(e.center,e.radius)};pn.packedLength=4;pn.pack=function(e,t,n){n=g(n,0);let i=e.center;return t[n++]=i.x,t[n++]=i.y,t[n++]=i.z,t[n]=e.radius,t};pn.unpack=function(e,t,n){t=g(t,0),l(n)||(n=new pn);let i=n.center;return i.x=e[t++],i.y=e[t++],i.z=e[t++],n.radius=e[t],n};var sEe=new h,aEe=new h;pn.union=function(e,t,n){l(n)||(n=new pn);let i=e.center,o=e.radius,r=t.center,s=t.radius,a=h.subtract(r,i,sEe),c=h.magnitude(a);if(o>=c+s)return e.clone(n),n;if(s>=c+o)return t.clone(n),n;let d=(o+c+s)*.5,u=h.multiplyByScalar(a,(-o+d)/c,aEe);return h.add(u,i,u),h.clone(u,n.center),n.radius=d,n};var cEe=new h;pn.expand=function(e,t,n){n=pn.clone(e,n);let i=h.magnitude(h.subtract(t,n.center,cEe));return i>n.radius&&(n.radius=i),n};pn.intersectPlane=function(e,t){let n=e.center,i=e.radius,o=t.normal,r=h.dot(o,n)+t.distance;return r<-i?nn.OUTSIDE:r<i?nn.INTERSECTING:nn.INSIDE};pn.transform=function(e,t,n){return l(n)||(n=new pn),n.center=M.multiplyByPoint(t,e.center,n.center),n.radius=M.getMaximumScale(t)*e.radius,n};var lEe=new h;pn.distanceSquaredTo=function(e,t){let n=h.subtract(e.center,t,lEe),i=h.magnitude(n)-e.radius;return i<=0?0:i*i};pn.transformWithoutScale=function(e,t,n){return l(n)||(n=new pn),n.center=M.multiplyByPoint(t,e.center,n.center),n.radius=e.radius,n};var dEe=new h;pn.computePlaneDistances=function(e,t,n,i){l(i)||(i=new Va);let o=h.subtract(e.center,t,dEe),r=h.dot(n,o);return i.start=r-e.radius,i.stop=r+e.radius,i};var Jee=new h,uEe=new h,mEe=new h,hEe=new h,fEe=new h,pEe=new he,Qee=new Array(8);for(let e=0;e<8;++e)Qee[e]=new h;var bEe=new Ci;pn.projectTo2D=function(e,t,n){t=g(t,bEe);let i=t.ellipsoid,o=e.center,r=e.radius,s;h.equals(o,h.ZERO)?s=h.clone(h.UNIT_X,Jee):s=i.geodeticSurfaceNormal(o,Jee);let a=h.cross(h.UNIT_Z,s,uEe);h.normalize(a,a);let c=h.cross(s,a,mEe);h.normalize(c,c),h.multiplyByScalar(s,r,s),h.multiplyByScalar(c,r,c),h.multiplyByScalar(a,r,a);let d=h.negate(c,fEe),u=h.negate(a,hEe),m=Qee,p=m[0];h.add(s,c,p),h.add(p,a,p),p=m[1],h.add(s,c,p),h.add(p,u,p),p=m[2],h.add(s,d,p),h.add(p,u,p),p=m[3],h.add(s,d,p),h.add(p,a,p),h.negate(s,s),p=m[4],h.add(s,c,p),h.add(p,a,p),p=m[5],h.add(s,c,p),h.add(p,u,p),p=m[6],h.add(s,d,p),h.add(p,u,p),p=m[7],h.add(s,d,p),h.add(p,a,p);let b=m.length;for(let C=0;C<b;++C){let V=m[C];h.add(o,V,V);let L=i.cartesianToCartographic(V,pEe);t.project(L,V)}n=pn.fromPoints(m,n),o=n.center;let f=o.x,x=o.y,_=o.z;return o.x=_,o.y=f,o.z=x,n};pn.isOccluded=function(e,t){return!t.isBoundingSphereVisible(e)};pn.equals=function(e,t){return e===t||l(e)&&l(t)&&h.equals(e.center,t.center)&&e.radius===t.radius};pn.prototype.intersectPlane=function(e){return pn.intersectPlane(this,e)};pn.prototype.distanceSquaredTo=function(e){return pn.distanceSquaredTo(this,e)};pn.prototype.computePlaneDistances=function(e,t,n){return pn.computePlaneDistances(this,e,t,n)};pn.prototype.isOccluded=function(e){return pn.isOccluded(this,e)};pn.prototype.equals=function(e){return pn.equals(this,e)};pn.prototype.clone=function(e){return pn.clone(this,e)};pn.prototype.volume=function(){let e=this.radius;return JGe*e*e*e};var ce=pn;var AUt=T(S(),1);function yEe(e){e=g(e,g.EMPTY_OBJECT),this.position=e.position,this.normal=e.normal,this.st=e.st,this.bitangent=e.bitangent,this.tangent=e.tangent,this.color=e.color}var hn=yEe;var NUt=T(S(),1),gEe={NONE:0,TOP:1,ALL:2},cn=Object.freeze(gEe);var BUt=T(S(),1);function rs(e){e=g(e,g.EMPTY_OBJECT),this.position=g(e.position,!1),this.normal=g(e.normal,!1),this.st=g(e.st,!1),this.bitangent=g(e.bitangent,!1),this.tangent=g(e.tangent,!1),this.color=g(e.color,!1)}rs.POSITION_ONLY=Object.freeze(new rs({position:!0}));rs.POSITION_AND_NORMAL=Object.freeze(new rs({position:!0,normal:!0}));rs.POSITION_NORMAL_AND_ST=Object.freeze(new rs({position:!0,normal:!0,st:!0}));rs.POSITION_AND_ST=Object.freeze(new rs({position:!0,st:!0}));rs.POSITION_AND_COLOR=Object.freeze(new rs({position:!0,color:!0}));rs.ALL=Object.freeze(new rs({position:!0,normal:!0,st:!0,tangent:!0,bitangent:!0}));rs.DEFAULT=rs.POSITION_NORMAL_AND_ST;rs.packedLength=6;rs.pack=function(e,t,n){return n=g(n,0),t[n++]=e.position?1:0,t[n++]=e.normal?1:0,t[n++]=e.st?1:0,t[n++]=e.tangent?1:0,t[n++]=e.bitangent?1:0,t[n]=e.color?1:0,t};rs.unpack=function(e,t,n){return t=g(t,0),l(n)||(n=new rs),n.position=e[t++]===1,n.normal=e[t++]===1,n.st=e[t++]===1,n.tangent=e[t++]===1,n.bitangent=e[t++]===1,n.color=e[t]===1,n};rs.clone=function(e,t){if(l(e))return l(t)||(t=new rs),t.position=e.position,t.normal=e.normal,t.st=e.st,t.tangent=e.tangent,t.bitangent=e.bitangent,t.color=e.color,t};var Pe=rs;var xEe=new h;function ad(e){e=g(e,g.EMPTY_OBJECT);let t=e.minimum,n=e.maximum,i=g(e.vertexFormat,Pe.DEFAULT);this._minimum=h.clone(t),this._maximum=h.clone(n),this._vertexFormat=i,this._offsetAttribute=e.offsetAttribute,this._workerName=\"createBoxGeometry\"}ad.fromDimensions=function(e){e=g(e,g.EMPTY_OBJECT);let t=e.dimensions,n=h.multiplyByScalar(t,.5,new h);return new ad({minimum:h.negate(n,new h),maximum:n,vertexFormat:e.vertexFormat,offsetAttribute:e.offsetAttribute})};ad.fromAxisAlignedBoundingBox=function(e){return new ad({minimum:e.minimum,maximum:e.maximum})};ad.packedLength=2*h.packedLength+Pe.packedLength+1;ad.pack=function(e,t,n){return n=g(n,0),h.pack(e._minimum,t,n),h.pack(e._maximum,t,n+h.packedLength),Pe.pack(e._vertexFormat,t,n+2*h.packedLength),t[n+2*h.packedLength+Pe.packedLength]=g(e._offsetAttribute,-1),t};var qee=new h,$ee=new h,ete=new Pe,jee={minimum:qee,maximum:$ee,vertexFormat:ete,offsetAttribute:void 0};ad.unpack=function(e,t,n){t=g(t,0);let i=h.unpack(e,t,qee),o=h.unpack(e,t+h.packedLength,$ee),r=Pe.unpack(e,t+2*h.packedLength,ete),s=e[t+2*h.packedLength+Pe.packedLength];return l(n)?(n._minimum=h.clone(i,n._minimum),n._maximum=h.clone(o,n._maximum),n._vertexFormat=Pe.clone(r,n._vertexFormat),n._offsetAttribute=s===-1?void 0:s,n):(jee.offsetAttribute=s===-1?void 0:s,new ad(jee))};ad.createGeometry=function(e){let t=e._minimum,n=e._maximum,i=e._vertexFormat;if(h.equals(t,n))return;let o=new hn,r,s;if(i.position&&(i.st||i.normal||i.tangent||i.bitangent)){if(i.position&&(s=new Float64Array(6*4*3),s[0]=t.x,s[1]=t.y,s[2]=n.z,s[3]=n.x,s[4]=t.y,s[5]=n.z,s[6]=n.x,s[7]=n.y,s[8]=n.z,s[9]=t.x,s[10]=n.y,s[11]=n.z,s[12]=t.x,s[13]=t.y,s[14]=t.z,s[15]=n.x,s[16]=t.y,s[17]=t.z,s[18]=n.x,s[19]=n.y,s[20]=t.z,s[21]=t.x,s[22]=n.y,s[23]=t.z,s[24]=n.x,s[25]=t.y,s[26]=t.z,s[27]=n.x,s[28]=n.y,s[29]=t.z,s[30]=n.x,s[31]=n.y,s[32]=n.z,s[33]=n.x,s[34]=t.y,s[35]=n.z,s[36]=t.x,s[37]=t.y,s[38]=t.z,s[39]=t.x,s[40]=n.y,s[41]=t.z,s[42]=t.x,s[43]=n.y,s[44]=n.z,s[45]=t.x,s[46]=t.y,s[47]=n.z,s[48]=t.x,s[49]=n.y,s[50]=t.z,s[51]=n.x,s[52]=n.y,s[53]=t.z,s[54]=n.x,s[55]=n.y,s[56]=n.z,s[57]=t.x,s[58]=n.y,s[59]=n.z,s[60]=t.x,s[61]=t.y,s[62]=t.z,s[63]=n.x,s[64]=t.y,s[65]=t.z,s[66]=n.x,s[67]=t.y,s[68]=n.z,s[69]=t.x,s[70]=t.y,s[71]=n.z,o.position=new Ee({componentDatatype:Q.DOUBLE,componentsPerAttribute:3,values:s})),i.normal){let d=new Float32Array(72);d[0]=0,d[1]=0,d[2]=1,d[3]=0,d[4]=0,d[5]=1,d[6]=0,d[7]=0,d[8]=1,d[9]=0,d[10]=0,d[11]=1,d[12]=0,d[13]=0,d[14]=-1,d[15]=0,d[16]=0,d[17]=-1,d[18]=0,d[19]=0,d[20]=-1,d[21]=0,d[22]=0,d[23]=-1,d[24]=1,d[25]=0,d[26]=0,d[27]=1,d[28]=0,d[29]=0,d[30]=1,d[31]=0,d[32]=0,d[33]=1,d[34]=0,d[35]=0,d[36]=-1,d[37]=0,d[38]=0,d[39]=-1,d[40]=0,d[41]=0,d[42]=-1,d[43]=0,d[44]=0,d[45]=-1,d[46]=0,d[47]=0,d[48]=0,d[49]=1,d[50]=0,d[51]=0,d[52]=1,d[53]=0,d[54]=0,d[55]=1,d[56]=0,d[57]=0,d[58]=1,d[59]=0,d[60]=0,d[61]=-1,d[62]=0,d[63]=0,d[64]=-1,d[65]=0,d[66]=0,d[67]=-1,d[68]=0,d[69]=0,d[70]=-1,d[71]=0,o.normal=new Ee({componentDatatype:Q.FLOAT,componentsPerAttribute:3,values:d})}if(i.st){let d=new Float32Array(48);d[0]=0,d[1]=0,d[2]=1,d[3]=0,d[4]=1,d[5]=1,d[6]=0,d[7]=1,d[8]=1,d[9]=0,d[10]=0,d[11]=0,d[12]=0,d[13]=1,d[14]=1,d[15]=1,d[16]=0,d[17]=0,d[18]=1,d[19]=0,d[20]=1,d[21]=1,d[22]=0,d[23]=1,d[24]=1,d[25]=0,d[26]=0,d[27]=0,d[28]=0,d[29]=1,d[30]=1,d[31]=1,d[32]=1,d[33]=0,d[34]=0,d[35]=0,d[36]=0,d[37]=1,d[38]=1,d[39]=1,d[40]=0,d[41]=0,d[42]=1,d[43]=0,d[44]=1,d[45]=1,d[46]=0,d[47]=1,o.st=new Ee({componentDatatype:Q.FLOAT,componentsPerAttribute:2,values:d})}if(i.tangent){let d=new Float32Array(72);d[0]=1,d[1]=0,d[2]=0,d[3]=1,d[4]=0,d[5]=0,d[6]=1,d[7]=0,d[8]=0,d[9]=1,d[10]=0,d[11]=0,d[12]=-1,d[13]=0,d[14]=0,d[15]=-1,d[16]=0,d[17]=0,d[18]=-1,d[19]=0,d[20]=0,d[21]=-1,d[22]=0,d[23]=0,d[24]=0,d[25]=1,d[26]=0,d[27]=0,d[28]=1,d[29]=0,d[30]=0,d[31]=1,d[32]=0,d[33]=0,d[34]=1,d[35]=0,d[36]=0,d[37]=-1,d[38]=0,d[39]=0,d[40]=-1,d[41]=0,d[42]=0,d[43]=-1,d[44]=0,d[45]=0,d[46]=-1,d[47]=0,d[48]=-1,d[49]=0,d[50]=0,d[51]=-1,d[52]=0,d[53]=0,d[54]=-1,d[55]=0,d[56]=0,d[57]=-1,d[58]=0,d[59]=0,d[60]=1,d[61]=0,d[62]=0,d[63]=1,d[64]=0,d[65]=0,d[66]=1,d[67]=0,d[68]=0,d[69]=1,d[70]=0,d[71]=0,o.tangent=new Ee({componentDatatype:Q.FLOAT,componentsPerAttribute:3,values:d})}if(i.bitangent){let d=new Float32Array(72);d[0]=0,d[1]=1,d[2]=0,d[3]=0,d[4]=1,d[5]=0,d[6]=0,d[7]=1,d[8]=0,d[9]=0,d[10]=1,d[11]=0,d[12]=0,d[13]=1,d[14]=0,d[15]=0,d[16]=1,d[17]=0,d[18]=0,d[19]=1,d[20]=0,d[21]=0,d[22]=1,d[23]=0,d[24]=0,d[25]=0,d[26]=1,d[27]=0,d[28]=0,d[29]=1,d[30]=0,d[31]=0,d[32]=1,d[33]=0,d[34]=0,d[35]=1,d[36]=0,d[37]=0,d[38]=1,d[39]=0,d[40]=0,d[41]=1,d[42]=0,d[43]=0,d[44]=1,d[45]=0,d[46]=0,d[47]=1,d[48]=0,d[49]=0,d[50]=1,d[51]=0,d[52]=0,d[53]=1,d[54]=0,d[55]=0,d[56]=1,d[57]=0,d[58]=0,d[59]=1,d[60]=0,d[61]=0,d[62]=1,d[63]=0,d[64]=0,d[65]=1,d[66]=0,d[67]=0,d[68]=1,d[69]=0,d[70]=0,d[71]=1,o.bitangent=new Ee({componentDatatype:Q.FLOAT,componentsPerAttribute:3,values:d})}r=new Uint16Array(6*2*3),r[0]=0,r[1]=1,r[2]=2,r[3]=0,r[4]=2,r[5]=3,r[6]=6,r[7]=5,r[8]=4,r[9]=7,r[10]=6,r[11]=4,r[12]=8,r[13]=9,r[14]=10,r[15]=8,r[16]=10,r[17]=11,r[18]=14,r[19]=13,r[20]=12,r[21]=15,r[22]=14,r[23]=12,r[24]=18,r[25]=17,r[26]=16,r[27]=19,r[28]=18,r[29]=16,r[30]=20,r[31]=21,r[32]=22,r[33]=20,r[34]=22,r[35]=23}else s=new Float64Array(8*3),s[0]=t.x,s[1]=t.y,s[2]=t.z,s[3]=n.x,s[4]=t.y,s[5]=t.z,s[6]=n.x,s[7]=n.y,s[8]=t.z,s[9]=t.x,s[10]=n.y,s[11]=t.z,s[12]=t.x,s[13]=t.y,s[14]=n.z,s[15]=n.x,s[16]=t.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=t.x,s[22]=n.y,s[23]=n.z,o.position=new Ee({componentDatatype:Q.DOUBLE,componentsPerAttribute:3,values:s}),r=new Uint16Array(6*2*3),r[0]=4,r[1]=5,r[2]=6,r[3]=4,r[4]=6,r[5]=7,r[6]=1,r[7]=0,r[8]=3,r[9]=1,r[10]=3,r[11]=2,r[12]=1,r[13]=6,r[14]=5,r[15]=1,r[16]=2,r[17]=6,r[18]=2,r[19]=3,r[20]=7,r[21]=2,r[22]=7,r[23]=6,r[24]=3,r[25]=0,r[26]=4,r[27]=3,r[28]=4,r[29]=7,r[30]=0,r[31]=1,r[32]=5,r[33]=0,r[34]=5,r[35]=4;let a=h.subtract(n,t,xEe),c=h.magnitude(a)*.5;if(l(e._offsetAttribute)){let d=s.length,u=e._offsetAttribute===cn.NONE?0:1,m=new Uint8Array(d/3).fill(u);o.applyOffset=new Ee({componentDatatype:Q.UNSIGNED_BYTE,componentsPerAttribute:1,values:m})}return new ut({attributes:o,indices:r,primitiveType:we.TRIANGLES,boundingSphere:new ce(h.ZERO,c),offsetAttribute:e._offsetAttribute})};var HY;ad.getUnitBox=function(){return l(HY)||(HY=ad.createGeometry(ad.fromDimensions({dimensions:new h(1,1,1),vertexFormat:Pe.POSITION_ONLY}))),HY};var Tl=ad;var fDt=T(S(),1);var _Ee=new h;function jh(e){e=g(e,g.EMPTY_OBJECT);let t=e.minimum,n=e.maximum;this._min=h.clone(t),this._max=h.clone(n),this._offsetAttribute=e.offsetAttribute,this._workerName=\"createBoxOutlineGeometry\"}jh.fromDimensions=function(e){e=g(e,g.EMPTY_OBJECT);let t=e.dimensions,n=h.multiplyByScalar(t,.5,new h);return new jh({minimum:h.negate(n,new h),maximum:n,offsetAttribute:e.offsetAttribute})};jh.fromAxisAlignedBoundingBox=function(e){return new jh({minimum:e.minimum,maximum:e.maximum})};jh.packedLength=2*h.packedLength+1;jh.pack=function(e,t,n){return n=g(n,0),h.pack(e._min,t,n),h.pack(e._max,t,n+h.packedLength),t[n+h.packedLength*2]=g(e._offsetAttribute,-1),t};var nte=new h,ite=new h,tte={minimum:nte,maximum:ite,offsetAttribute:void 0};jh.unpack=function(e,t,n){t=g(t,0);let i=h.unpack(e,t,nte),o=h.unpack(e,t+h.packedLength,ite),r=e[t+h.packedLength*2];return l(n)?(n._min=h.clone(i,n._min),n._max=h.clone(o,n._max),n._offsetAttribute=r===-1?void 0:r,n):(tte.offsetAttribute=r===-1?void 0:r,new jh(tte))};jh.createGeometry=function(e){let t=e._min,n=e._max;if(h.equals(t,n))return;let i=new hn,o=new Uint16Array(12*2),r=new Float64Array(8*3);r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=n.x,r[4]=t.y,r[5]=t.z,r[6]=n.x,r[7]=n.y,r[8]=t.z,r[9]=t.x,r[10]=n.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=n.z,r[15]=n.x,r[16]=t.y,r[17]=n.z,r[18]=n.x,r[19]=n.y,r[20]=n.z,r[21]=t.x,r[22]=n.y,r[23]=n.z,i.position=new Ee({componentDatatype:Q.DOUBLE,componentsPerAttribute:3,values:r}),o[0]=4,o[1]=5,o[2]=5,o[3]=6,o[4]=6,o[5]=7,o[6]=7,o[7]=4,o[8]=0,o[9]=1,o[10]=1,o[11]=2,o[12]=2,o[13]=3,o[14]=3,o[15]=0,o[16]=0,o[17]=4,o[18]=1,o[19]=5,o[20]=2,o[21]=6,o[22]=3,o[23]=7;let s=h.subtract(n,t,_Ee),a=h.magnitude(s)*.5;if(l(e._offsetAttribute)){let c=r.length,d=e._offsetAttribute===cn.NONE?0:1,u=new Uint8Array(c/3).fill(d);i.applyOffset=new Ee({componentDatatype:Q.UNSIGNED_BYTE,componentsPerAttribute:1,values:u})}return new ut({attributes:i,indices:o,primitiveType:we.LINES,boundingSphere:new ce(h.ZERO,a),offsetAttribute:e._offsetAttribute})};var Tm=jh;var _Dt=T(S(),1);function BS(e,t,n,i){e=g(e,1),t=g(t,1),n=g(n,1),i=g(i,1),this.value=new Uint8Array([O.floatToByte(e),O.floatToByte(t),O.floatToByte(n),O.floatToByte(i)])}Object.defineProperties(BS.prototype,{componentDatatype:{get:function(){return Q.UNSIGNED_BYTE}},componentsPerAttribute:{get:function(){return 4}},normalize:{get:function(){return!0}}});BS.fromColor=function(e){return new BS(e.red,e.green,e.blue,e.alpha)};BS.toValue=function(e,t){return l(t)?e.toBytes(t):new Uint8Array(e.toBytes())};BS.equals=function(e,t){return e===t||l(e)&&l(t)&&e.value[0]===t.value[0]&&e.value[1]===t.value[1]&&e.value[2]===t.value[2]&&e.value[3]===t.value[3]};var Ot=BS;var LDt=T(S(),1);function HG(e,t){e=g(e,0),t=g(t,Number.MAX_VALUE),this.value=new Float32Array([e,t])}Object.defineProperties(HG.prototype,{componentDatatype:{get:function(){return Q.FLOAT}},componentsPerAttribute:{get:function(){return 2}},normalize:{get:function(){return!1}}});HG.fromDistanceDisplayCondition=function(e){return new HG(e.near,e.far)};HG.toValue=function(e,t){return l(t)?(t[0]=e.near,t[1]=e.far,t):new Float32Array([e.near,e.far])};var kn=HG;var EDt=T(S(),1);function TEe(e){e=g(e,g.EMPTY_OBJECT),this.geometry=e.geometry,this.modelMatrix=M.clone(g(e.modelMatrix,M.IDENTITY)),this.id=e.id,this.pickPrimitive=e.pickPrimitive,this.attributes=g(e.attributes,{}),this.westHemisphereGeometry=void 0,this.eastHemisphereGeometry=void 0}var Vt=TEe;var NDt=T(S(),1);var wDt=T(S(),1);function Yo(e){e=g(e,g.EMPTY_OBJECT),this.start=l(e.start)?te.clone(e.start):new te,this.stop=l(e.stop)?te.clone(e.stop):new te,this.data=e.data,this.isStartIncluded=g(e.isStartIncluded,!0),this.isStopIncluded=g(e.isStopIncluded,!0)}Object.defineProperties(Yo.prototype,{isEmpty:{get:function(){let e=te.compare(this.stop,this.start);return e<0||e===0&&(!this.isStartIncluded||!this.isStopIncluded)}}});var YS={start:void 0,stop:void 0,isStartIncluded:void 0,isStopIncluded:void 0,data:void 0};Yo.fromIso8601=function(e,t){let n=e.iso8601.split(\"/\");if(n.length!==2)throw new fe(\"options.iso8601 is an invalid ISO 8601 interval.\");let i=te.fromIso8601(n[0]),o=te.fromIso8601(n[1]),r=g(e.isStartIncluded,!0),s=g(e.isStopIncluded,!0),a=e.data;return l(t)?(t.start=i,t.stop=o,t.isStartIncluded=r,t.isStopIncluded=s,t.data=a,t):(YS.start=i,YS.stop=o,YS.isStartIncluded=r,YS.isStopIncluded=s,YS.data=a,new Yo(YS))};Yo.toIso8601=function(e,t){return`${te.toIso8601(e.start,t)}/${te.toIso8601(e.stop,t)}`};Yo.clone=function(e,t){if(l(e))return l(t)?(t.start=e.start,t.stop=e.stop,t.isStartIncluded=e.isStartIncluded,t.isStopIncluded=e.isStopIncluded,t.data=e.data,t):new Yo(e)};Yo.equals=function(e,t,n){return e===t||l(e)&&l(t)&&(e.isEmpty&&t.isEmpty||e.isStartIncluded===t.isStartIncluded&&e.isStopIncluded===t.isStopIncluded&&te.equals(e.start,t.start)&&te.equals(e.stop,t.stop)&&(e.data===t.data||l(n)&&n(e.data,t.data)))};Yo.equalsEpsilon=function(e,t,n,i){return n=g(n,0),e===t||l(e)&&l(t)&&(e.isEmpty&&t.isEmpty||e.isStartIncluded===t.isStartIncluded&&e.isStopIncluded===t.isStopIncluded&&te.equalsEpsilon(e.start,t.start,n)&&te.equalsEpsilon(e.stop,t.stop,n)&&(e.data===t.data||l(i)&&i(e.data,t.data)))};Yo.intersect=function(e,t,n,i){if(!l(t))return Yo.clone(Yo.EMPTY,n);let o=e.start,r=e.stop,s=t.start,a=t.stop,c=te.greaterThanOrEquals(s,o)&&te.greaterThanOrEquals(r,s),d=!c&&te.lessThanOrEquals(s,o)&&te.lessThanOrEquals(o,a);if(!c&&!d)return Yo.clone(Yo.EMPTY,n);let u=e.isStartIncluded,m=e.isStopIncluded,p=t.isStartIncluded,b=t.isStopIncluded,f=te.lessThan(r,a);return l(n)||(n=new Yo),n.start=c?s:o,n.isStartIncluded=u&&p||!te.equals(s,o)&&(c&&p||d&&u),n.stop=f?r:a,n.isStopIncluded=f?m:m&&b||!te.equals(a,r)&&b,n.data=l(i)?i(e.data,t.data):e.data,n};Yo.contains=function(e,t){if(e.isEmpty)return!1;let n=te.compare(e.start,t);if(n===0)return e.isStartIncluded;let i=te.compare(t,e.stop);return i===0?e.isStopIncluded:n<0&&i<0};Yo.prototype.clone=function(e){return Yo.clone(this,e)};Yo.prototype.equals=function(e,t){return Yo.equals(this,e,t)};Yo.prototype.equalsEpsilon=function(e,t,n){return Yo.equalsEpsilon(this,e,t,n)};Yo.prototype.toString=function(){return Yo.toIso8601(this)};Yo.EMPTY=Object.freeze(new Yo({start:new te,stop:new te,isStartIncluded:!1,isStopIncluded:!1}));var Sn=Yo;var ote=Object.freeze(te.fromIso8601(\"0000-01-01T00:00:00Z\")),rte=Object.freeze(te.fromIso8601(\"9999-12-31T24:00:00Z\")),SEe=Object.freeze(new Sn({start:ote,stop:rte})),CEe={MINIMUM_VALUE:ote,MAXIMUM_VALUE:rte,MAXIMUM_INTERVAL:SEe},Be=CEe;var YDt=T(S(),1);function KG(e,t,n){e=g(e,0),t=g(t,0),n=g(n,0),this.value=new Float32Array([e,t,n])}Object.defineProperties(KG.prototype,{componentDatatype:{get:function(){return Q.FLOAT}},componentsPerAttribute:{get:function(){return 3}},normalize:{get:function(){return!1}}});KG.fromCartesian3=function(e){return new KG(e.x,e.y,e.z)};KG.toValue=function(e,t){return l(t)||(t=new Float32Array([e.x,e.y,e.z])),t[0]=e.x,t[1]=e.y,t[2]=e.z,t};var Ji=KG;var"
}