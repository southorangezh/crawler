{
  "metadata": {
    "source_file": "Cesium-1.116.0-fix-26\\Cesium.js",
    "chunk_index": 194,
    "total_chunks": 194,
    "chunk_size": 46577,
    "word_count": 546,
    "model_kwargs": {
      "model": "text-embedding-3-large",
      "dimensions": 3072,
      "encoding_format": "float"
    },
    "text_splitter": {
      "split_by": "word",
      "chunk_size": 800,
      "chunk_overlap": 200
    },
    "created_at": "2025-12-17T23:57:49.766Z"
  },
  "content": "9.5518351,10.423906 c 1.9348899,0 3.4999999,1.596401 3.4999999,3.531301 0,1.9349 -1.56511,3.5 -3.4999999,3.5 -1.9348899,0 -3.4999999,-1.5651 -3.4999999,-3.5 0,-1.9349 1.56511,-3.531301 3.4999999,-3.531301 z m 4.2187499,10.312601 c -0.206517,0.2356 -0.844218,0.9428 -1.03125,1.1562 l 0.8125,0 c 0.01392,-0.4081 0.107026,-0.7968 0.21875,-1.1562 z\";function bB(e,t,n){e=Xn(e);let i=new lM(t,n);i._exitVRPath=FSt,i._enterVRPath=wSt;let o=document.createElement(\"button\");o.type=\"button\",o.className=\"cesium-button cesium-vrButton\",o.setAttribute(\"data-bind\",'css: { \"cesium-button-disabled\" : _isOrthographic }, attr: { title: tooltip },click: command,enable: isVREnabled,cesiumSvgPath: { path: isVRMode ? _exitVRPath : _enterVRPath, width: 32, height: 32 }'),e.appendChild(o),Se.applyBindings(i,o),this._container=e,this._viewModel=i,this._element=o}Object.defineProperties(bB.prototype,{container:{get:function(){return this._container}},viewModel:{get:function(){return this._viewModel}}});bB.prototype.isDestroyed=function(){return!1};bB.prototype.destroy=function(){return this._viewModel.destroy(),Se.cleanNode(this._element),this._container.removeChild(this._element),me(this)};var dM=bB;var mVo=T(S(),1);var Ug=new ce;function dCe(e){let t=e.clock;t.currentTime=e.timeJulian,t.shouldAnimate=!1}function ASt(e){let t=e.getPropertyIds(),n=\"\";return t.forEach(function(i){let o=e.getProperty(i);l(o)&&(n+=`<tr><th>${i}</th><td>${o}</td></tr>`)}),n.length>0&&(n=`<table class=\"cesium-infoBox-defaultTable\"><tbody>${n}</tbody></table>`),n}function MSt(e){let t,n=[],i=e.getPropertyIds();for(t=0;t<i.length;t++){let r=i[t];/^name$/i.test(r)?n[0]=e.getProperty(r):/name/i.test(r)?n[1]=e.getProperty(r):/^title$/i.test(r)?n[2]=e.getProperty(r):/^(id|identifier)$/i.test(r)?n[3]=e.getProperty(r):/element/i.test(r)?n[4]=e.getProperty(r):/(id|identifier)$/i.test(r)&&(n[5]=e.getProperty(r))}let o=n.length;for(t=0;t<o;t++){let r=n[t];if(l(r)&&r!==\"\")return r}return\"Unnamed Feature\"}function cCe(e,t){let n=e.scene.pick(t.position);if(l(n)){let i=g(n.id,n.primitive.id);if(i instanceof zo)return i;if(n instanceof Fs)return new zo({name:MSt(n),description:ASt(n),feature:n})}if(l(e.scene.globe))return USt(e,t.position)}var NSt=new te;function uCe(e,t,n){if(l(n)){let i=n.clock;if(l(i)&&(i.getValue(t),l(e))){let o=i.startTime,r=i.stopTime;te.equals(o,r)&&(r=te.addSeconds(o,P.EPSILON2,NSt)),e.updateFromClock(),e.zoomTo(o,r)}}}var kSt=new h;function USt(e,t){let n=e.scene,i=n.camera.getPickRay(t),o=n.imageryLayers.pickImageryLayerFeatures(i,n);if(!l(o))return;let r=new zo({id:\"Loading...\",description:\"Loading feature information...\"});return o.then(function(s){if(e.selectedEntity!==r)return;if(!l(s)||s.length===0){e.selectedEntity=lCe();return}let a=s[0],c=new zo({id:a.name,description:a.description});if(l(a.position)){let d=e.scene.globe.ellipsoid.cartographicToCartesian(a.position,kSt);c.position=new kc(d)}e.selectedEntity=c},function(){e.selectedEntity===r&&(e.selectedEntity=lCe())}),r}function lCe(){return new zo({id:\"None\",description:\"No features found.\"})}function DSt(e,t){let n=e._geocoder,i=e._homeButton,o=e._sceneModePicker,r=e._projectionPicker,s=e._baseLayerPicker,a=e._animation,c=e._timeline,d=e._fullscreenButton,u=e._infoBox,m=e._selectionIndicator,p=t?\"hidden\":\"visible\";if(l(n)&&(n.container.style.visibility=p),l(i)&&(i.container.style.visibility=p),l(o)&&(o.container.style.visibility=p),l(r)&&(r.container.style.visibility=p),l(s)&&(s.container.style.visibility=p),l(a)&&(a.container.style.visibility=p),l(c)&&(c.container.style.visibility=p),l(d)&&d.viewModel.isFullscreenEnabled&&(d.container.style.visibility=p),l(u)&&(u.container.style.visibility=p),l(m)&&(m.container.style.visibility=p),e._container){let b=t||!l(d)?0:d.container.clientWidth;e._vrButton.container.style.right=`${b}px`,e.forceResize()}}function Wi(e,t){e=Xn(e),t=g(t,g.EMPTY_OBJECT);let n=(!l(t.globe)||t.globe!==!1)&&(!l(t.baseLayerPicker)||t.baseLayerPicker!==!1),i=this,o=document.createElement(\"div\");o.className=\"cesium-viewer\",e.appendChild(o);let r=document.createElement(\"div\");r.className=\"cesium-viewer-cesiumWidgetContainer\",o.appendChild(r);let s=document.createElement(\"div\");s.className=\"cesium-viewer-bottom\",o.appendChild(s);let a=g(t.scene3DOnly,!1),c,d,u=!1;l(t.clockViewModel)?(d=t.clockViewModel,c=d.clock):(c=new th,d=new CA(c),u=!0),l(t.shouldAnimate)&&(c.shouldAnimate=t.shouldAnimate);let m=new E9(r,{baseLayer:n||l(t.baseLayer)||l(t.imageryProvider)?!1:void 0,clock:c,skyBox:t.skyBox,skyAtmosphere:t.skyAtmosphere,sceneMode:t.sceneMode,mapProjection:t.mapProjection,globe:t.globe,orderIndependentTranslucency:t.orderIndependentTranslucency,contextOptions:t.contextOptions,useDefaultRenderLoop:t.useDefaultRenderLoop,targetFrameRate:t.targetFrameRate,showRenderLoopErrors:t.showRenderLoopErrors,useBrowserRecommendedResolution:t.useBrowserRecommendedResolution,creditContainer:l(t.creditContainer)?t.creditContainer:s,creditViewport:t.creditViewport,scene3DOnly:a,shadows:t.shadows,terrainShadows:t.terrainShadows,mapMode2D:t.mapMode2D,blurActiveElementOnCanvasFocus:t.blurActiveElementOnCanvasFocus,requestRenderMode:t.requestRenderMode,maximumRenderTimeChange:t.maximumRenderTimeChange,depthPlaneEllipsoidOffset:t.depthPlaneEllipsoidOffset,msaaSamples:t.msaaSamples}),p=t.dataSources,b=!1;l(p)||(p=new bP,b=!0);let f=m.scene,x=new ev({scene:f,dataSourceCollection:p}),_=new Xr;_.add(c.onTick,Wi.prototype._onTick,this),_.add(f.morphStart,Wi.prototype._clearTrackedObject,this);let C;if(!l(t.selectionIndicator)||t.selectionIndicator!==!1){let z=document.createElement(\"div\");z.className=\"cesium-viewer-selectionIndicatorContainer\",o.appendChild(z),C=new rM(z,f)}let V;if(!l(t.infoBox)||t.infoBox!==!1){let z=document.createElement(\"div\");z.className=\"cesium-viewer-infoBoxContainer\",o.appendChild(z),V=new KA(z);let ee=V.viewModel;_.add(ee.cameraClicked,Wi.prototype._onInfoBoxCameraClicked,this),_.add(ee.closeClicked,Wi.prototype._onInfoBoxClockClicked,this)}let L=document.createElement(\"div\");L.className=\"cesium-viewer-toolbar\",o.appendChild(L);let R;if(!l(t.geocoder)||t.geocoder!==!1){let z=document.createElement(\"div\");z.className=\"cesium-viewer-geocoderContainer\",L.appendChild(z);let ee;l(t.geocoder)&&typeof t.geocoder!=\"boolean\"&&(ee=Array.isArray(t.geocoder)?t.geocoder:[t.geocoder]),R=new BA({container:z,geocoderServices:ee,scene:f}),_.add(R.viewModel.search.beforeExecute,Wi.prototype._clearObjects,this)}let G;(!l(t.homeButton)||t.homeButton!==!1)&&(G=new OA(L,f),l(R)&&_.add(G.viewModel.command.afterExecute,function(){let z=R.viewModel;z.searchText=\"\",z.isSearchInProgress&&z.search()}),_.add(G.viewModel.command.beforeExecute,Wi.prototype._clearTrackedObject,this));let X;!a&&(!l(t.sceneModePicker)||t.sceneModePicker!==!1)&&(X=new nM(L,f));let v;t.projectionPicker&&(v=new eM(L,f));let W,F;if(n){let z=g(t.imageryProviderViewModels,wA()),ee=g(t.terrainProviderViewModels,FA());W=new vA(L,{globe:f.globe,imageryProviderViewModels:z,selectedImageryProviderViewModel:t.selectedImageryProviderViewModel,terrainProviderViewModels:ee,selectedTerrainProviderViewModel:t.selectedTerrainProviderViewModel}),F=L.getElementsByClassName(\"cesium-baseLayerPicker-dropDown\")[0]}l(t.baseLayer)&&t.baseLayer!==!1&&(n&&(W.viewModel.selectedImagery=void 0),f.imageryLayers.removeAll(),f.imageryLayers.add(t.baseLayer)),l(t.terrainProvider)&&(n&&(W.viewModel.selectedTerrain=void 0),f.terrainProvider=t.terrainProvider),l(t.terrain)&&(n&&(W.viewModel.selectedTerrain=void 0,f.globe.depthTestAgainstTerrain=!0),f.setTerrain(t.terrain));let A;if(!l(t.navigationHelpButton)||t.navigationHelpButton!==!1){let z=!0;try{if(l(window.localStorage)){let ee=window.localStorage.getItem(\"cesium-hasSeenNavHelp\");l(ee)&&ee?z=!1:window.localStorage.setItem(\"cesium-hasSeenNavHelp\",\"true\")}}catch{}A=new QA({container:L,instructionsInitiallyVisible:g(t.navigationInstructionsInitiallyVisible,z)})}let y;if(!l(t.animation)||t.animation!==!1){let z=document.createElement(\"div\");z.className=\"cesium-viewer-animationContainer\",o.appendChild(z),y=new RA(z,new GA(d))}let Z;if(!l(t.timeline)||t.timeline!==!1){let z=document.createElement(\"div\");z.className=\"cesium-viewer-timelineContainer\",o.appendChild(z),Z=new cM(z,c),Z.addEventListener(\"settime\",dCe,!1),Z.zoomTo(c.startTime,c.stopTime)}let E,I,w;(!l(t.fullscreenButton)||t.fullscreenButton!==!1)&&(w=document.createElement(\"div\"),w.className=\"cesium-viewer-fullscreenContainer\",o.appendChild(w),E=new UA(w,t.fullscreenElement),I=ba(E.viewModel,\"isFullscreenEnabled\",function(z){w.style.display=z?\"block\":\"none\",l(Z)&&(Z.container.style.right=`${w.clientWidth}px`,Z.resize())}));let k,B,U;if(t.vrButton){let z=document.createElement(\"div\");z.className=\"cesium-viewer-vrContainer\",o.appendChild(z),k=new dM(z,f,t.fullScreenElement),B=ba(k.viewModel,\"isVREnabled\",function(ee){z.style.display=ee?\"block\":\"none\",l(E)&&(z.style.right=`${w.clientWidth}px`),l(Z)&&(Z.container.style.right=`${z.clientWidth}px`,Z.resize())}),U=ba(k.viewModel,\"isVRMode\",function(ee){DSt(i,ee)})}this._baseLayerPickerDropDown=F,this._fullscreenSubscription=I,this._vrSubscription=B,this._vrModeSubscription=U,this._dataSourceChangedListeners={},this._automaticallyTrackDataSourceClocks=g(t.automaticallyTrackDataSourceClocks,!0),this._container=e,this._bottomContainer=s,this._element=o,this._cesiumWidget=m,this._selectionIndicator=C,this._infoBox=V,this._dataSourceCollection=p,this._destroyDataSourceCollection=b,this._dataSourceDisplay=x,this._clockViewModel=d,this._destroyClockViewModel=u,this._toolbar=L,this._homeButton=G,this._sceneModePicker=X,this._projectionPicker=v,this._baseLayerPicker=W,this._navigationHelpButton=A,this._animation=y,this._timeline=Z,this._fullscreenButton=E,this._vrButton=k,this._geocoder=R,this._eventHelper=_,this._lastWidth=0,this._lastHeight=0,this._allowDataSourcesToSuspendAnimation=!0,this._entityView=void 0,this._enableInfoOrSelection=l(V)||l(C),this._clockTrackedDataSource=void 0,this._trackedEntity=void 0,this._needTrackedEntityUpdate=!1,this._selectedEntity=void 0,this._zoomIsFlight=!1,this._zoomTarget=void 0,this._zoomPromise=void 0,this._zoomOptions=void 0,this._selectedEntityChanged=new ge,this._trackedEntityChanged=new ge,Se.track(this,[\"_trackedEntity\",\"_selectedEntity\",\"_clockTrackedDataSource\"]),_.add(p.dataSourceAdded,Wi.prototype._onDataSourceAdded,this),_.add(p.dataSourceRemoved,Wi.prototype._onDataSourceRemoved,this),_.add(f.postUpdate,Wi.prototype.resize,this),_.add(f.postRender,Wi.prototype._postRender,this);let Y=p.length;for(let z=0;z<Y;z++)this._dataSourceAdded(p,p.get(z));this._dataSourceAdded(void 0,x.defaultDataSource),_.add(p.dataSourceAdded,Wi.prototype._dataSourceAdded,this),_.add(p.dataSourceRemoved,Wi.prototype._dataSourceRemoved,this);function N(z){let ee=cCe(i,z);l(ee)?K.getValueOrUndefined(ee.position,i.clock.currentTime)?i.trackedEntity=ee:i.zoomTo(ee):l(i.trackedEntity)&&(i.trackedEntity=void 0)}function J(z){i.selectedEntity=cCe(i,z)}m.screenSpaceEventHandler.setInputAction(J,Tn.LEFT_CLICK),m.screenSpaceEventHandler.setInputAction(N,Tn.LEFT_DOUBLE_CLICK)}Object.defineProperties(Wi.prototype,{container:{get:function(){return this._container}},creditDisplay:{get:function(){return this._cesiumWidget.creditDisplay}},bottomContainer:{get:function(){return this._bottomContainer}},cesiumWidget:{get:function(){return this._cesiumWidget}},selectionIndicator:{get:function(){return this._selectionIndicator}},infoBox:{get:function(){return this._infoBox}},geocoder:{get:function(){return this._geocoder}},homeButton:{get:function(){return this._homeButton}},sceneModePicker:{get:function(){return this._sceneModePicker}},projectionPicker:{get:function(){return this._projectionPicker}},baseLayerPicker:{get:function(){return this._baseLayerPicker}},navigationHelpButton:{get:function(){return this._navigationHelpButton}},animation:{get:function(){return this._animation}},timeline:{get:function(){return this._timeline}},fullscreenButton:{get:function(){return this._fullscreenButton}},vrButton:{get:function(){return this._vrButton}},dataSourceDisplay:{get:function(){return this._dataSourceDisplay}},entities:{get:function(){return this._dataSourceDisplay.defaultDataSource.entities}},dataSources:{get:function(){return this._dataSourceCollection}},canvas:{get:function(){return this._cesiumWidget.canvas}},scene:{get:function(){return this._cesiumWidget.scene}},shadows:{get:function(){return this.scene.shadowMap.enabled},set:function(e){this.scene.shadowMap.enabled=e}},terrainShadows:{get:function(){return this.scene.globe.shadows},set:function(e){this.scene.globe.shadows=e}},shadowMap:{get:function(){return this.scene.shadowMap}},imageryLayers:{get:function(){return this.scene.imageryLayers}},terrainProvider:{get:function(){return this.scene.terrainProvider},set:function(e){this.scene.terrainProvider=e}},camera:{get:function(){return this.scene.camera}},postProcessStages:{get:function(){return this.scene.postProcessStages}},clock:{get:function(){return this._clockViewModel.clock}},clockViewModel:{get:function(){return this._clockViewModel}},screenSpaceEventHandler:{get:function(){return this._cesiumWidget.screenSpaceEventHandler}},targetFrameRate:{get:function(){return this._cesiumWidget.targetFrameRate},set:function(e){this._cesiumWidget.targetFrameRate=e}},useDefaultRenderLoop:{get:function(){return this._cesiumWidget.useDefaultRenderLoop},set:function(e){this._cesiumWidget.useDefaultRenderLoop=e}},resolutionScale:{get:function(){return this._cesiumWidget.resolutionScale},set:function(e){this._cesiumWidget.resolutionScale=e}},useBrowserRecommendedResolution:{get:function(){return this._cesiumWidget.useBrowserRecommendedResolution},set:function(e){this._cesiumWidget.useBrowserRecommendedResolution=e}},allowDataSourcesToSuspendAnimation:{get:function(){return this._allowDataSourcesToSuspendAnimation},set:function(e){this._allowDataSourcesToSuspendAnimation=e}},trackedEntity:{get:function(){return this._trackedEntity},set:function(e){if(this._trackedEntity!==e){this._trackedEntity=e,X6(this);let t=this.scene,n=t.mode;!l(e)||!l(e.position)?(this._needTrackedEntityUpdate=!1,(n===ie.COLUMBUS_VIEW||n===ie.SCENE2D)&&(t.screenSpaceCameraController.enableTranslate=!0),(n===ie.COLUMBUS_VIEW||n===ie.SCENE3D)&&(t.screenSpaceCameraController.enableTilt=!0),this._entityView=void 0,this.camera.lookAtTransform(M.IDENTITY)):this._needTrackedEntityUpdate=!0,this._trackedEntityChanged.raiseEvent(e),this.scene.requestRender()}}},selectedEntity:{get:function(){return this._selectedEntity},set:function(e){if(this._selectedEntity!==e){this._selectedEntity=e;let t=l(this._selectionIndicator)?this._selectionIndicator.viewModel:void 0;l(e)?l(t)&&t.animateAppear():l(t)&&t.animateDepart(),this._selectedEntityChanged.raiseEvent(e)}}},selectedEntityChanged:{get:function(){return this._selectedEntityChanged}},trackedEntityChanged:{get:function(){return this._trackedEntityChanged}},clockTrackedDataSource:{get:function(){return this._clockTrackedDataSource},set:function(e){this._clockTrackedDataSource!==e&&(this._clockTrackedDataSource=e,uCe(this._timeline,this.clock,e))}}});Wi.prototype.extend=function(e,t){e(this,t)};Wi.prototype.resize=function(){let e=this._cesiumWidget,t=this._container,n=t.clientWidth,i=t.clientHeight,o=l(this._animation),r=l(this._timeline);if(e.resize(),n===this._lastWidth&&i===this._lastHeight)return;let s=i-125,a=this._baseLayerPickerDropDown;if(l(a)&&(a.style.maxHeight=`${s}px`),l(this._geocoder)){let b=this._geocoder.searchSuggestionsContainer;b.style.maxHeight=`${s}px`}l(this._infoBox)&&(this._infoBox.viewModel.maxHeight=s);let c=this._timeline,d,u=0,m=0,p=0;if(o&&window.getComputedStyle(this._animation.container).visibility!==\"hidden\"){let b=this._lastWidth;d=this._animation.container,n>900?(u=169,b<=900&&(d.style.width=\"169px\",d.style.height=\"112px\",this._animation.resize())):n>=600?(u=136,(b<600||b>900)&&(d.style.width=\"136px\",d.style.height=\"90px\",this._animation.resize())):(u=106,(b>600||b===0)&&(d.style.width=\"106px\",d.style.height=\"70px\",this._animation.resize())),m=u+5}if(r&&window.getComputedStyle(this._timeline.container).visibility!==\"hidden\"){let b=this._fullscreenButton,f=this._vrButton,x=c.container,_=x.style;p=x.clientHeight+3,_.left=`${u}px`;let C=0;l(b)&&(C+=b.container.clientWidth),l(f)&&(C+=f.container.clientWidth),_.right=`${C}px`,c.resize()}this._bottomContainer.style.left=`${m}px`,this._bottomContainer.style.bottom=`${p}px`,this._lastWidth=n,this._lastHeight=i};Wi.prototype.forceResize=function(){this._lastWidth=0,this.resize()};Wi.prototype.render=function(){this._cesiumWidget.render()};Wi.prototype.isDestroyed=function(){return!1};Wi.prototype.destroy=function(){let e;l(this.screenSpaceEventHandler)&&!this.screenSpaceEventHandler.isDestroyed()&&(this.screenSpaceEventHandler.removeInputAction(Tn.LEFT_CLICK),this.screenSpaceEventHandler.removeInputAction(Tn.LEFT_DOUBLE_CLICK));let t=this.dataSources,n=t.length;for(e=0;e<n;e++)this._dataSourceRemoved(t,t.get(e));return this._dataSourceRemoved(void 0,this._dataSourceDisplay.defaultDataSource),this._container.removeChild(this._element),this._element.removeChild(this._toolbar),this._eventHelper.removeAll(),l(this._geocoder)&&(this._geocoder=this._geocoder.destroy()),l(this._homeButton)&&(this._homeButton=this._homeButton.destroy()),l(this._sceneModePicker)&&(this._sceneModePicker=this._sceneModePicker.destroy()),l(this._projectionPicker)&&(this._projectionPicker=this._projectionPicker.destroy()),l(this._baseLayerPicker)&&(this._baseLayerPicker=this._baseLayerPicker.destroy()),l(this._animation)&&(this._element.removeChild(this._animation.container),this._animation=this._animation.destroy()),l(this._timeline)&&(this._timeline.removeEventListener(\"settime\",dCe,!1),this._element.removeChild(this._timeline.container),this._timeline=this._timeline.destroy()),l(this._fullscreenButton)&&(this._fullscreenSubscription.dispose(),this._element.removeChild(this._fullscreenButton.container),this._fullscreenButton=this._fullscreenButton.destroy()),l(this._vrButton)&&(this._vrSubscription.dispose(),this._vrModeSubscription.dispose(),this._element.removeChild(this._vrButton.container),this._vrButton=this._vrButton.destroy()),l(this._infoBox)&&(this._element.removeChild(this._infoBox.container),this._infoBox=this._infoBox.destroy()),l(this._selectionIndicator)&&(this._element.removeChild(this._selectionIndicator.container),this._selectionIndicator=this._selectionIndicator.destroy()),this._destroyClockViewModel&&(this._clockViewModel=this._clockViewModel.destroy()),this._dataSourceDisplay=this._dataSourceDisplay.destroy(),this._cesiumWidget=this._cesiumWidget.destroy(),this._destroyDataSourceCollection&&(this._dataSourceCollection=this._dataSourceCollection.destroy()),me(this)};Wi.prototype._dataSourceAdded=function(e,t){t.entities.collectionChanged.addEventListener(Wi.prototype._onEntityCollectionChanged,this)};Wi.prototype._dataSourceRemoved=function(e,t){let n=t.entities;n.collectionChanged.removeEventListener(Wi.prototype._onEntityCollectionChanged,this),l(this.trackedEntity)&&n.getById(this.trackedEntity.id)===this.trackedEntity&&(this.trackedEntity=void 0),l(this.selectedEntity)&&n.getById(this.selectedEntity.id)===this.selectedEntity&&(this.selectedEntity=void 0)};Wi.prototype._onTick=function(e){let t=e.currentTime,n=this._dataSourceDisplay.update(t);this._allowDataSourcesToSuspendAnimation&&(this._clockViewModel.canAnimate=n);let i=this._entityView;if(l(i)){let u=this._trackedEntity;this._dataSourceDisplay.getBoundingSphere(u,!1,Ug)===ht.DONE&&i.update(t,Ug)}let o,r=!1,s=this.selectedEntity,a=l(s)&&this._enableInfoOrSelection;a&&s.isShowing&&s.isAvailable(t)&&(this._dataSourceDisplay.getBoundingSphere(s,!0,Ug)!==ht.FAILED?o=Ug.center:l(s.position)&&(o=s.position.getValue(t,o)),r=l(o));let c=l(this._selectionIndicator)?this._selectionIndicator.viewModel:void 0;l(c)&&(c.position=h.clone(o,c.position),c.showSelection=a&&r,c.update());let d=l(this._infoBox)?this._infoBox.viewModel:void 0;l(d)&&(d.showInfo=a,d.enableCamera=r,d.isCameraTracking=this.trackedEntity===this.selectedEntity,a?(d.titleText=g(s.name,s.id),d.description=K.getValueOrDefault(s.description,t,\"\")):(d.titleText=\"\",d.description=\"\"))};Wi.prototype._onEntityCollectionChanged=function(e,t,n){let i=n.length;for(let o=0;o<i;o++){let r=n[o];this.trackedEntity===r&&(this.trackedEntity=void 0),this.selectedEntity===r&&(this.selectedEntity=void 0)}};Wi.prototype._onInfoBoxCameraClicked=function(e){if(e.isCameraTracking&&this.trackedEntity===this.selectedEntity)this.trackedEntity=void 0;else{let n=this.selectedEntity.position;l(n)?this.trackedEntity=this.selectedEntity:this.zoomTo(this.selectedEntity)}};Wi.prototype._clearTrackedObject=function(){this.trackedEntity=void 0};Wi.prototype._onInfoBoxClockClicked=function(e){this.selectedEntity=void 0};Wi.prototype._clearObjects=function(){this.trackedEntity=void 0,this.selectedEntity=void 0};Wi.prototype._onDataSourceChanged=function(e){this.clockTrackedDataSource===e&&uCe(this.timeline,this.clock,e)};Wi.prototype._onDataSourceAdded=function(e,t){this._automaticallyTrackDataSourceClocks&&(this.clockTrackedDataSource=t);let n=t.entities.id,i=this._eventHelper.add(t.changedEvent,Wi.prototype._onDataSourceChanged,this);this._dataSourceChangedListeners[n]=i};Wi.prototype._onDataSourceRemoved=function(e,t){let n=this.clockTrackedDataSource===t,i=t.entities.id;if(this._dataSourceChangedListeners[i](),this._dataSourceChangedListeners[i]=void 0,n){let o=e.length;this._automaticallyTrackDataSourceClocks&&o>0?this.clockTrackedDataSource=e.get(o-1):this.clockTrackedDataSource=void 0}};Wi.prototype.zoomTo=function(e,t){return mCe(this,e,{offset:t},!1)};Wi.prototype.flyTo=function(e,t){return mCe(this,e,t,!0)};function mCe(e,t,n,i){X6(e);let o=new Promise(r=>{e._completeZoom=function(s){r(s)}});return e._zoomPromise=o,e._zoomIsFlight=i,e._zoomOptions=n,Promise.resolve(t).then(function(r){if(e._zoomPromise===o){if(r instanceof ha){let s;l(r.imageryProvider)?s=Promise.resolve(r.getImageryRectangle()):s=new Promise(a=>{let c=r.readyEvent.addEventListener(()=>{c(),a(r.getImageryRectangle())})}),s.then(function(a){return fS(a,e.scene)}).then(function(a){e._zoomPromise===o&&(e._zoomTarget=a)});return}if(r instanceof sa||r instanceof VL||r instanceof Zg){e._zoomTarget=r;return}if(r.isLoading&&l(r.loadingEvent)){let s=r.loadingEvent.addEventListener(function(){s(),e._zoomPromise===o&&(e._zoomTarget=r.entities.values.slice(0))});return}if(Array.isArray(r)){e._zoomTarget=r.slice(0);return}r=g(r.values,r),l(r.entities)&&(r=r.entities.values),Array.isArray(r)?e._zoomTarget=r.slice(0):e._zoomTarget=[r]}}),e.scene.requestRender(),o}function uM(e){e._zoomPromise=void 0,e._zoomTarget=void 0,e._zoomOptions=void 0}function X6(e){let t=e._zoomPromise;l(t)&&(uM(e),e._completeZoom(!1))}Wi.prototype._postRender=function(){BSt(this),YSt(this)};function BSt(e){let t=e._zoomTarget;if(!l(t)||e.scene.mode===ie.MORPHING)return;let n=e.scene,i=n.camera,o=g(e._zoomOptions,{}),r;function s(u){l(o.offset)||(o.offset=new Ou(0,-.5,u.radius)),r={offset:o.offset,duration:o.duration,maximumHeight:o.maximumHeight,complete:function(){e._completeZoom(!0)},cancel:function(){e._completeZoom(!1)}},e._zoomIsFlight?i.flyToBoundingSphere(t.boundingSphere,r):(i.viewBoundingSphere(u,o.offset),i.lookAtTransform(M.IDENTITY),e._completeZoom(!0)),uM(e)}if(t instanceof VL){if(l(t.boundingSphere)){s(t.boundingSphere);return}let u=t.frameChanged.addEventListener(function(m){s(m.boundingSphere),u()});return}if(t instanceof sa||t instanceof Zg){s(t.boundingSphere);return}if(t instanceof he){r={destination:n.mapProjection.ellipsoid.cartographicToCartesian(t),duration:o.duration,maximumHeight:o.maximumHeight,complete:function(){e._completeZoom(!0)},cancel:function(){e._completeZoom(!1)}},e._zoomIsFlight?i.flyTo(r):(i.setView(r),e._completeZoom(!0)),uM(e);return}let a=t,c=[];for(let u=0,m=a.length;u<m;u++){let p=e._dataSourceDisplay.getBoundingSphere(a[u],!1,Ug);if(p===ht.PENDING)return;p!==ht.FAILED&&c.push(ce.clone(Ug))}if(c.length===0){X6(e);return}e.trackedEntity=void 0;let d=ce.fromBoundingSpheres(c);e._zoomIsFlight?(uM(e),i.flyToBoundingSphere(d,{duration:o.duration,maximumHeight:o.maximumHeight,complete:function(){e._completeZoom(!0)},cancel:function(){e._completeZoom(!1)},offset:o.offset})):(i.viewBoundingSphere(d,o.offset),i.lookAtTransform(M.IDENTITY),uM(e),e._completeZoom(!0))}function YSt(e){if(!e._needTrackedEntityUpdate)return;let t=e._trackedEntity,n=e.clock.currentTime,i=K.getValueOrUndefined(t.position,n);if(!l(i))return;let o=e.scene,r=e._dataSourceDisplay.getBoundingSphere(t,!1,Ug);if(r===ht.PENDING)return;let s=o.mode;(s===ie.COLUMBUS_VIEW||s===ie.SCENE2D)&&(o.screenSpaceCameraController.enableTranslate=!1),(s===ie.COLUMBUS_VIEW||s===ie.SCENE3D)&&(o.screenSpaceCameraController.enableTilt=!1);let a=r!==ht.FAILED?Ug:void 0;e._entityView=new nv(t,o,o.mapProjection.ellipsoid),e._entityView.update(n,a),e._needTrackedEntityUpdate=!1}var I6=Wi;var pVo=T(S(),1);function OSt(e){let t=document.createElement(\"div\");t.className=\"cesium-viewer-cesium3DTilesInspectorContainer\",e.container.appendChild(t);let n=new WA(t,e.scene);Object.defineProperties(e,{cesium3DTilesInspector:{get:function(){return n}}})}var W6=OSt;var gVo=T(S(),1);function zSt(e){let t=document.createElement(\"div\");t.className=\"cesium-viewer-cesiumInspectorContainer\",e.container.appendChild(t);let n=new NA(t,e.scene);Object.defineProperties(e,{cesiumInspector:{get:function(){return n}}})}var P6=zSt;var SVo=T(S(),1);function HSt(e,t){t=g(t,g.EMPTY_OBJECT);let n=!0,i=g(t.flyToOnDrop,!0),o=new ge,r=g(t.clearOnDrop,!0),s=g(t.dropTarget,e.container),a=g(t.clampToGround,!0),c=t.proxy;s=Xn(s),Object.defineProperties(e,{dropTarget:{get:function(){return s},set:function(u){hCe(s,d),s=u,v6(s,d)}},dropEnabled:{get:function(){return n},set:function(u){u!==n&&(u?v6(s,d):hCe(s,d),n=u)}},dropError:{get:function(){return o}},clearOnDrop:{get:function(){return r},set:function(u){r=u}},flyToOnDrop:{get:function(){return i},set:function(u){i=u}},proxy:{get:function(){return c},set:function(u){c=u}},clampToGround:{get:function(){return a},set:function(u){a=u}}});function d(u){gS(u),r&&(e.entities.removeAll(),e.dataSources.removeAll());let m=u.dataTransfer.files,p=m.length;for(let b=0;b<p;b++){let f=m[b],x=new FileReader;x.onload=KSt(e,f,c,a),x.onerror=JSt(e,f),x.readAsText(f)}}v6(s,d),e.destroy=O9(e,e.destroy,function(){e.dropEnabled=!1}),e._handleDrop=d}function gS(e){e.stopPropagation(),e.preventDefault()}function hCe(e,t){let n=e;l(n)&&(n.removeEventListener(\"drop\",t,!1),n.removeEventListener(\"dragenter\",gS,!1),n.removeEventListener(\"dragover\",gS,!1),n.removeEventListener(\"dragexit\",gS,!1))}function v6(e,t){e.addEventListener(\"drop\",t,!1),e.addEventListener(\"dragenter\",gS,!1),e.addEventListener(\"dragover\",gS,!1),e.addEventListener(\"dragexit\",gS,!1)}function KSt(e,t,n,i){let o=e.scene;return function(r){let s=t.name;try{let a;if(/\\.czml$/i.test(s))a=pP.load(JSON.parse(r.target.result),{sourceUri:s});else if(/\\.geojson$/i.test(s)||/\\.json$/i.test(s)||/\\.topojson$/i.test(s))a=rv.load(JSON.parse(r.target.result),{sourceUri:s,clampToGround:i});else if(/\\.(kml|kmz)$/i.test(s))a=wv.load(t,{sourceUri:s,proxy:n,camera:o.camera,canvas:o.canvas,clampToGround:i,screenOverlayContainer:e.container});else if(/\\.gpx$/i.test(s))a=lv.load(t,{sourceUri:s,proxy:n});else{e.dropError.raiseEvent(e,s,`Unrecognized file: ${s}`);return}l(a)&&e.dataSources.add(a).then(function(c){e.flyToOnDrop&&e.flyTo(c)}).catch(function(c){e.dropError.raiseEvent(e,s,c)})}catch(a){e.dropError.raiseEvent(e,s,a)}}}function JSt(e,t){return function(n){e.dropError.raiseEvent(e,t.name,n.target.error)}}var w6=HSt;var GVo=T(S(),1);function QSt(e,t){t=g(t,g.EMPTY_OBJECT);let n=new qA({scene:e.scene,container:e.bottomContainer,lowFrameRateMessage:t.lowFrameRateMessage});Object.defineProperties(e,{performanceWatchdog:{get:function(){return n}}})}var F6=QSt;var BVo=T(S(),1);var kVo=T(S(),1);var PVo=T(S(),1);function fCe(e){let t=e.split(` `),n;for(n=0;n<t.length&&!t[n].match(/\\S/);n++);if(n===t.length)return\"\";let i=\"\",o=/^\\s*/,s=t[n].match(o)[0].length;for(let a=n;a<t.length;a++){let c=t[a];c.match(o)[0].length>=s&&(c=c.slice(s)),i+=`${c} `}return i}function dm(e){this._scene=e,this._voxelPrimitive=void 0,this._customShaderCompilationRemoveCallback=void 0,this._definedProperties=[],this._getPrimitiveFunctions=[],this._modelMatrixReady=!1;let t=this;function n(o){let{name:r,initialValue:s}=o;t._definedProperties.push(r);let a=o.setPrimitiveFunction;a===!0&&(a=function(u){t._voxelPrimitive[r]=u});let c=o.getPrimitiveFunction;c===!0&&(c=function(){t[r]=t._voxelPrimitive[r]}),l(c)&&t._getPrimitiveFunctions.push(c);let d=Se.observable();return Se.defineProperty(t,r,{get:function(){return d()},set:function(u){typeof s==\"number\"&&typeof u==\"string\"&&(u=Number(u),isNaN(u)&&(u=s)),typeof s==\"boolean\"&&typeof u==\"number\"&&(u=u===1),d(u),l(a)&&l(t._voxelPrimitive)&&(a(u),e.requestRender())}}),t[r]=s,d}function i(o,r){return function(s){let a=t._voxelPrimitive[o].clone();a[r]=s,t._voxelPrimitive[o]=a}}n({name:\"inspectorVisible\",initialValue:!0}),n({name:\"displayVisible\",initialValue:!1}),n({name:\"transformVisible\",initialValue:!1}),n({name:\"boundsVisible\",initialValue:!1}),n({name:\"clippingVisible\",initialValue:!1}),n({name:\"shaderVisible\",initialValue:!1}),n({name:\"shaderString\",initialValue:\"\",getPrimitiveFunction:function(){let o=t._voxelPrimitive.customShader.fragmentShaderText;t.shaderString=fCe(o)}}),n({name:\"shaderCompilationMessage\",initialValue:\"\"}),n({name:\"shaderCompilationSuccess\",initialValue:!0}),n({name:\"depthTest\",initialValue:!1,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),n({name:\"show\",initialValue:!0,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),n({name:\"disableUpdate\",initialValue:!1,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),n({name:\"debugDraw\",initialValue:!1,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),n({name:\"jitter\",initialValue:!0,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),n({name:\"nearestSampling\",initialValue:!0,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),n({name:\"screenSpaceError\",initialValue:4,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),n({name:\"stepSize\",initialValue:1,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),n({name:\"shapeIsBox\",getPrimitiveFunction:function(){let o=t._voxelPrimitive.shape;t.shapeIsBox=o===Ii.BOX}}),n({name:\"shapeIsEllipsoid\",getPrimitiveFunction:function(){let o=t._voxelPrimitive.shape;t.shapeIsEllipsoid=o===Ii.ELLIPSOID}}),n({name:\"shapeIsCylinder\",getPrimitiveFunction:function(){let o=t._voxelPrimitive.shape;t.shapeIsCylinder=o===Ii.CYLINDER}}),n({name:\"boundsBoxMaxX\",initialValue:0,setPrimitiveFunction:i(\"maxBounds\",\"x\"),getPrimitiveFunction:function(){t.boundsBoxMaxX=t._voxelPrimitive.maxBounds.x}}),n({name:\"boundsBoxMinX\",initialValue:0,setPrimitiveFunction:i(\"minBounds\",\"x\"),getPrimitiveFunction:function(){t.boundsBoxMinX=t._voxelPrimitive.minBounds.x}}),n({name:\"boundsBoxMaxY\",initialValue:0,setPrimitiveFunction:i(\"maxBounds\",\"y\"),getPrimitiveFunction:function(){t.boundsBoxMaxY=t._voxelPrimitive.maxBounds.y}}),n({name:\"boundsBoxMinY\",initialValue:0,setPrimitiveFunction:i(\"minBounds\",\"y\"),getPrimitiveFunction:function(){t.boundsBoxMinY=t._voxelPrimitive.minBounds.y}}),n({name:\"boundsBoxMaxZ\",initialValue:0,setPrimitiveFunction:i(\"maxBounds\",\"z\"),getPrimitiveFunction:function(){t.boundsBoxMaxZ=t._voxelPrimitive.maxBounds.z}}),n({name:\"boundsBoxMinZ\",initialValue:0,setPrimitiveFunction:i(\"minBounds\",\"z\"),getPrimitiveFunction:function(){t.boundsBoxMinZ=t._voxelPrimitive.minBounds.z}}),n({name:\"boundsEllipsoidMaxLongitude\",initialValue:0,setPrimitiveFunction:i(\"maxBounds\",\"x\"),getPrimitiveFunction:function(){t.boundsEllipsoidMaxLongitude=t._voxelPrimitive.maxBounds.x}}),n({name:\"boundsEllipsoidMinLongitude\",initialValue:0,setPrimitiveFunction:i(\"minBounds\",\"x\"),getPrimitiveFunction:function(){t.boundsEllipsoidMinLongitude=t._voxelPrimitive.minBounds.x}}),n({name:\"boundsEllipsoidMaxLatitude\",initialValue:0,setPrimitiveFunction:i(\"maxBounds\",\"y\"),getPrimitiveFunction:function(){t.boundsEllipsoidMaxLatitude=t._voxelPrimitive.maxBounds.y}}),n({name:\"boundsEllipsoidMinLatitude\",initialValue:0,setPrimitiveFunction:i(\"minBounds\",\"y\"),getPrimitiveFunction:function(){t.boundsEllipsoidMinLatitude=t._voxelPrimitive.minBounds.y}}),n({name:\"boundsEllipsoidMaxHeight\",initialValue:0,setPrimitiveFunction:i(\"maxBounds\",\"z\"),getPrimitiveFunction:function(){t.boundsEllipsoidMaxHeight=t._voxelPrimitive.maxBounds.z}}),n({name:\"boundsEllipsoidMinHeight\",initialValue:0,setPrimitiveFunction:i(\"minBounds\",\"z\"),getPrimitiveFunction:function(){t.boundsEllipsoidMinHeight=t._voxelPrimitive.minBounds.z}}),n({name:\"boundsCylinderMaxRadius\",initialValue:0,setPrimitiveFunction:i(\"maxBounds\",\"x\"),getPrimitiveFunction:function(){t.boundsCylinderMaxRadius=t._voxelPrimitive.maxBounds.x}}),n({name:\"boundsCylinderMinRadius\",initialValue:0,setPrimitiveFunction:i(\"minBounds\",\"x\"),getPrimitiveFunction:function(){t.boundsCylinderMinRadius=t._voxelPrimitive.minBounds.x}}),n({name:\"boundsCylinderMaxHeight\",initialValue:0,setPrimitiveFunction:i(\"maxBounds\",\"y\"),getPrimitiveFunction:function(){t.boundsCylinderMaxHeight=t._voxelPrimitive.maxBounds.y}}),n({name:\"boundsCylinderMinHeight\",initialValue:0,setPrimitiveFunction:i(\"minBounds\",\"y\"),getPrimitiveFunction:function(){t.boundsCylinderMinHeight=t._voxelPrimitive.minBounds.y}}),n({name:\"boundsCylinderMaxAngle\",initialValue:0,setPrimitiveFunction:i(\"maxBounds\",\"z\"),getPrimitiveFunction:function(){t.boundsCylinderMaxAngle=t._voxelPrimitive.maxBounds.z}}),n({name:\"boundsCylinderMinAngle\",initialValue:0,setPrimitiveFunction:i(\"minBounds\",\"z\"),getPrimitiveFunction:function(){t.boundsCylinderMinAngle=t._voxelPrimitive.minBounds.z}}),n({name:\"clippingBoxMaxX\",initialValue:0,setPrimitiveFunction:i(\"maxClippingBounds\",\"x\"),getPrimitiveFunction:function(){t.clippingBoxMaxX=t._voxelPrimitive.maxClippingBounds.x}}),n({name:\"clippingBoxMinX\",initialValue:0,setPrimitiveFunction:i(\"minClippingBounds\",\"x\"),getPrimitiveFunction:function(){t.clippingBoxMinX=t._voxelPrimitive.minClippingBounds.x}}),n({name:\"clippingBoxMaxY\",initialValue:0,setPrimitiveFunction:i(\"maxClippingBounds\",\"y\"),getPrimitiveFunction:function(){t.clippingBoxMaxY=t._voxelPrimitive.maxClippingBounds.y}}),n({name:\"clippingBoxMinY\",initialValue:0,setPrimitiveFunction:i(\"minClippingBounds\",\"y\"),getPrimitiveFunction:function(){t.clippingBoxMinY=t._voxelPrimitive.minClippingBounds.y}}),n({name:\"clippingBoxMaxZ\",initialValue:0,setPrimitiveFunction:i(\"maxClippingBounds\",\"z\"),getPrimitiveFunction:function(){t.clippingBoxMaxZ=t._voxelPrimitive.maxClippingBounds.z}}),n({name:\"clippingBoxMinZ\",initialValue:0,setPrimitiveFunction:i(\"minClippingBounds\",\"z\"),getPrimitiveFunction:function(){t.clippingBoxMinZ=t._voxelPrimitive.minClippingBounds.z}}),n({name:\"clippingEllipsoidMaxLongitude\",initialValue:0,setPrimitiveFunction:i(\"maxClippingBounds\",\"x\"),getPrimitiveFunction:function(){t.clippingEllipsoidMaxLongitude=t._voxelPrimitive.maxClippingBounds.x}}),n({name:\"clippingEllipsoidMinLongitude\",initialValue:0,setPrimitiveFunction:i(\"minClippingBounds\",\"x\"),getPrimitiveFunction:function(){t.clippingEllipsoidMinLongitude=t._voxelPrimitive.minClippingBounds.x}}),n({name:\"clippingEllipsoidMaxLatitude\",initialValue:0,setPrimitiveFunction:i(\"maxClippingBounds\",\"y\"),getPrimitiveFunction:function(){t.clippingEllipsoidMaxLatitude=t._voxelPrimitive.maxClippingBounds.y}}),n({name:\"clippingEllipsoidMinLatitude\",initialValue:0,setPrimitiveFunction:i(\"minClippingBounds\",\"y\"),getPrimitiveFunction:function(){t.clippingEllipsoidMinLatitude=t._voxelPrimitive.minClippingBounds.y}}),n({name:\"clippingEllipsoidMaxHeight\",initialValue:0,setPrimitiveFunction:i(\"maxClippingBounds\",\"z\"),getPrimitiveFunction:function(){t.clippingEllipsoidMaxHeight=t._voxelPrimitive.maxClippingBounds.z}}),n({name:\"clippingEllipsoidMinHeight\",initialValue:0,setPrimitiveFunction:i(\"minClippingBounds\",\"z\"),getPrimitiveFunction:function(){t.clippingEllipsoidMinHeight=t._voxelPrimitive.minClippingBounds.z}}),n({name:\"clippingCylinderMaxRadius\",initialValue:0,setPrimitiveFunction:i(\"maxClippingBounds\",\"x\"),getPrimitiveFunction:function(){t.clippingCylinderMaxRadius=t._voxelPrimitive.maxClippingBounds.x}}),n({name:\"clippingCylinderMinRadius\",initialValue:0,setPrimitiveFunction:i(\"minClippingBounds\",\"x\"),getPrimitiveFunction:function(){t.clippingCylinderMinRadius=t._voxelPrimitive.minClippingBounds.x}}),n({name:\"clippingCylinderMaxHeight\",initialValue:0,setPrimitiveFunction:i(\"maxClippingBounds\",\"y\"),getPrimitiveFunction:function(){t.clippingCylinderMaxHeight=t._voxelPrimitive.maxClippingBounds.y}}),n({name:\"clippingCylinderMinHeight\",initialValue:0,setPrimitiveFunction:i(\"minClippingBounds\",\"y\"),getPrimitiveFunction:function(){t.clippingCylinderMinHeight=t._voxelPrimitive.minClippingBounds.y}}),n({name:\"clippingCylinderMaxAngle\",initialValue:0,setPrimitiveFunction:i(\"maxClippingBounds\",\"z\"),getPrimitiveFunction:function(){t.clippingCylinderMaxAngle=t._voxelPrimitive.maxClippingBounds.z}}),n({name:\"clippingCylinderMinAngle\",initialValue:0,setPrimitiveFunction:i(\"minClippingBounds\",\"z\"),getPrimitiveFunction:function(){t.clippingCylinderMinAngle=t._voxelPrimitive.minClippingBounds.z}}),n({name:\"translationX\",initialValue:0,setPrimitiveFunction:function(){t._modelMatrixReady&&ip(t)},getPrimitiveFunction:function(){t.translationX=M.getTranslation(t._voxelPrimitive.modelMatrix,new h).x}}),n({name:\"translationY\",initialValue:0,setPrimitiveFunction:function(){t._modelMatrixReady&&ip(t)},getPrimitiveFunction:function(){t.translationY=M.getTranslation(t._voxelPrimitive.modelMatrix,new h).y}}),n({name:\"translationZ\",initialValue:0,setPrimitiveFunction:function(){t._modelMatrixReady&&ip(t)},getPrimitiveFunction:function(){t.translationZ=M.getTranslation(t._voxelPrimitive.modelMatrix,new h).z}}),n({name:\"scaleX\",initialValue:1,setPrimitiveFunction:function(){t._modelMatrixReady&&ip(t)},getPrimitiveFunction:function(){t.scaleX=M.getScale(t._voxelPrimitive.modelMatrix,new h).x}}),n({name:\"scaleY\",initialValue:1,setPrimitiveFunction:function(){t._modelMatrixReady&&ip(t)},getPrimitiveFunction:function(){t.scaleY=M.getScale(t._voxelPrimitive.modelMatrix,new h).y}}),n({name:\"scaleZ\",initialValue:1,setPrimitiveFunction:function(){t._modelMatrixReady&&ip(t)},getPrimitiveFunction:function(){t.scaleZ=M.getScale(t._voxelPrimitive.modelMatrix,new h).z}}),n({name:\"angleX\",initialValue:0,setPrimitiveFunction:function(){t._modelMatrixReady&&ip(t)}}),n({name:\"angleY\",initialValue:0,setPrimitiveFunction:function(){t._modelMatrixReady&&ip(t)}}),n({name:\"angleZ\",initialValue:0,setPrimitiveFunction:function(){t._modelMatrixReady&&ip(t)}})}var jSt=new h,qSt=new h,$St=new ja,eCt=new $;function ip(e){let t=h.fromElements(e.translationX,e.translationY,e.translationZ,jSt),n=h.fromElements(e.scaleX,e.scaleY,e.scaleZ,qSt),i=$St;i.heading=e.angleX,i.pitch=e.angleY,i.roll=e.angleZ;let o=$.fromHeadingPitchRoll(i,eCt),r=$.multiplyByScale(o,n,o);e._voxelPrimitive.modelMatrix=M.fromRotationTranslation(r,t,e._voxelPrimitive.modelMatrix)}Object.defineProperties(dm.prototype,{scene:{get:function(){return this._scene}},voxelPrimitive:{get:function(){return this._voxelPrimitive},set:function(e){if(l(this._customShaderCompilationRemoveCallback)&&this._customShaderCompilationRemoveCallback(),l(e)){this._voxelPrimitive=e;let t=this;t._customShaderCompilationRemoveCallback=t._voxelPrimitive.customShaderCompilationEvent.addEventListener(function(n){let i=t._voxelPrimitive.customShader.fragmentShaderText;t.shaderString=fCe(i),l(n)?(t.shaderCompilationMessage=n.message,t.shaderCompilationSuccess=!1):(t.shaderCompilationMessage=\"Shader compiled successfully!\",t.shaderCompilationSuccess=!0)}),t._modelMatrixReady=!1;for(let n=0;n<t._getPrimitiveFunctions.length;n++)t._getPrimitiveFunctions[n]();t._modelMatrixReady=!0,ip(t)}}}});dm.prototype.toggleInspector=function(){this.inspectorVisible=!this.inspectorVisible};dm.prototype.toggleDisplay=function(){this.displayVisible=!this.displayVisible};dm.prototype.toggleTransform=function(){this.transformVisible=!this.transformVisible};dm.prototype.toggleBounds=function(){this.boundsVisible=!this.boundsVisible};dm.prototype.toggleClipping=function(){this.clippingVisible=!this.clippingVisible};dm.prototype.toggleShader=function(){this.shaderVisible=!this.shaderVisible};dm.prototype.compileShader=function(){l(this._voxelPrimitive)&&(this._voxelPrimitive.customShader=new YT({fragmentShaderText:this.shaderString,uniforms:this._voxelPrimitive.customShader.uniforms}))};dm.prototype.shaderEditorKeyPress=function(e,t){if(t.keyCode===9){t.preventDefault();let n=t.target,i=n.selectionStart,o=n.selectionEnd,r=o,a=n.value.slice(i,o).split(` `),c=a.length,d;if(t.shiftKey)for(d=0;d<c;++d)a[d][0]===\" \"&&(a[d][1]===\" \"?(a[d]=a[d].substr(2),r-=2):(a[d]=a[d].substr(1),r-=1));else for(d=0;d<c;++d)a[d]=` ${a[d]}`,r+=2;let u=a.join(` `);n.value=n.value.slice(0,i)+u+n.value.slice(o),n.selectionStart=i!==o?i:r,n.selectionEnd=r}else t.ctrlKey&&(t.keyCode===10||t.keyCode===13)&&this.compileShader();return!0};dm.prototype.isDestroyed=function(){return!1};dm.prototype.destroy=function(){let e=this;return this._definedProperties.forEach(function(t){Se.getObservable(e,t).dispose()}),me(this)};var mM=dm;function yB(e,t){e=Xn(e);let n=document.createElement(\"div\"),i=new mM(t);this._viewModel=i,this._container=e,this._element=n;let o=document.createElement(\"div\");o.textContent=\"Voxel Inspector\",o.className=\"cesium-cesiumInspector-button\",o.setAttribute(\"data-bind\",\"click: toggleInspector\"),n.appendChild(o),n.className=\"cesium-cesiumInspector cesium-VoxelInspector\",n.setAttribute(\"data-bind\",'css: { \"cesium-cesiumInspector-visible\" : inspectorVisible, \"cesium-cesiumInspector-hidden\" : !inspectorVisible}'),e.appendChild(n);let r=document.createElement(\"div\");r.className=\"cesium-cesiumInspector-dropDown\",n.appendChild(r);let s=Ua.createSection,a=Ua.createCheckbox,c=Ua.createRangeInput,d=Ua.createButton,u=s(r,\"Display\",\"displayVisible\",\"toggleDisplay\"),m=s(r,\"Transform\",\"transformVisible\",\"toggleTransform\"),p=s(r,\"Bounds\",\"boundsVisible\",\"toggleBounds\"),b=s(r,\"Clipping\",\"clippingVisible\",\"toggleClipping\"),f=s(r,\"Shader\",\"shaderVisible\",\"toggleShader\");u.appendChild(a(\"Depth Test\",\"depthTest\")),u.appendChild(a(\"Show\",\"show\")),u.appendChild(a(\"Disable Update\",\"disableUpdate\")),u.appendChild(a(\"Debug Draw\",\"debugDraw\")),u.appendChild(a(\"Jitter\",\"jitter\")),u.appendChild(a(\"Nearest Sampling\",\"nearestSampling\")),u.appendChild(c(\"Screen Space Error\",\"screenSpaceError\",0,128)),u.appendChild(c(\"Step Size\",\"stepSize\",0,2));let x=10,_=10,C=P.PI;m.appendChild(c(\"Translation X\",\"translationX\",-x,+x)),m.appendChild(c(\"Translation Y\",\"translationY\",-x,+x)),m.appendChild(c(\"Translation Z\",\"translationZ\",-x,+x)),m.appendChild(c(\"Scale X\",\"scaleX\",0,+_)),m.appendChild(c(\"Scale Y\",\"scaleY\",0,+_)),m.appendChild(c(\"Scale Z\",\"scaleZ\",0,+_)),m.appendChild(c(\"Heading\",\"angleX\",-C,+C)),m.appendChild(c(\"Pitch\",\"angleY\",-C,+C)),m.appendChild(c(\"Roll\",\"angleZ\",-C,+C));let V=Ii.getMinBounds(Ii.BOX),L=Ii.getMaxBounds(Ii.BOX),R=h.fromElements(Ii.getMinBounds(Ii.ELLIPSOID).x,Ii.getMinBounds(Ii.ELLIPSOID).y,-oe.WGS84.maximumRadius,new h),G=h.fromElements(Ii.getMaxBounds(Ii.ELLIPSOID).x,Ii.getMaxBounds(Ii.ELLIPSOID).y,1e7,new h),X=Ii.getMinBounds(Ii.CYLINDER),v=Ii.getMaxBounds(Ii.CYLINDER);RL(\"Max X\",\"Min X\",\"Max Y\",\"Min Y\",\"Max Z\",\"Min Z\",\"boundsBoxMaxX\",\"boundsBoxMinX\",\"boundsBoxMaxY\",\"boundsBoxMinY\",\"boundsBoxMaxZ\",\"boundsBoxMinZ\",V,L,\"shapeIsBox\",p),RL(\"Max Longitude\",\"Min Longitude\",\"Max Latitude\",\"Min Latitude\",\"Max Height\",\"Min Height\",\"boundsEllipsoidMaxLongitude\",\"boundsEllipsoidMinLongitude\",\"boundsEllipsoidMaxLatitude\",\"boundsEllipsoidMinLatitude\",\"boundsEllipsoidMaxHeight\",\"boundsEllipsoidMinHeight\",R,G,\"shapeIsEllipsoid\",p),RL(\"Max Radius\",\"Min Radius\",\"Max Height\",\"Min Height\",\"Max Angle\",\"Min Angle\",\"boundsCylinderMaxRadius\",\"boundsCylinderMinRadius\",\"boundsCylinderMaxHeight\",\"boundsCylinderMinHeight\",\"boundsCylinderMaxAngle\",\"boundsCylinderMinAngle\",X,v,\"shapeIsCylinder\",p),RL(\"Max X\",\"Min X\",\"Max Y\",\"Min Y\",\"Max Z\",\"Min Z\",\"clippingBoxMaxX\",\"clippingBoxMinX\",\"clippingBoxMaxY\",\"clippingBoxMinY\",\"clippingBoxMaxZ\",\"clippingBoxMinZ\",V,L,\"shapeIsBox\",b),RL(\"Max Longitude\",\"Min Longitude\",\"Max Latitude\",\"Min Latitude\",\"Max Height\",\"Min Height\",\"clippingEllipsoidMaxLongitude\",\"clippingEllipsoidMinLongitude\",\"clippingEllipsoidMaxLatitude\",\"clippingEllipsoidMinLatitude\",\"clippingEllipsoidMaxHeight\",\"clippingEllipsoidMinHeight\",R,G,\"shapeIsEllipsoid\",b),RL(\"Max Radius\",\"Min Radius\",\"Max Height\",\"Min Height\",\"Max Angle\",\"Min Angle\",\"clippingCylinderMaxRadius\",\"clippingCylinderMinRadius\",\"clippingCylinderMaxHeight\",\"clippingCylinderMinHeight\",\"clippingCylinderMaxAngle\",\"clippingCylinderMinAngle\",X,v,\"shapeIsCylinder\",b);let W=document.createElement(\"div\");f.appendChild(W);let F=document.createElement(\"textarea\");F.setAttribute(\"data-bind\",\"textInput: shaderString, event: { keydown: shaderEditorKeyPress }\"),W.className=\"cesium-cesiumInspector-styleEditor\",W.appendChild(F);let A=d(\"Compile (Ctrl+Enter)\",\"compileShader\");W.appendChild(A);let y=document.createElement(\"label\");y.style.display=\"block\",y.setAttribute(\"data-bind\",\"text: shaderCompilationMessage, style: {color: shaderCompilationSuccess ? 'green' : 'red'}\"),W.appendChild(y),Se.applyBindings(i,n)}Object.defineProperties(yB.prototype,{container:{get:function(){return this._container}},viewModel:{get:function(){return this._viewModel}}});yB.prototype.isDestroyed=function(){return!1};yB.prototype.destroy=function(){return Se.cleanNode(this._element),this._container.removeChild(this._element),this.viewModel.destroy(),me(this)};function RL(e,t,n,i,o,r,s,a,c,d,u,m,p,b,f,x){let _=Ua.createRangeInput,C=p,V=b,L=x.appendChild(document.createElement(\"div\"));L.setAttribute(\"data-bind\",`if: ${f}`),L.appendChild(_(e,s,C.x,V.x)),L.appendChild(_(t,a,C.x,V.x)),L.appendChild(_(n,c,C.y,V.y)),L.appendChild(_(i,d,C.y,V.y)),L.appendChild(_(o,u,C.z,V.z)),L.appendChild(_(r,m,C.z,V.z))}var hM=yB;function tCt(e){let t=document.createElement(\"div\");t.className=\"cesium-viewer-voxelInspectorContainer\",e.container.appendChild(t);let n=new hM(t,e.scene);Object.defineProperties(e,{voxelInspector:{get:function(){return n}}})}var A6=tCt;globalThis.CESIUM_VERSION=\"1.116.0-fix-26\";var nCt=\"1.116.0-fix-26\";return ICe(iCt);})(); //# sourceMappingURL=Cesium.js.map"
}