{
  "metadata": {
    "source_file": "Cesium-1.116.0-fix-26\\Cesium.js",
    "chunk_index": 107,
    "total_chunks": 194,
    "chunk_size": 51865,
    "word_count": 800,
    "model_kwargs": {
      "model": "text-embedding-3-large",
      "dimensions": 3072,
      "encoding_format": "float"
    },
    "text_splitter": {
      "split_by": "word",
      "chunk_size": 800,
      "chunk_overlap": 200
    },
    "created_at": "2025-12-17T23:57:49.711Z"
  },
  "content": "t;l(this._labelCollection)&&this._labelCollection.length>0&&this._labelCollection.get(0)._glyphs.length===0&&(t=e.commandList,e.commandList=[],this._labelCollection.update(e),e.commandList=t),l(this._billboardCollection)&&this._billboardCollection.length>0&&!l(this._billboardCollection.get(0).width)&&(t=e.commandList,e.commandList=[],this._billboardCollection.update(e),e.commandList=t),this._enabledDirty&&(this._enabledDirty=!1,S4e(this),this._clusterDirty=!0),this._clusterDirty&&(this._clusterDirty=!1,this._cluster()),l(this._clusterLabelCollection)&&this._clusterLabelCollection.update(e),l(this._clusterBillboardCollection)&&this._clusterBillboardCollection.update(e),l(this._clusterPointCollection)&&this._clusterPointCollection.update(e),l(this._labelCollection)&&this._labelCollection.update(e),l(this._billboardCollection)&&this._billboardCollection.update(e),l(this._pointCollection)&&this._pointCollection.update(e)};eh.prototype.destroy=function(){this._labelCollection=this._labelCollection&&this._labelCollection.destroy(),this._billboardCollection=this._billboardCollection&&this._billboardCollection.destroy(),this._pointCollection=this._pointCollection&&this._pointCollection.destroy(),this._clusterLabelCollection=this._clusterLabelCollection&&this._clusterLabelCollection.destroy(),this._clusterBillboardCollection=this._clusterBillboardCollection&&this._clusterBillboardCollection.destroy(),this._clusterPointCollection=this._clusterPointCollection&&this._clusterPointCollection.destroy(),l(this._removeEventListener)&&(this._removeEventListener(),this._removeEventListener=void 0),this._labelCollection=void 0,this._billboardCollection=void 0,this._pointCollection=void 0,this._clusterBillboardCollection=void 0,this._clusterLabelCollection=void 0,this._clusterPointCollection=void 0,this._collectionIndicesByEntity=void 0,this._unusedLabelIndices=[],this._unusedBillboardIndices=[],this._unusedPointIndices=[],this._previousClusters=[],this._previousHeight=void 0,this._enabledDirty=!1,this._pixelRangeDirty=!1,this._minimumClusterSizeDirty=!1};var Sd=eh;function EK(e){this._name=e,this._clock=void 0,this._changed=new ge,this._error=new ge,this._isLoading=!1,this._loading=new ge,this._entityCollection=new Us(this),this._entityCluster=new Sd}Object.defineProperties(EK.prototype,{name:{get:function(){return this._name},set:function(e){this._name!==e&&(this._name=e,this._changed.raiseEvent(this))}},clock:{get:function(){return this._clock},set:function(e){this._clock!==e&&(this._clock=e,this._changed.raiseEvent(this))}},entities:{get:function(){return this._entityCollection}},isLoading:{get:function(){return this._isLoading},set:function(e){Pr.setLoading(this,e)}},changedEvent:{get:function(){return this._changed}},errorEvent:{get:function(){return this._error}},loadingEvent:{get:function(){return this._loading}},show:{get:function(){return this._entityCollection.show},set:function(e){this._entityCollection.show=e}},clustering:{get:function(){return this._entityCluster},set:function(e){this._entityCluster=e}}});EK.prototype.update=function(e){return!0};var nP=EK;var NOn=T(S(),1);var nOn=T(S(),1);var NYn=T(S(),1);var Kde={};Kde.computePositions=function(e,t,n,i,o){let r=e*.5,s=-r,a=i+i,c=o?2*a:a,d=new Float64Array(c*3),u,m=0,p=0,b=o?a*3:0,f=o?(a+i)*3:i*3;for(u=0;u<i;u++){let x=u/i*P.TWO_PI,_=Math.cos(x),C=Math.sin(x),V=_*n,L=C*n,R=_*t,G=C*t;d[p+b]=V,d[p+b+1]=L,d[p+b+2]=s,d[p+f]=R,d[p+f+1]=G,d[p+f+2]=r,p+=3,o&&(d[m++]=V,d[m++]=L,d[m++]=s,d[m++]=R,d[m++]=G,d[m++]=r)}return d};var A_=Kde;var XK=new D,C4e=new h,V4e=new h,L4e=new h,Z4e=new h;function R0(e){e=g(e,g.EMPTY_OBJECT);let t=e.length,n=e.topRadius,i=e.bottomRadius,o=g(e.vertexFormat,Pe.DEFAULT),r=g(e.slices,128);this._length=t,this._topRadius=n,this._bottomRadius=i,this._vertexFormat=Pe.clone(o),this._slices=r,this._offsetAttribute=e.offsetAttribute,this._workerName=\"createCylinderGeometry\"}R0.packedLength=Pe.packedLength+5;R0.pack=function(e,t,n){return n=g(n,0),Pe.pack(e._vertexFormat,t,n),n+=Pe.packedLength,t[n++]=e._length,t[n++]=e._topRadius,t[n++]=e._bottomRadius,t[n++]=e._slices,t[n]=g(e._offsetAttribute,-1),t};var Jde=new Pe,y1={vertexFormat:Jde,length:void 0,topRadius:void 0,bottomRadius:void 0,slices:void 0,offsetAttribute:void 0};R0.unpack=function(e,t,n){t=g(t,0);let i=Pe.unpack(e,t,Jde);t+=Pe.packedLength;let o=e[t++],r=e[t++],s=e[t++],a=e[t++],c=e[t];return l(n)?(n._vertexFormat=Pe.clone(i,n._vertexFormat),n._length=o,n._topRadius=r,n._bottomRadius=s,n._slices=a,n._offsetAttribute=c===-1?void 0:c,n):(y1.length=o,y1.topRadius=r,y1.bottomRadius=s,y1.slices=a,y1.offsetAttribute=c===-1?void 0:c,new R0(y1))};R0.createGeometry=function(e){let t=e._length,n=e._topRadius,i=e._bottomRadius,o=e._vertexFormat,r=e._slices;if(t<=0||n<0||i<0||n===0&&i===0)return;let s=r+r,a=r+s,c=s+s,d=A_.computePositions(t,n,i,r,!0),u=o.st?new Float32Array(c*2):void 0,m=o.normal?new Float32Array(c*3):void 0,p=o.tangent?new Float32Array(c*3):void 0,b=o.bitangent?new Float32Array(c*3):void 0,f,x=o.normal||o.tangent||o.bitangent;if(x){let v=o.tangent||o.bitangent,W=0,F=0,A=0,y=Math.atan2(i-n,t),Z=C4e;Z.z=Math.sin(y);let E=Math.cos(y),I=L4e,w=V4e;for(f=0;f<r;f++){let k=f/r*P.TWO_PI,B=E*Math.cos(k),U=E*Math.sin(k);x&&(Z.x=B,Z.y=U,v&&(I=h.normalize(h.cross(h.UNIT_Z,Z,I),I)),o.normal&&(m[W++]=Z.x,m[W++]=Z.y,m[W++]=Z.z,m[W++]=Z.x,m[W++]=Z.y,m[W++]=Z.z),o.tangent&&(p[F++]=I.x,p[F++]=I.y,p[F++]=I.z,p[F++]=I.x,p[F++]=I.y,p[F++]=I.z),o.bitangent&&(w=h.normalize(h.cross(Z,I,w),w),b[A++]=w.x,b[A++]=w.y,b[A++]=w.z,b[A++]=w.x,b[A++]=w.y,b[A++]=w.z))}for(f=0;f<r;f++)o.normal&&(m[W++]=0,m[W++]=0,m[W++]=-1),o.tangent&&(p[F++]=1,p[F++]=0,p[F++]=0),o.bitangent&&(b[A++]=0,b[A++]=-1,b[A++]=0);for(f=0;f<r;f++)o.normal&&(m[W++]=0,m[W++]=0,m[W++]=1),o.tangent&&(p[F++]=1,p[F++]=0,p[F++]=0),o.bitangent&&(b[A++]=0,b[A++]=1,b[A++]=0)}let _=12*r-12,C=Ae.createTypedArray(c,_),V=0,L=0;for(f=0;f<r-1;f++)C[V++]=L,C[V++]=L+2,C[V++]=L+3,C[V++]=L,C[V++]=L+3,C[V++]=L+1,L+=2;for(C[V++]=s-2,C[V++]=0,C[V++]=1,C[V++]=s-2,C[V++]=1,C[V++]=s-1,f=1;f<r-1;f++)C[V++]=s+f+1,C[V++]=s+f,C[V++]=s;for(f=1;f<r-1;f++)C[V++]=a,C[V++]=a+f,C[V++]=a+f+1;let R=0;if(o.st){let v=Math.max(n,i);for(f=0;f<c;f++){let W=h.fromArray(d,f*3,Z4e);u[R++]=(W.x+v)/(2*v),u[R++]=(W.y+v)/(2*v)}}let G=new hn;o.position&&(G.position=new Ee({componentDatatype:Q.DOUBLE,componentsPerAttribute:3,values:d})),o.normal&&(G.normal=new Ee({componentDatatype:Q.FLOAT,componentsPerAttribute:3,values:m})),o.tangent&&(G.tangent=new Ee({componentDatatype:Q.FLOAT,componentsPerAttribute:3,values:p})),o.bitangent&&(G.bitangent=new Ee({componentDatatype:Q.FLOAT,componentsPerAttribute:3,values:b})),o.st&&(G.st=new Ee({componentDatatype:Q.FLOAT,componentsPerAttribute:2,values:u})),XK.x=t*.5,XK.y=Math.max(i,n);let X=new ce(h.ZERO,D.magnitude(XK));if(l(e._offsetAttribute)){t=d.length;let v=e._offsetAttribute===cn.NONE?0:1,W=new Uint8Array(t/3).fill(v);G.applyOffset=new Ee({componentDatatype:Q.UNSIGNED_BYTE,componentsPerAttribute:1,values:W})}return new ut({attributes:G,indices:C,primitiveType:we.TRIANGLES,boundingSphere:X,offsetAttribute:e._offsetAttribute})};var IK;R0.getUnitCylinder=function(){return l(IK)||(IK=R0.createGeometry(new R0({topRadius:1,bottomRadius:1,length:1,vertexFormat:Pe.POSITION_ONLY}))),IK};var iP=R0;var yOn=T(S(),1);var WK=new D;function g1(e){e=g(e,g.EMPTY_OBJECT);let t=e.length,n=e.topRadius,i=e.bottomRadius,o=g(e.slices,128),r=Math.max(g(e.numberOfVerticalLines,16),0);this._length=t,this._topRadius=n,this._bottomRadius=i,this._slices=o,this._numberOfVerticalLines=r,this._offsetAttribute=e.offsetAttribute,this._workerName=\"createCylinderOutlineGeometry\"}g1.packedLength=6;g1.pack=function(e,t,n){return n=g(n,0),t[n++]=e._length,t[n++]=e._topRadius,t[n++]=e._bottomRadius,t[n++]=e._slices,t[n++]=e._numberOfVerticalLines,t[n]=g(e._offsetAttribute,-1),t};var M_={length:void 0,topRadius:void 0,bottomRadius:void 0,slices:void 0,numberOfVerticalLines:void 0,offsetAttribute:void 0};g1.unpack=function(e,t,n){t=g(t,0);let i=e[t++],o=e[t++],r=e[t++],s=e[t++],a=e[t++],c=e[t];return l(n)?(n._length=i,n._topRadius=o,n._bottomRadius=r,n._slices=s,n._numberOfVerticalLines=a,n._offsetAttribute=c===-1?void 0:c,n):(M_.length=i,M_.topRadius=o,M_.bottomRadius=r,M_.slices=s,M_.numberOfVerticalLines=a,M_.offsetAttribute=c===-1?void 0:c,new g1(M_))};g1.createGeometry=function(e){let t=e._length,n=e._topRadius,i=e._bottomRadius,o=e._slices,r=e._numberOfVerticalLines;if(t<=0||n<0||i<0||n===0&&i===0)return;let s=o*2,a=A_.computePositions(t,n,i,o,!1),c=o*2,d;if(r>0){let x=Math.min(r,o);d=Math.round(o/x),c+=x}let u=Ae.createTypedArray(s,c*2),m=0,p;for(p=0;p<o-1;p++)u[m++]=p,u[m++]=p+1,u[m++]=p+o,u[m++]=p+1+o;if(u[m++]=o-1,u[m++]=0,u[m++]=o+o-1,u[m++]=o,r>0)for(p=0;p<o;p+=d)u[m++]=p,u[m++]=p+o;let b=new hn;b.position=new Ee({componentDatatype:Q.DOUBLE,componentsPerAttribute:3,values:a}),WK.x=t*.5,WK.y=Math.max(i,n);let f=new ce(h.ZERO,D.magnitude(WK));if(l(e._offsetAttribute)){t=a.length;let x=e._offsetAttribute===cn.NONE?0:1,_=new Uint8Array(t/3).fill(x);b.applyOffset=new Ee({componentDatatype:Q.UNSIGNED_BYTE,componentsPerAttribute:1,values:_})}return new ut({attributes:b,indices:u,primitiveType:we.LINES,boundingSphere:f,offsetAttribute:e._offsetAttribute})};var oP=g1;var Qde=h.ZERO,jde=new h,R4e=new h,qde=new O;function G4e(e){this.id=e,this.vertexFormat=void 0,this.length=void 0,this.topRadius=void 0,this.bottomRadius=void 0,this.slices=void 0,this.numberOfVerticalLines=void 0,this.offsetAttribute=void 0}function Cd(e,t){ii.call(this,{entity:e,scene:t,geometryOptions:new G4e(e),geometryPropertyName:\"cylinder\",observedPropertyNames:[\"availability\",\"position\",\"orientation\",\"cylinder\"]}),this._onEntityPropertyChanged(e,\"cylinder\",e.cylinder,void 0)}l(Object.create)&&(Cd.prototype=Object.create(ii.prototype),Cd.prototype.constructor=Cd);Object.defineProperties(Cd.prototype,{terrainOffsetProperty:{get:function(){return this._terrainOffsetProperty}}});Cd.prototype.createFillGeometryInstance=function(e){let t=this._entity,n=t.isAvailable(e),i=new xn(n&&t.isShowing&&this._showProperty.getValue(e)&&this._fillProperty.getValue(e)),o=this._distanceDisplayConditionProperty.getValue(e),r=kn.fromDistanceDisplayCondition(o),s={show:i,distanceDisplayCondition:r,color:void 0,offset:void 0};if(this._materialProperty instanceof kt){let a;l(this._materialProperty.color)&&(this._materialProperty.color.isConstant||n)&&(a=this._materialProperty.color.getValue(e,qde)),l(a)||(a=O.WHITE),s.color=Ot.fromColor(a)}return l(this._options.offsetAttribute)&&(s.offset=Ji.fromCartesian3(K.getValueOrDefault(this._terrainOffsetProperty,e,Qde,jde))),new Vt({id:t,geometry:new iP(this._options),modelMatrix:t.computeModelMatrixForHeightReference(e,t.cylinder.heightReference,this._options.length*.5,this._scene.mapProjection.ellipsoid),attributes:s})};Cd.prototype.createOutlineGeometryInstance=function(e){let t=this._entity,n=t.isAvailable(e),i=K.getValueOrDefault(this._outlineColorProperty,e,O.BLACK,qde),o=this._distanceDisplayConditionProperty.getValue(e),r={show:new xn(n&&t.isShowing&&this._showProperty.getValue(e)&&this._showOutlineProperty.getValue(e)),color:Ot.fromColor(i),distanceDisplayCondition:kn.fromDistanceDisplayCondition(o),offset:void 0};return l(this._options.offsetAttribute)&&(r.offset=Ji.fromCartesian3(K.getValueOrDefault(this._terrainOffsetProperty,e,Qde,jde))),new Vt({id:t,geometry:new oP(this._options),modelMatrix:t.computeModelMatrixForHeightReference(e,t.cylinder.heightReference,this._options.length*.5,this._scene.mapProjection.ellipsoid),attributes:r})};Cd.prototype._computeCenter=function(e,t){return K.getValueOrUndefined(this._entity.position,e,t)};Cd.prototype._isHidden=function(e,t){return!l(e.position)||!l(t.length)||!l(t.topRadius)||!l(t.bottomRadius)||ii.prototype._isHidden.call(this,e,t)};Cd.prototype._isDynamic=function(e,t){return!e.position.isConstant||!K.isConstant(e.orientation)||!t.length.isConstant||!t.topRadius.isConstant||!t.bottomRadius.isConstant||!K.isConstant(t.slices)||!K.isConstant(t.outlineWidth)||!K.isConstant(t.numberOfVerticalLines)};Cd.prototype._setStaticOptions=function(e,t){let n=K.getValueOrDefault(t.heightReference,Be.MINIMUM_VALUE,Je.NONE),i=this._options;i.vertexFormat=this._materialProperty instanceof kt?ln.VERTEX_FORMAT:so.MaterialSupport.TEXTURED.vertexFormat,i.length=t.length.getValue(Be.MINIMUM_VALUE),i.topRadius=t.topRadius.getValue(Be.MINIMUM_VALUE),i.bottomRadius=t.bottomRadius.getValue(Be.MINIMUM_VALUE),i.slices=K.getValueOrUndefined(t.slices,Be.MINIMUM_VALUE),i.numberOfVerticalLines=K.getValueOrUndefined(t.numberOfVerticalLines,Be.MINIMUM_VALUE),i.offsetAttribute=n!==Je.NONE?cn.ALL:void 0};Cd.prototype._onEntityPropertyChanged=Wp;Cd.DynamicGeometryUpdater=x1;function x1(e,t,n){ni.call(this,e,t,n)}l(Object.create)&&(x1.prototype=Object.create(ni.prototype),x1.prototype.constructor=x1);x1.prototype._isHidden=function(e,t,n){let i=this._options,o=K.getValueOrUndefined(e.position,n,R4e);return!l(o)||!l(i.length)||!l(i.topRadius)||!l(i.bottomRadius)||ni.prototype._isHidden.call(this,e,t,n)};x1.prototype._setOptions=function(e,t,n){let i=K.getValueOrDefault(t.heightReference,n,Je.NONE),o=this._options;o.length=K.getValueOrUndefined(t.length,n),o.topRadius=K.getValueOrUndefined(t.topRadius,n),o.bottomRadius=K.getValueOrUndefined(t.bottomRadius,n),o.slices=K.getValueOrUndefined(t.slices,n),o.numberOfVerticalLines=K.getValueOrUndefined(t.numberOfVerticalLines,n),o.offsetAttribute=i!==Je.NONE?cn.ALL:void 0};var rP=Cd;var FQn=T(S(),1);var UOn=T(S(),1),E4e={UNBOUNDED:0,CLAMPED:1,LOOP_STOP:2},vr=Object.freeze(E4e);var BOn=T(S(),1),X4e={TICK_DEPENDENT:0,SYSTEM_CLOCK_MULTIPLIER:1,SYSTEM_CLOCK:2},mo=Object.freeze(X4e);var OOn=T(S(),1),I4e={NONE:0,HOLD:1,EXTRAPOLATE:2},Vd=Object.freeze(I4e);var HOn=T(S(),1),$de=T(td(),1);function W4e(e){let t=new $de.default(e);t.normalize();let n=t.path(),i=n.lastIndexOf(\"/\");return i!==-1&&(n=n.substr(i+1)),n}var G0=W4e;var qOn=T(S(),1);var P4e=P.factorial;function PK(e,t,n,i,o,r){let s=0,a,c,d;if(i>0){for(c=0;c<o;c++){for(a=!1,d=0;d<r.length&&!a;d++)c===r[d]&&(a=!0);a||(r.push(c),s+=PK(e,t,n,i-1,o,r),r.splice(r.length-1,1))}return s}for(s=1,c=0;c<o;c++){for(a=!1,d=0;d<r.length&&!a;d++)c===r[d]&&(a=!0);a||(s*=e-n[t[c]])}return s}var ok={type:\"Hermite\"};ok.getRequiredDataPoints=function(e,t){return t=g(t,0),Math.max(Math.floor((e+1)/(t+1)),2)};ok.interpolateOrderZero=function(e,t,n,i,o){l(o)||(o=new Array(i));let r,s,a,c,d,u,m=t.length,p=new Array(i);for(r=0;r<i;r++){o[r]=0;let _=new Array(m);for(p[r]=_,s=0;s<m;s++)_[s]=[]}let b=m,f=new Array(b);for(r=0;r<b;r++)f[r]=r;let x=m-1;for(c=0;c<i;c++){for(s=0;s<b;s++)u=f[s]*i+c,p[c][0].push(n[u]);for(r=1;r<b;r++){let _=!1;for(s=0;s<b-r;s++){let C=t[f[s]],V=t[f[s+r]],L;V-C<=0?(u=f[s]*i+i*r+c,L=n[u],p[c][r].push(L/P4e(r))):(L=p[c][r-1][s+1]-p[c][r-1][s],p[c][r].push(L/(V-C))),_=_||L!==0}_||(x=r-1)}}for(a=0,d=0;a<=d;a++)for(r=a;r<=x;r++){let _=PK(e,f,t,a,r,[]);for(c=0;c<i;c++){let C=p[c][r][0];o[c+a*i]+=C*_}}return o};var v4e=[];ok.interpolate=function(e,t,n,i,o,r,s){let a=i*(r+1);l(s)||(s=new Array(a));for(let C=0;C<a;C++)s[C]=0;let c=t.length,d=new Array(c*(o+1)),u;for(u=0;u<c;u++)for(let C=0;C<o+1;C++)d[u*(o+1)+C]=u;let m=d.length,p=v4e,b=w4e(p,d,t,n,i,o),f=[],x=m*(m+1)/2,_=Math.min(b,r);for(let C=0;C<=_;C++)for(u=C;u<=b;u++){f.length=0;let V=PK(e,d,t,C,u,f),L=Math.floor(u*(1-u)/2)+m*u;for(let R=0;R<i;R++){let G=Math.floor(R*x),X=p[G+L];s[R+C*i]+=X*V}}return s};function w4e(e,t,n,i,o,r){let s,a,c=-1,d=t.length,u=d*(d+1)/2;for(let m=0;m<o;m++){let p=Math.floor(m*u);for(s=0;s<d;s++)a=t[s]*o*(r+1)+m,e[p+s]=i[a];for(let b=1;b<d;b++){let f=0,x=Math.floor(b*(1-b)/2)+d*b,_=!1;for(s=0;s<d-b;s++){let C=n[t[s]],V=n[t[s+b]],L,R;if(V-C<=0)a=t[s]*o*(r+1)+o*b+m,L=i[a],R=L/P.factorial(b),e[p+x+f]=R,f++;else{let G=Math.floor((b-1)*(2-b)/2)+d*(b-1);L=e[p+G+s+1]-e[p+G+s],R=L/(V-C),e[p+x+f]=R,f++}_=_||L!==0}_&&(c=Math.max(c,b))}}return c}var sP=ok;var tzn=T(S(),1);var vK={type:\"Lagrange\"};vK.getRequiredDataPoints=function(e){return Math.max(e+1,2)};vK.interpolateOrderZero=function(e,t,n,i,o){l(o)||(o=new Array(i));let r,s,a=t.length;for(r=0;r<i;r++)o[r]=0;for(r=0;r<a;r++){let c=1;for(s=0;s<a;s++)if(s!==r){let d=t[r]-t[s];c*=(e-t[s])/d}for(s=0;s<i;s++)o[s]+=c*n[r*i+s]}return o};var aP=vK;var ozn=T(S(),1);var wK={type:\"Linear\"};wK.getRequiredDataPoints=function(e){return 2};wK.interpolateOrderZero=function(e,t,n,i,o){l(o)||(o=new Array(i));let r,s,a,c=t[0],d=t[1];for(r=0;r<i;r++)s=n[r],a=n[r+i],o[r]=((a-s)*e+d*s-c*a)/(d-c);return o};var N_=wK;var czn=T(S(),1);function fc(e,t,n){this.clock=g(e,0),this.cone=g(t,0),this.magnitude=g(n,1)}fc.fromCartesian3=function(e,t){let n=e.x,i=e.y,o=e.z,r=n*n+i*i;return l(t)||(t=new fc),t.clock=Math.atan2(i,n),t.cone=Math.atan2(Math.sqrt(r),o),t.magnitude=Math.sqrt(r+o*o),t};fc.clone=function(e,t){if(l(e))return l(t)?(t.clock=e.clock,t.cone=e.cone,t.magnitude=e.magnitude,t):new fc(e.clock,e.cone,e.magnitude)};fc.normalize=function(e,t){return l(t)?(t.clock=e.clock,t.cone=e.cone,t.magnitude=1,t):new fc(e.clock,e.cone,1)};fc.equals=function(e,t){return e===t||l(e)&&l(t)&&e.clock===t.clock&&e.cone===t.cone&&e.magnitude===t.magnitude};fc.equalsEpsilon=function(e,t,n){return n=g(n,0),e===t||l(e)&&l(t)&&Math.abs(e.clock-t.clock)<=n&&Math.abs(e.cone-t.cone)<=n&&Math.abs(e.magnitude-t.magnitude)<=n};fc.prototype.equals=function(e){return fc.equals(this,e)};fc.prototype.clone=function(e){return fc.clone(this,e)};fc.prototype.equalsEpsilon=function(e,t){return fc.equalsEpsilon(this,e,t)};fc.prototype.toString=function(){return`(${this.clock}, ${this.cone}, ${this.magnitude})`};var cP=fc;var hP=T(td(),1);var Rzn=T(S(),1);var xzn=T(S(),1);var dzn=T(S(),1),FK;typeof performance<\"u\"&&typeof performance.now==\"function\"&&isFinite(performance.now())?FK=function(){return performance.now()}:FK=function(){return Date.now()};var fi=FK;function AK(e){e=g(e,g.EMPTY_OBJECT);let t=e.currentTime,n=e.startTime,i=e.stopTime;l(t)?t=te.clone(t):l(n)?t=te.clone(n):l(i)?t=te.addDays(i,-1,new te):t=te.now(),l(n)?n=te.clone(n):n=te.clone(t),l(i)?i=te.clone(i):i=te.addDays(n,1,new te),this.startTime=n,this.stopTime=i,this.clockRange=g(e.clockRange,vr.UNBOUNDED),this.canAnimate=g(e.canAnimate,!0),this.onTick=new ge,this.onStop=new ge,this._currentTime=void 0,this._multiplier=void 0,this._clockStep=void 0,this._shouldAnimate=void 0,this._lastSystemTime=fi(),this.currentTime=t,this.multiplier=g(e.multiplier,1),this.shouldAnimate=g(e.shouldAnimate,!1),this.clockStep=g(e.clockStep,mo.SYSTEM_CLOCK_MULTIPLIER)}Object.defineProperties(AK.prototype,{currentTime:{get:function(){return this._currentTime},set:function(e){te.equals(this._currentTime,e)||(this._clockStep===mo.SYSTEM_CLOCK&&(this._clockStep=mo.SYSTEM_CLOCK_MULTIPLIER),this._currentTime=e)}},multiplier:{get:function(){return this._multiplier},set:function(e){this._multiplier!==e&&(this._clockStep===mo.SYSTEM_CLOCK&&(this._clockStep=mo.SYSTEM_CLOCK_MULTIPLIER),this._multiplier=e)}},clockStep:{get:function(){return this._clockStep},set:function(e){e===mo.SYSTEM_CLOCK&&(this._multiplier=1,this._shouldAnimate=!0,this._currentTime=te.now()),this._clockStep=e}},shouldAnimate:{get:function(){return this._shouldAnimate},set:function(e){this._shouldAnimate!==e&&(this._clockStep===mo.SYSTEM_CLOCK&&(this._clockStep=mo.SYSTEM_CLOCK_MULTIPLIER),this._shouldAnimate=e)}}});AK.prototype.tick=function(){let e=fi(),t=te.clone(this._currentTime);if(this.canAnimate&&this._shouldAnimate){let n=this._clockStep;if(n===mo.SYSTEM_CLOCK)t=te.now(t);else{let i=this._multiplier;if(n===mo.TICK_DEPENDENT)t=te.addSeconds(t,i,t);else{let a=e-this._lastSystemTime;t=te.addSeconds(t,i*(a/1e3),t)}let o=this.clockRange,r=this.startTime,s=this.stopTime;if(o===vr.CLAMPED)te.lessThan(t,r)?t=te.clone(r,t):te.greaterThan(t,s)&&(t=te.clone(s,t),this.onStop.raiseEvent(this));else if(o===vr.LOOP_STOP)for(te.lessThan(t,r)&&(t=te.clone(r,t));te.greaterThan(t,s);)t=te.addSeconds(r,te.secondsDifference(t,s),t),this.onStop.raiseEvent(this)}}return this._currentTime=t,this._lastSystemTime=e,this.onTick.raiseEvent(this),t};var th=AK;function k_(){this._definitionChanged=new ge,this._startTime=void 0,this._stopTime=void 0,this._currentTime=void 0,this._clockRange=void 0,this._clockStep=void 0,this._multiplier=void 0}Object.defineProperties(k_.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},startTime:Vl(\"startTime\"),stopTime:Vl(\"stopTime\"),currentTime:Vl(\"currentTime\"),clockRange:Vl(\"clockRange\"),clockStep:Vl(\"clockStep\"),multiplier:Vl(\"multiplier\")});k_.prototype.clone=function(e){return l(e)||(e=new k_),e.startTime=this.startTime,e.stopTime=this.stopTime,e.currentTime=this.currentTime,e.clockRange=this.clockRange,e.clockStep=this.clockStep,e.multiplier=this.multiplier,e};k_.prototype.equals=function(e){return this===e||l(e)&&te.equals(this.startTime,e.startTime)&&te.equals(this.stopTime,e.stopTime)&&te.equals(this.currentTime,e.currentTime)&&this.clockRange===e.clockRange&&this.clockStep===e.clockStep&&this.multiplier===e.multiplier};k_.prototype.merge=function(e){this.startTime=g(this.startTime,e.startTime),this.stopTime=g(this.stopTime,e.stopTime),this.currentTime=g(this.currentTime,e.currentTime),this.clockRange=g(this.clockRange,e.clockRange),this.clockStep=g(this.clockStep,e.clockStep),this.multiplier=g(this.multiplier,e.multiplier)};k_.prototype.getValue=function(e){return l(e)||(e=new th),e.startTime=g(this.startTime,e.startTime),e.stopTime=g(this.stopTime,e.stopTime),e.currentTime=g(this.currentTime,e.currentTime),e.clockRange=g(this.clockRange,e.clockRange),e.multiplier=g(this.multiplier,e.multiplier),e.clockStep=g(this.clockStep,e.clockStep),e};var nh=k_;var Fzn=T(S(),1);var F4e=O.WHITE,A4e=.1,M4e=new D(8,8),N4e=new D(0,0),k4e=new D(1,1);function _1(e){e=g(e,g.EMPTY_OBJECT),this._definitionChanged=new ge,this._color=void 0,this._colorSubscription=void 0,this._cellAlpha=void 0,this._cellAlphaSubscription=void 0,this._lineCount=void 0,this._lineCountSubscription=void 0,this._lineThickness=void 0,this._lineThicknessSubscription=void 0,this._lineOffset=void 0,this._lineOffsetSubscription=void 0,this.color=e.color,this.cellAlpha=e.cellAlpha,this.lineCount=e.lineCount,this.lineThickness=e.lineThickness,this.lineOffset=e.lineOffset}Object.defineProperties(_1.prototype,{isConstant:{get:function(){return K.isConstant(this._color)&&K.isConstant(this._cellAlpha)&&K.isConstant(this._lineCount)&&K.isConstant(this._lineThickness)&&K.isConstant(this._lineOffset)}},definitionChanged:{get:function(){return this._definitionChanged}},color:de(\"color\"),cellAlpha:de(\"cellAlpha\"),lineCount:de(\"lineCount\"),lineThickness:de(\"lineThickness\"),lineOffset:de(\"lineOffset\")});_1.prototype.getType=function(e){return\"Grid\"};_1.prototype.getValue=function(e,t){return l(t)||(t={}),t.color=K.getValueOrClonedDefault(this._color,e,F4e,t.color),t.cellAlpha=K.getValueOrDefault(this._cellAlpha,e,A4e),t.lineCount=K.getValueOrClonedDefault(this._lineCount,e,M4e,t.lineCount),t.lineThickness=K.getValueOrClonedDefault(this._lineThickness,e,k4e,t.lineThickness),t.lineOffset=K.getValueOrClonedDefault(this._lineOffset,e,N4e,t.lineOffset),t};_1.prototype.equals=function(e){return this===e||e instanceof _1&&K.equals(this._color,e._color)&&K.equals(this._cellAlpha,e._cellAlpha)&&K.equals(this._lineCount,e._lineCount)&&K.equals(this._lineThickness,e._lineThickness)&&K.equals(this._lineOffset,e._lineOffset)};var T1=_1;var Bzn=T(S(),1);function S1(e){this._definitionChanged=new ge,this._color=void 0,this._colorSubscription=void 0,this.color=e}Object.defineProperties(S1.prototype,{isConstant:{get:function(){return K.isConstant(this._color)}},definitionChanged:{get:function(){return this._definitionChanged}},color:de(\"color\")});S1.prototype.getType=function(e){return\"PolylineArrow\"};S1.prototype.getValue=function(e,t){return l(t)||(t={}),t.color=K.getValueOrClonedDefault(this._color,e,O.WHITE,t.color),t};S1.prototype.equals=function(e){return this===e||e instanceof S1&&K.equals(this._color,e._color)};var C1=S1;var jzn=T(S(),1);var U4e=O.WHITE,D4e=O.TRANSPARENT,B4e=16,Y4e=255;function V1(e){e=g(e,g.EMPTY_OBJECT),this._definitionChanged=new ge,this._color=void 0,this._colorSubscription=void 0,this._gapColor=void 0,this._gapColorSubscription=void 0,this._dashLength=void 0,this._dashLengthSubscription=void 0,this._dashPattern=void 0,this._dashPatternSubscription=void 0,this.color=e.color,this.gapColor=e.gapColor,this.dashLength=e.dashLength,this.dashPattern=e.dashPattern}Object.defineProperties(V1.prototype,{isConstant:{get:function(){return K.isConstant(this._color)&&K.isConstant(this._gapColor)&&K.isConstant(this._dashLength)&&K.isConstant(this._dashPattern)}},definitionChanged:{get:function(){return this._definitionChanged}},color:de(\"color\"),gapColor:de(\"gapColor\"),dashLength:de(\"dashLength\"),dashPattern:de(\"dashPattern\")});V1.prototype.getType=function(e){return\"PolylineDash\"};V1.prototype.getValue=function(e,t){return l(t)||(t={}),t.color=K.getValueOrClonedDefault(this._color,e,U4e,t.color),t.gapColor=K.getValueOrClonedDefault(this._gapColor,e,D4e,t.gapColor),t.dashLength=K.getValueOrDefault(this._dashLength,e,B4e,t.dashLength),t.dashPattern=K.getValueOrDefault(this._dashPattern,e,Y4e,t.dashPattern),t};V1.prototype.equals=function(e){return this===e||e instanceof V1&&K.equals(this._color,e._color)&&K.equals(this._gapColor,e._gapColor)&&K.equals(this._dashLength,e._dashLength)&&K.equals(this._dashPattern,e._dashPattern)};var L1=V1;var rHn=T(S(),1);var O4e=O.WHITE,z4e=.25,H4e=1;function Z1(e){e=g(e,g.EMPTY_OBJECT),this._definitionChanged=new ge,this._color=void 0,this._colorSubscription=void 0,this._glowPower=void 0,this._glowPowerSubscription=void 0,this._taperPower=void 0,this._taperPowerSubscription=void 0,this.color=e.color,this.glowPower=e.glowPower,this.taperPower=e.taperPower}Object.defineProperties(Z1.prototype,{isConstant:{get:function(){return K.isConstant(this._color)&&K.isConstant(this._glow)}},definitionChanged:{get:function(){return this._definitionChanged}},color:de(\"color\"),glowPower:de(\"glowPower\"),taperPower:de(\"taperPower\")});Z1.prototype.getType=function(e){return\"PolylineGlow\"};Z1.prototype.getValue=function(e,t){return l(t)||(t={}),t.color=K.getValueOrClonedDefault(this._color,e,O4e,t.color),t.glowPower=K.getValueOrDefault(this._glowPower,e,z4e,t.glowPower),t.taperPower=K.getValueOrDefault(this._taperPower,e,H4e,t.taperPower),t};Z1.prototype.equals=function(e){return this===e||e instanceof Z1&&K.equals(this._color,e._color)&&K.equals(this._glowPower,e._glowPower)&&K.equals(this._taperPower,e._taperPower)};var R1=Z1;var hHn=T(S(),1);var K4e=O.WHITE,J4e=O.BLACK,Q4e=1;function G1(e){e=g(e,g.EMPTY_OBJECT),this._definitionChanged=new ge,this._color=void 0,this._colorSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this.color=e.color,this.outlineColor=e.outlineColor,this.outlineWidth=e.outlineWidth}Object.defineProperties(G1.prototype,{isConstant:{get:function(){return K.isConstant(this._color)&&K.isConstant(this._outlineColor)&&K.isConstant(this._outlineWidth)}},definitionChanged:{get:function(){return this._definitionChanged}},color:de(\"color\"),outlineColor:de(\"outlineColor\"),outlineWidth:de(\"outlineWidth\")});G1.prototype.getType=function(e){return\"PolylineOutline\"};G1.prototype.getValue=function(e,t){return l(t)||(t={}),t.color=K.getValueOrClonedDefault(this._color,e,K4e,t.color),t.outlineColor=K.getValueOrClonedDefault(this._outlineColor,e,J4e,t.outlineColor),t.outlineWidth=K.getValueOrDefault(this._outlineWidth,e,Q4e),t};G1.prototype.equals=function(e){return this===e||e instanceof G1&&K.equals(this._color,e._color)&&K.equals(this._outlineColor,e._outlineColor)&&K.equals(this._outlineWidth,e._outlineWidth)};var Ay=G1;var THn=T(S(),1);function E0(e,t){this._value=void 0,this._definitionChanged=new ge,this._eventHelper=new Xr,this._referenceFrame=g(t,no.FIXED),this.setValue(e)}Object.defineProperties(E0.prototype,{isConstant:{get:function(){let e=this._value;if(!l(e))return!0;let t=e.length;for(let n=0;n<t;n++)if(!K.isConstant(e[n]))return!1;return!0}},definitionChanged:{get:function(){return this._definitionChanged}},referenceFrame:{get:function(){return this._referenceFrame}}});E0.prototype.getValue=function(e,t){return this.getValueInReferenceFrame(e,no.FIXED,t)};E0.prototype.getValueInReferenceFrame=function(e,t,n){let i=this._value;if(!l(i))return;let o=i.length;l(n)||(n=new Array(o));let r=0,s=0;for(;r<o;){let c=i[r].getValueInReferenceFrame(e,t,n[r]);l(c)&&(n[s]=c,s++),r++}return n.length=s,n};E0.prototype.setValue=function(e){let t=this._eventHelper;if(t.removeAll(),l(e)){this._value=e.slice();let n=e.length;for(let i=0;i<n;i++){let o=e[i];l(o)&&t.add(o.definitionChanged,E0.prototype._raiseDefinitionChanged,this)}}else this._value=void 0;this._definitionChanged.raiseEvent(this)};E0.prototype.equals=function(e){return this===e||e instanceof E0&&this._referenceFrame===e._referenceFrame&&K.arrayEquals(this._value,e._value)};E0.prototype._raiseDefinitionChanged=function(){this._definitionChanged.raiseEvent(this)};var X0=E0;var RHn=T(S(),1);function My(e){this._value=void 0,this._definitionChanged=new ge,this._eventHelper=new Xr,this.setValue(e)}Object.defineProperties(My.prototype,{isConstant:{get:function(){let e=this._value;if(!l(e))return!0;let t=e.length;for(let n=0;n<t;n++)if(!K.isConstant(e[n]))return!1;return!0}},definitionChanged:{get:function(){return this._definitionChanged}}});My.prototype.getValue=function(e,t){let n=this._value;if(!l(n))return;let i=n.length;l(t)||(t=new Array(i));let o=0,r=0;for(;o<i;){let a=this._value[o].getValue(e,t[o]);l(a)&&(t[r]=a,r++),o++}return t.length=r,t};My.prototype.setValue=function(e){let t=this._eventHelper;if(t.removeAll(),l(e)){this._value=e.slice();let n=e.length;for(let i=0;i<n;i++){let o=e[i];l(o)&&t.add(o.definitionChanged,My.prototype._raiseDefinitionChanged,this)}}else this._value=void 0;this._definitionChanged.raiseEvent(this)};My.prototype.equals=function(e){return this===e||e instanceof My&&K.arrayEquals(this._value,e._value)};My.prototype._raiseDefinitionChanged=function(){this._definitionChanged.raiseEvent(this)};var E1=My;var WHn=T(S(),1);function U_(e){let t=e._targetProperty;if(!l(t)){let n=e._targetEntity;if(!l(n)){if(n=e._targetCollection.getById(e._targetId),!l(n)){e._targetEntity=e._targetProperty=void 0;return}n.definitionChanged.addEventListener(Ld.prototype._onTargetEntityDefinitionChanged,e),e._targetEntity=n}let i=e._targetPropertyNames;t=e._targetEntity;for(let o=0,r=i.length;o<r&&l(t);++o)t=t[i[o]];e._targetProperty=t}return t}function Ld(e,t,n){this._targetCollection=e,this._targetId=t,this._targetPropertyNames=n,this._targetProperty=void 0,this._targetEntity=void 0,this._definitionChanged=new ge,e.collectionChanged.addEventListener(Ld.prototype._onCollectionChanged,this)}Object.defineProperties(Ld.prototype,{isConstant:{get:function(){return K.isConstant(U_(this))}},definitionChanged:{get:function(){return this._definitionChanged}},referenceFrame:{get:function(){let e=U_(this);return l(e)?e.referenceFrame:void 0}},targetId:{get:function(){return this._targetId}},targetCollection:{get:function(){return this._targetCollection}},targetPropertyNames:{get:function(){return this._targetPropertyNames}},resolvedProperty:{get:function(){return U_(this)}}});Ld.fromString=function(e,t){let n,i=[],o=!0,r=!1,s=\"\";for(let a=0;a<t.length;++a){let c=t.charAt(a);r?(s+=c,r=!1):c===\"\\\\\"?r=!0:o&&c===\"#\"?(n=s,o=!1,s=\"\"):!o&&c===\".\"?(i.push(s),s=\"\"):s+=c}return i.push(s),new Ld(e,n,i)};Ld.prototype.getValue=function(e,t){let n=U_(this);return l(n)?n.getValue(e,t):void 0};Ld.prototype.getValueInReferenceFrame=function(e,t,n){let i=U_(this);return l(i)?i.getValueInReferenceFrame(e,t,n):void 0};Ld.prototype.getType=function(e){let t=U_(this);return l(t)?t.getType(e):void 0};Ld.prototype.equals=function(e){if(this===e)return!0;let t=this._targetPropertyNames,n=e._targetPropertyNames;if(this._targetCollection!==e._targetCollection||this._targetId!==e._targetId||t.length!==n.length)return!1;let i=this._targetPropertyNames.length;for(let o=0;o<i;o++)if(t[o]!==n[o])return!1;return!0};Ld.prototype._onTargetEntityDefinitionChanged=function(e,t,n,i){l(this._targetProperty)&&this._targetPropertyNames[0]===t&&(this._targetProperty=void 0,this._definitionChanged.raiseEvent(this))};Ld.prototype._onCollectionChanged=function(e,t,n){let i=this._targetEntity;l(i)&&n.indexOf(i)!==-1?(i.definitionChanged.removeEventListener(Ld.prototype._onTargetEntityDefinitionChanged,this),this._targetEntity=this._targetProperty=void 0):l(i)||(i=U_(this),l(i)&&this._definitionChanged.raiseEvent(this))};var I0=Ld;var AHn=T(S(),1);var j4e={packedLength:1,pack:function(e,t,n){return n=g(n,0),t[n]=e,t},unpack:function(e,t,n){return t=g(t,0),e[t]},convertPackedArrayForInterpolation:function(e,t,n,i){l(i)||(i=[]),t=g(t,0),n=g(n,e.length);let o;for(let r=0,s=n-t+1;r<s;r++){let a=e[t+r];r===0||Math.abs(o-a)<Math.PI?i[r]=a:i[r]=a-P.TWO_PI,o=a}},unpackInterpolationResult:function(e,t,n,i,o){return o=e[0],o<0?o+P.TWO_PI:o}},Au=j4e;var nKn=T(S(),1);var zHn=T(S(),1);var eue={packedLength:1,pack:function(e,t,n){n=g(n,0),t[n]=e},unpack:function(e,t,n){return t=g(t,0),e[t]}};function tue(e,t,n){let i,o=e.length,r=n.length,s=o+r;if(e.length=s,o!==t){let a=o-1;for(i=s-1;i>=t;i--)e[i]=e[a--]}for(i=0;i<r;i++)e[t++]=n[i]}function nue(e,t){return e instanceof te?e:typeof e==\"string\"?te.fromIso8601(e):te.addSeconds(t,e,new te)}var MK=[],NK=[];function rk(e,t,n,i,o){let r=0,s,a,c,d,u,m;for(;r<i.length;){u=nue(i[r],e),c=Lo(t,u,te.compare);let p=0,b=0;if(c<0){for(c=~c,d=c*o,a=void 0,m=t[c];r<i.length&&(u=nue(i[r],e),!(l(a)&&te.compare(a,u)>=0||l(m)&&te.compare(u,m)>=0));){for(MK[p++]=u,r=r+1,s=0;s<o;s++)NK[b++]=i[r],r=r+1;a=u}p>0&&(NK.length=b,tue(n,d,NK),MK.length=p,tue(t,c,MK))}else{for(s=0;s<o;s++)r++,n[c*o+s]=i[r];r++}}}function ih(e,t){let n=e;n===Number&&(n=eue);let i=n.packedLength,o=g(n.packedInterpolationLength,i),r=0,s;if(l(t)){let a=t.length;s=new Array(a);for(let c=0;c<a;c++){let d=t[c];d===Number&&(d=eue);let u=d.packedLength;i+=u,o+=g(d.packedInterpolationLength,u),s[c]=d}r=a}this._type=e,this._innerType=n,this._interpolationDegree=1,this._interpolationAlgorithm=N_,this._numberOfPoints=0,this._times=[],this._values=[],this._xTable=[],this._yTable=[],this._packedLength=i,this._packedInterpolationLength=o,this._updateTableLength=!0,this._interpolationResult=new Array(o),this._definitionChanged=new ge,this._derivativeTypes=t,this._innerDerivativeTypes=s,this._inputOrder=r,this._forwardExtrapolationType=Vd.NONE,this._forwardExtrapolationDuration=0,this._backwardExtrapolationType=Vd.NONE,this._backwardExtrapolationDuration=0}Object.defineProperties(ih.prototype,{isConstant:{get:function(){return this._values.length===0}},definitionChanged:{get:function(){return this._definitionChanged}},type:{get:function(){return this._type}},derivativeTypes:{get:function(){return this._derivativeTypes}},interpolationDegree:{get:function(){return this._interpolationDegree}},interpolationAlgorithm:{get:function(){return this._interpolationAlgorithm}},forwardExtrapolationType:{get:function(){return this._forwardExtrapolationType},set:function(e){this._forwardExtrapolationType!==e&&(this._forwardExtrapolationType=e,this._definitionChanged.raiseEvent(this))}},forwardExtrapolationDuration:{get:function(){return this._forwardExtrapolationDuration},set:function(e){this._forwardExtrapolationDuration!==e&&(this._forwardExtrapolationDuration=e,this._definitionChanged.raiseEvent(this))}},backwardExtrapolationType:{get:function(){return this._backwardExtrapolationType},set:function(e){this._backwardExtrapolationType!==e&&(this._backwardExtrapolationType=e,this._definitionChanged.raiseEvent(this))}},backwardExtrapolationDuration:{get:function(){return this._backwardExtrapolationDuration},set:function(e){this._backwardExtrapolationDuration!==e&&(this._backwardExtrapolationDuration=e,this._definitionChanged.raiseEvent(this))}}});ih.prototype.getValue=function(e,t){let n=this._times,i=n.length;if(i===0)return;let o,r=this._innerType,s=this._values,a=Lo(n,e,te.compare);if(a<0){if(a=~a,a===0){let R=n[a];if(o=this._backwardExtrapolationDuration,this._backwardExtrapolationType===Vd.NONE||o!==0&&te.secondsDifference(R,e)>o)return;if(this._backwardExtrapolationType===Vd.HOLD)return r.unpack(s,0,t)}if(a>=i){a=i-1;let R=n[a];if(o=this._forwardExtrapolationDuration,this._forwardExtrapolationType===Vd.NONE||o!==0&&te.secondsDifference(e,R)>o)return;if(this._forwardExtrapolationType===Vd.HOLD)return a=i-1,r.unpack(s,a*r.packedLength,t)}let c=this._xTable,d=this._yTable,u=this._interpolationAlgorithm,m=this._packedInterpolationLength,p=this._inputOrder;if(this._updateTableLength){this._updateTableLength=!1;let R=Math.min(u.getRequiredDataPoints(this._interpolationDegree,p),i);R!==this._numberOfPoints&&(this._numberOfPoints=R,c.length=R,d.length=R*m)}let b=this._numberOfPoints-1;if(b<1)return;let f=0,x=i-1;if(x-f+1>=b+1){let R=a-(b/2|0)-1;R<f&&(R=f);let G=R+b;G>x&&(G=x,R=G-b,R<f&&(R=f)),f=R,x=G}let C=x-f+1;for(let R=0;R<C;++R)c[R]=te.secondsDifference(n[f+R],n[x]);if(l(r.convertPackedArrayForInterpolation))r.convertPackedArrayForInterpolation(s,f,x,d);else{let R=0,G=this._packedLength,X=f*G,v=(x+1)*G;for(;X<v;)d[R]=s[X],X++,R++}let V=te.secondsDifference(e,n[x]),L;if(p===0||!l(u.interpolate))L=u.interpolateOrderZero(V,c,d,m,this._interpolationResult);else{let R=Math.floor(m/(p+1));L=u.interpolate(V,c,d,R,p,p,this._interpolationResult)}return l(r.unpackInterpolationResult)?r.unpackInterpolationResult(L,s,f,x,t):r.unpack(L,0,t)}return r.unpack(s,a*this._packedLength,t)};ih.prototype.setInterpolationOptions=function(e){if(!l(e))return;let t=!1,n=e.interpolationAlgorithm,i=e.interpolationDegree;l(n)&&this._interpolationAlgorithm!==n&&(this._interpolationAlgorithm=n,t=!0),l(i)&&this._interpolationDegree!==i&&(this._interpolationDegree=i,t=!0),t&&(this._updateTableLength=!0,this._definitionChanged.raiseEvent(this))};ih.prototype.addSample=function(e,t,n){let i=this._innerDerivativeTypes,o=l(i),r=this._innerType,s=[];if(s.push(e),r.pack(t,s,s.length),o){let a=i.length;for(let c=0;c<a;c++)i[c].pack(n[c],s,s.length)}rk(void 0,this._times,this._values,s,this._packedLength),this._updateTableLength=!0,this._definitionChanged.raiseEvent(this)};ih.prototype.addSamples=function(e,t,n){let i=this._innerDerivativeTypes,o=l(i),r=this._innerType,s=e.length,a=[];for(let c=0;c<s;c++)if(a.push(e[c]),r.pack(t[c],a,a.length),o){let d=n[c],u=i.length;for(let m=0;m<u;m++)i[m].pack(d[m],a,a.length)}rk(void 0,this._times,this._values,a,this._packedLength),this._updateTableLength=!0,this._definitionChanged.raiseEvent(this)};ih.prototype.addSamplesPackedArray=function(e,t){rk(t,this._times,this._values,e,this._packedLength),this._updateTableLength=!0,this._definitionChanged.raiseEvent(this)};ih.prototype.removeSample=function(e){let t=Lo(this._times,e,te.compare);return t<0?!1:(iue(this,t,1),!0)};function iue(e,t,n){let i=e._packedLength;e._times.splice(t,n),e._values.splice(t*i,n*i),e._updateTableLength=!0,e._definitionChanged.raiseEvent(e)}ih.prototype.removeSamples=function(e){let t=this._times,n=Lo(t,e.start,te.compare);n<0?n=~n:e.isStartIncluded||++n;let i=Lo(t,e.stop,te.compare);i<0?i=~i:e.isStopIncluded&&++i,iue(this,n,i-n)};ih.prototype.equals=function(e){if(this===e)return!0;if(!l(e)||this._type!==e._type||this._interpolationDegree!==e._interpolationDegree||this._interpolationAlgorithm!==e._interpolationAlgorithm)return!1;let t=this._derivativeTypes,n=l(t),i=e._derivativeTypes,o=l(i);if(n!==o)return!1;let r,s;if(n){if(s=t.length,s!==i.length)return!1;for(r=0;r<s;r++)if(t[r]!==i[r])return!1}let a=this._times,c=e._times;if(s=a.length,s!==c.length)return!1;for(r=0;r<s;r++)if(!te.equals(a[r],c[r]))return!1;let d=this._values,u=e._values;for(s=d.length,r=0;r<s;r++)if(d[r]!==u[r])return!1;return!0};ih._mergeNewSamples=rk;var Zd=ih;function Mu(e,t){t=g(t,0);let n;if(t>0){n=new Array(t);for(let i=0;i<t;i++)n[i]=h}this._numberOfDerivatives=t,this._property=new Zd(h,n),this._definitionChanged=new ge,this._referenceFrame=g(e,no.FIXED),this._property._definitionChanged.addEventListener(function(){this._definitionChanged.raiseEvent(this)},this)}Object.defineProperties(Mu.prototype,{isConstant:{get:function(){return this._property.isConstant}},definitionChanged:{get:function(){return this._definitionChanged}},referenceFrame:{get:function(){return this._referenceFrame}},interpolationDegree:{get:function(){return this._property.interpolationDegree}},interpolationAlgorithm:{get:function(){return this._property.interpolationAlgorithm}},numberOfDerivatives:{get:function(){return this._numberOfDerivatives}},forwardExtrapolationType:{get:function(){return this._property.forwardExtrapolationType},set:function(e){this._property.forwardExtrapolationType=e}},forwardExtrapolationDuration:{get:function(){return this._property.forwardExtrapolationDuration},set:function(e){this._property.forwardExtrapolationDuration=e}},backwardExtrapolationType:{get:function(){return this._property.backwardExtrapolationType},set:function(e){this._property.backwardExtrapolationType=e}},backwardExtrapolationDuration:{get:function(){return this._property.backwardExtrapolationDuration},set:function(e){this._property.backwardExtrapolationDuration=e}}});Mu.prototype.getValue=function(e,t){return this.getValueInReferenceFrame(e,no.FIXED,t)};Mu.prototype.getValueInReferenceFrame=function(e,t,n){if(n=this._property.getValue(e,n),l(n))return Rp.convertToReferenceFrame(e,n,this._referenceFrame,t,n)};Mu.prototype.setInterpolationOptions=function(e){this._property.setInterpolationOptions(e)};Mu.prototype.addSample=function(e,t,n){let i=this._numberOfDerivatives;this._property.addSample(e,t,n)};Mu.prototype.addSamples=function(e,t,n){this._property.addSamples(e,t,n)};Mu.prototype.addSamplesPackedArray=function(e,t){this._property.addSamplesPackedArray(e,t)};Mu.prototype.removeSample=function(e){return this._property.removeSample(e)};Mu.prototype.removeSamples=function(e){this._property.removeSamples(e)};Mu.prototype.equals=function(e){return this===e||e instanceof Mu&&K.equals(this._property,e._property)&&this._referenceFrame===e._referenceFrame};var la=Mu;var hKn=T(S(),1);var oKn=T(S(),1),q4e={HORIZONTAL:0,VERTICAL:1},oh=Object.freeze(q4e);var $4e=oh.HORIZONTAL,eje=O.WHITE,tje=O.BLACK,nje=0,ije=1;function X1(e){e=g(e,g.EMPTY_OBJECT),this._definitionChanged=new ge,this._orientation=void 0,this._orientationSubscription=void 0,this._evenColor=void 0,this._evenColorSubscription=void 0,this._oddColor=void 0,this._oddColorSubscription=void 0,this._offset=void 0,this._offsetSubscription=void 0,this._repeat=void 0,this._repeatSubscription=void 0,this.orientation=e.orientation,this.evenColor=e.evenColor,this.oddColor=e.oddColor,this.offset=e.offset,this.repeat=e.repeat}Object.defineProperties(X1.prototype,{isConstant:{get:function(){return K.isConstant(this._orientation)&&K.isConstant(this._evenColor)&&K.isConstant(this._oddColor)&&K.isConstant(this._offset)&&K.isConstant(this._repeat)}},definitionChanged:{get:function(){return this._definitionChanged}},orientation:de(\"orientation\"),evenColor:de(\"evenColor\"),oddColor:de(\"oddColor\"),offset:de(\"offset\"),repeat:de(\"repeat\")});X1.prototype.getType=function(e){return\"Stripe\"};X1.prototype.getValue=function(e,t){return l(t)||(t={}),t.horizontal=K.getValueOrDefault(this._orientation,e,$4e)===oh.HORIZONTAL,t.evenColor=K.getValueOrClonedDefault(this._evenColor,e,eje,t.evenColor),t.oddColor=K.getValueOrClonedDefault(this._oddColor,e,tje,t.oddColor),t.offset=K.getValueOrDefault(this._offset,e,nje),t.repeat=K.getValueOrDefault(this._repeat,e,ije),t};X1.prototype.equals=function(e){return this===e||e instanceof X1&&K.equals(this._orientation,e._orientation)&&K.equals(this._evenColor,e._evenColor)&&K.equals(this._oddColor,e._oddColor)&&K.equals(this._offset,e._offset)&&K.equals(this._repeat,e._repeat)};var I1=X1;var SKn=T(S(),1);function Ny(e){this._definitionChanged=new ge,this._intervals=new Wr,this._intervals.changedEvent.addEventListener(Ny.prototype._intervalsChanged,this),this._referenceFrame=g(e,no.FIXED)}Object.defineProperties(Ny.prototype,{isConstant:{get:function(){return this._intervals.isEmpty}},definitionChanged:{get:function(){return this._definitionChanged}},intervals:{get:function(){return this._intervals}},referenceFrame:{get:function(){return this._referenceFrame}}});Ny.prototype.getValue=function(e,t){return this.getValueInReferenceFrame(e,no.FIXED,t)};Ny.prototype.getValueInReferenceFrame=function(e,t,n){let i=this._intervals.findDataForIntervalContainingDate(e);if(l(i))return Rp.convertToReferenceFrame(e,i,this._referenceFrame,t,n)};Ny.prototype.equals=function(e){return this===e||e instanceof Ny&&this._intervals.equals(e._intervals,K.equals)&&this._referenceFrame===e._referenceFrame};Ny.prototype._intervalsChanged=function(){this._definitionChanged.raiseEvent(this)};var W0=Ny;var GKn=T(S(),1);function D_(){this._definitionChanged=new ge,this._intervals=new Wr,this._intervals.changedEvent.addEventListener(D_.prototype._intervalsChanged,this)}Object.defineProperties(D_.prototype,{isConstant:{get:function(){return this._intervals.isEmpty}},definitionChanged:{get:function(){return this._definitionChanged}},intervals:{get:function(){return this._intervals}}});D_.prototype.getValue=function(e,t){let n=this._intervals.findDataForIntervalContainingDate(e);return l(n)&&typeof n.clone==\"function\"?n.clone(t):n};D_.prototype.equals=function(e){return this===e||e instanceof D_&&this._intervals.equals(e._intervals,K.equals)};D_.prototype._intervalsChanged=function(){this._definitionChanged.raiseEvent(this)};var P0=D_;var KKn=T(S(),1);var FKn=T(S(),1);function W1(e,t){this._position=void 0,this._subscription=void 0,this._definitionChanged=new ge,this._normalize=g(t,!0),this.position=e}Object.defineProperties(W1.prototype,{isConstant:{get:function(){return K.isConstant(this._position)}},definitionChanged:{get:function(){return this._definitionChanged}},position:{get:function(){return this._position},set:function(e){let t=this._position;t!==e&&(l(t)&&this._subscription(),this._position=e,l(e)&&(this._subscription=e._definitionChanged.addEventListener(function(){this._definitionChanged.raiseEvent(this)},this)),this._definitionChanged.raiseEvent(this))}},normalize:{get:function(){return this._normalize},set:function(e){this._normalize!==e&&(this._normalize=e,this._definitionChanged.raiseEvent(this))}}});var oje=new h,oue=new h,rue=new te,kK=1/60;W1.prototype.getValue=function(e,t){return this._getValue(e,t)};W1.prototype._getValue=function(e,t,n){l(t)||(t=new h);let i=this._position;if(K.isConstant(i))return this._normalize?void 0:h.clone(h.ZERO,t);let o=i.getValue(e,oje),r=i.getValue(te.addSeconds(e,kK,rue),oue);if(!l(o)||!l(r)&&(r=o,o=i.getValue(te.addSeconds(e,-kK,rue),oue),!l(o)))return;if(h.equals(o,r))return this._normalize?void 0:h.clone(h.ZERO,t);l(n)&&o.clone(n);let s=h.subtract(r,o,t);return this._normalize?h.normalize(s,t):h.divideByScalar(s,kK,t)};W1.prototype.equals=function(e){return this===e||e instanceof W1&&K.equals(this._position,e._position)};var B_=W1;function lP(e,t){this._velocityVectorProperty=new B_(e,!0),this._subscription=void 0,this._ellipsoid=void 0,this._definitionChanged=new ge,this.ellipsoid=g(t,oe.WGS84);let n=this;this._velocityVectorProperty.definitionChanged.addEventListener(function(){n._definitionChanged.raiseEvent(n)})}Object.defineProperties(lP.prototype,{isConstant:{get:function(){return K.isConstant(this._velocityVectorProperty)}},definitionChanged:{get:function(){return this._definitionChanged}},position:{get:function(){return this._velocityVectorProperty.position},set:function(e){this._velocityVectorProperty.position=e}},ellipsoid:{get:function(){return this._ellipsoid},set:function(e){this._ellipsoid!==e&&(this._ellipsoid=e,this._definitionChanged.raiseEvent(this))}}});var sue=new h,rje=new h,aue=new $;lP.prototype.getValue=function(e,t){let n=this._velocityVectorProperty._getValue(e,rje,sue);if(l(n))return Wt.rotationMatrixFromPositionVelocity(sue,n,this._ellipsoid,aue),Fe.fromRotationMatrix(aue,t)};lP.prototype.equals=function(e){return this===e||e instanceof lP&&K.equals(this._velocityVectorProperty,e._velocityVectorProperty)&&(this._ellipsoid===e._ellipsoid||this._ellipsoid.equals(e._ellipsoid))};var dP=lP;var jKn=T(S(),1);var v0={COMPLETE:0,BELOW_ELLIPSOID_HORIZON:1,ABOVE_ELLIPSOID_HORIZON:2};v0.validate=function(e){return e===v0.COMPLETE||e===v0.BELOW_ELLIPSOID_HORIZON||e===v0.ABOVE_ELLIPSOID_HORIZON};v0.toString=function(e){switch(e){case v0.COMPLETE:return\"COMPLETE\";case v0.BELOW_ELLIPSOID_HORIZON:return\"BELOW_ELLIPSOID_HORIZON\";case v0.ABOVE_ELLIPSOID_HORIZON:return\"ABOVE_ELLIPSOID_HORIZON\";default:throw new fe(\"SensorVolumePortionToDisplay value is not valid and cannot be converted to a String.\")}};var P1=v0;function ky(){}ky.packedLength=h.packedLength;ky.unpack=h.unpack;ky.pack=h.pack;var UK;function uP(e,t){return t[0]===\"#\"&&(t=UK+t),I0.fromString(e,t)}function cue(e,t,n){if(l(n.reference))return uP(t,n.reference);if(l(n.velocityReference)){let i=uP(t,n.velocityReference);switch(e){case h:case ky:return new B_(i,e===ky);case Fe:return new dP(i)}}throw new ue(`${JSON.stringify(n)} is not valid CZML.`)}function sje(e,t){return new Em(function(n,i){return t(e.getValue(n,i))},e.isConstant)}var Mi=new h,jc=new cP,pc=new he,Y_=new Sn,sk=new Fe;function aje(e){let t=e.rgbaf;if(l(t))return t;let n=e.rgba;if(!l(n))return;let i=n.length;if(i===O.packedLength)return[O.byteToFloat(n[0]),O.byteToFloat(n[1]),O.byteToFloat(n[2]),O.byteToFloat(n[3])];t=new Array(i);for(let o=0;o<i;o+=5)t[o]=n[o],t[o+1]=O.byteToFloat(n[o+1]),t[o+2]=O.byteToFloat(n[o+2]),t[o+3]=O.byteToFloat(n[o+3]),t[o+4]=O.byteToFloat(n[o+4]);return t}function lue(e,t){let n=g(e.uri,e);return l(t)?t.getDerivedResource({url:n}):Xe.createIfNeeded(n)}function cje(e){let t=e.wsen;if(l(t))return t;let n=e.wsenDegrees;if(!l(n))return;let i=n.length;if(i===le.packedLength)return[P.toRadians(n[0]),P.toRadians(n[1]),P.toRadians(n[2]),P.toRadians(n[3])];t=new Array(i);for(let o=0;o<i;o+=5)t[o]=n[o],t[o+1]=P.toRadians(n[o+1]),t[o+2]=P.toRadians(n[o+2]),t[o+3]=P.toRadians(n[o+3]),t[o+4]=P.toRadians(n[o+4]);return t}function lje(e){let t=e.length;if(jc.magnitude=1,t===2)return jc.clock=e[0],jc.cone=e[1],h.fromSpherical(jc,Mi),[Mi.x,Mi.y,Mi.z];let n=new Array(t/3*4);for(let i=0,o=0;i<t;i+=3,o+=4)n[o]=e[i],jc.clock=e[i+1],jc.cone=e[i+2],h.fromSpherical(jc,Mi),n[o+1]=Mi.x,n[o+2]=Mi.y,n[o+3]=Mi.z;return n}function dje(e){let t=e.length;if(t===3)return jc.clock=e[0],jc.cone=e[1],jc.magnitude=e[2],h.fromSpherical(jc,Mi),[Mi.x,Mi.y,Mi.z];let n=new Array(t);for(let i=0;i<t;i+=4)n[i]=e[i],jc.clock=e[i+1],jc.cone=e[i+2],jc.magnitude=e[i+3],h.fromSpherical(jc,Mi),n[i+1]=Mi.x,n[i+2]=Mi.y,n[i+3]=Mi.z;return n}function uje(e){let t=e.length;if(t===3)return pc.longitude=e[0],pc.latitude=e[1],pc.height=e[2],oe.WGS84.cartographicToCartesian(pc,Mi),[Mi.x,Mi.y,Mi.z];let n=new Array(t);for(let i=0;i<t;i+=4)n[i]=e[i],pc.longitude=e[i+1],pc.latitude=e[i+2],pc.height=e[i+3],oe.WGS84.cartographicToCartesian(pc,Mi),n[i+1]=Mi.x,n[i+2]=Mi.y,n[i+3]=Mi.z;return n}function mje(e){let t=e.length;if(t===3)return pc.longitude=P.toRadians(e[0]),pc.latitude=P.toRadians(e[1]),pc.height=e[2],oe.WGS84.cartographicToCartesian(pc,Mi),[Mi.x,Mi.y,Mi.z];let n=new Array(t);for(let i=0;i<t;i+=4)n[i]=e[i],pc.longitude=P.toRadians(e[i+1]),pc.latitude=P.toRadians(e[i+2]),pc.height=e[i+3],oe.WGS84.cartographicToCartesian(pc,Mi),n[i+1]=Mi.x,n[i+2]=Mi.y,n[i+3]=Mi.z;return n}function DK(e){let t=e.cartesian;if(l(t))return t;let n=e.cartesianVelocity;if(l(n))return n;let i=e.unitCartesian;if(l(i))return i;let"
}