{
  "metadata": {
    "source_file": "Cesium-1.116.0-fix-26\\Cesium.js",
    "chunk_index": 13,
    "total_chunks": 194,
    "chunk_size": 46096,
    "word_count": 800,
    "model_kwargs": {
      "model": "text-embedding-3-large",
      "dimensions": 3072,
      "encoding_format": "float"
    },
    "text_splitter": {
      "split_by": "word",
      "chunk_size": 800,
      "chunk_overlap": 200
    },
    "created_at": "2025-12-17T23:57:49.654Z"
  },
  "content": "rY.default(Dh(this._url)),a=o.absoluteTo(s);(o.path().includes(\"+\")||s.path().includes(\"+\")||a.path().includes(\"+\"))&&(a._parts.path=a._parts.path.replace(/\\+/g,\"%2B\"),a.build(!0)),o=a}this._url=o.toString()};function cLe(e){return e.length===0?{}:e.indexOf(\"=\")===-1?{[e]:void 0}:nd(e)}function t5(e,t,n){if(!n)return Ct(e,t);let i=Oe(e,!0);for(let o in t)if(t.hasOwnProperty(o)){let r=i[o],s=t[o];l(r)?(Array.isArray(r)||(r=i[o]=[r]),i[o]=r.concat(s)):i[o]=Array.isArray(s)?s.slice():s}return i}Gt.prototype.getUrlComponent=function(e,t){if(this.isDataUri)return this._url;let n=this._url;e&&(n=`${n}${lLe(this.queryParameters)}`),n=n.replace(/%7B/g,\"{\").replace(/%7D/g,\"}\");let i=this._templateValues;return Object.keys(i).length>0&&(n=n.replace(/{(.*?)}/g,function(o,r){let s=i[r];return l(s)?encodeURIComponent(s):o})),t&&l(this.proxy)&&(n=this.proxy.getURL(n)),n};function lLe(e){let t=Object.keys(e);return t.length===0?\"\":t.length===1&&!l(e[t[0]])?`?${t[0]}`:`?${jg(e)}`}Gt.prototype.setQueryParameters=function(e,t){t?this._queryParameters=t5(this._queryParameters,e,!1):this._queryParameters=t5(e,this._queryParameters,!1)};Gt.prototype.appendQueryParameters=function(e){this._queryParameters=t5(e,this._queryParameters,!0)};Gt.prototype.setTemplateValues=function(e,t){t?this._templateValues=Ct(this._templateValues,e):this._templateValues=Ct(e,this._templateValues)};Gt.prototype.getDerivedResource=function(e){let t=this.clone();if(t._retryCount=0,l(e.url)){let n=g(e.preserveQueryParameters,!1);t.parseUrl(e.url,!0,n,this._url)}return l(e.queryParameters)&&(t._queryParameters=Ct(e.queryParameters,t.queryParameters)),l(e.templateValues)&&(t._templateValues=Ct(e.templateValues,t.templateValues)),l(e.headers)&&(t.headers=Ct(e.headers,t.headers)),l(e.proxy)&&(t.proxy=e.proxy),l(e.request)&&(t.request=e.request),l(e.retryCallback)&&(t.retryCallback=e.retryCallback),l(e.retryAttempts)&&(t.retryAttempts=e.retryAttempts),t};Gt.prototype.retryOnError=function(e){let t=this.retryCallback;if(typeof t!=\"function\"||this._retryCount>=this.retryAttempts)return Promise.resolve(!1);let n=this;return Promise.resolve(t(this,e)).then(function(i){return++n._retryCount,i})};Gt.prototype.clone=function(e){return l(e)?(e._url=this._url,e._queryParameters=Oe(this._queryParameters),e._templateValues=Oe(this._templateValues),e.headers=Oe(this.headers),e.proxy=this.proxy,e.retryCallback=this.retryCallback,e.retryAttempts=this.retryAttempts,e._retryCount=0,e.request=this.request.clone(),e):new Gt({url:this._url,queryParameters:this.queryParameters,templateValues:this.templateValues,headers:this.headers,proxy:this.proxy,retryCallback:this.retryCallback,retryAttempts:this.retryAttempts,request:this.request.clone(),parseUrl:!1,credits:l(this.credits)?this.credits.slice():void 0})};Gt.prototype.getBaseUri=function(e){return YL(this.getUrlComponent(e),e)};Gt.prototype.appendForwardSlash=function(){this._url=BL(this._url)};Gt.prototype.fetchArrayBuffer=function(){return this.fetch({responseType:\"arraybuffer\"})};Gt.fetchArrayBuffer=function(e){return new Gt(e).fetchArrayBuffer()};Gt.prototype.fetchBlob=function(){return this.fetch({responseType:\"blob\"})};Gt.fetchBlob=function(e){return new Gt(e).fetchBlob()};Gt.prototype.fetchImage=function(e){e=g(e,g.EMPTY_OBJECT);let t=g(e.preferImageBitmap,!1),n=g(e.preferBlob,!1),i=g(e.flipY,!1),o=g(e.skipColorSpaceConversion,!1);if(aY(this.request),!Y$||this.isDataUri||this.isBlobUri||!this.hasHeaders&&!n)return sY({resource:this,flipY:i,skipColorSpaceConversion:o,preferImageBitmap:t});let r=this.fetchBlob();if(!l(r))return;let s,a,c,d;return Gt.supportsImageBitmapOptions().then(function(u){return s=u,a=s&&t,r}).then(function(u){if(!l(u))return;if(d=u,a)return Gt.createImageBitmapFromBlob(u,{flipY:i,premultiplyAlpha:!1,skipColorSpaceConversion:o});let m=window.URL.createObjectURL(u);return c=new Gt({url:m}),sY({resource:c,flipY:i,skipColorSpaceConversion:o,preferImageBitmap:!1})}).then(function(u){if(l(u))return u.blob=d,a||window.URL.revokeObjectURL(c.url),u}).catch(function(u){return l(c)&&window.URL.revokeObjectURL(c.url),u.blob=d,Promise.reject(u)})};function sY(e){let t=e.resource,n=e.flipY,i=e.skipColorSpaceConversion,o=e.preferImageBitmap,r=t.request;r.url=t.url,r.requestFunction=function(){let a=!1;!t.isDataUri&&!t.isBlobUri&&(a=t.isCrossOriginUrl);let c=bl();return Gt._Implementations.createImage(r,a,c,n,i,o),c.promise};let s=Ja.request(r);if(l(s))return s.catch(function(a){return r.state!==Qn.FAILED?Promise.reject(a):t.retryOnError(a).then(function(c){return c?(r.state=Qn.UNISSUED,r.deferred=void 0,sY({resource:t,flipY:n,skipColorSpaceConversion:i,preferImageBitmap:o})):Promise.reject(a)})})}Gt.fetchImage=function(e){return new Gt(e).fetchImage({flipY:e.flipY,skipColorSpaceConversion:e.skipColorSpaceConversion,preferBlob:e.preferBlob,preferImageBitmap:e.preferImageBitmap})};Gt.prototype.fetchText=function(){return this.fetch({responseType:\"text\"})};Gt.fetchText=function(e){return new Gt(e).fetchText()};Gt.prototype.fetchJson=function(){let e=this.fetch({responseType:\"text\",headers:{Accept:\"application/json,*/*;q=0.01\"}});if(l(e))return e.then(function(t){if(l(t))return JSON.parse(t)})};Gt.fetchJson=function(e){return new Gt(e).fetchJson()};Gt.prototype.fetchXML=function(){return this.fetch({responseType:\"document\",overrideMimeType:\"text/xml\"})};Gt.fetchXML=function(e){return new Gt(e).fetchXML()};Gt.prototype.fetchJsonp=function(e){e=g(e,\"callback\"),aY(this.request);let t;do t=`loadJsonp${P.nextRandomNumber().toString().substring(2,8)}`;while(l(window[t]));return O$(this,e,t)};function O$(e,t,n){let i={};i[t]=n,e.setQueryParameters(i);let o=e.request,r=e.url;o.url=r,o.requestFunction=function(){let a=bl();return window[n]=function(c){a.resolve(c);try{delete window[n]}catch{window[n]=void 0}},Gt._Implementations.loadAndExecuteScript(r,n,a),a.promise};let s=Ja.request(o);if(l(s))return s.catch(function(a){return o.state!==Qn.FAILED?Promise.reject(a):e.retryOnError(a).then(function(c){return c?(o.state=Qn.UNISSUED,o.deferred=void 0,O$(e,t,n)):Promise.reject(a)})})}Gt.fetchJsonp=function(e){return new Gt(e).fetchJsonp(e.callbackParameterName)};Gt.prototype._makeRequest=function(e){let t=this;aY(t.request);let n=t.request,i=t.url;n.url=i,n.requestFunction=function(){let r=e.responseType,s=Ct(e.headers,t.headers),a=e.overrideMimeType,c=e.method,d=e.data,u=bl(),m=Gt._Implementations.loadWithXhr(i,r,c,d,s,u,a);return l(m)&&l(m.abort)&&(n.cancelFunction=function(){m.abort()}),u.promise};let o=Ja.request(n);if(l(o))return o.then(function(r){return n.cancelFunction=void 0,r}).catch(function(r){return n.cancelFunction=void 0,n.state!==Qn.FAILED?Promise.reject(r):t.retryOnError(r).then(function(s){return s?(n.state=Qn.UNISSUED,n.deferred=void 0,t.fetch(e)):Promise.reject(r)})})};function aY(e){if(e.state===Qn.ISSUED||e.state===Qn.ACTIVE)throw new ue(\"The Resource is already being fetched.\");e.state=Qn.UNISSUED,e.deferred=void 0}var dLe=/^data:(.*?)(;base64)?,(.*)$/;function e5(e,t){let n=decodeURIComponent(t);return e?atob(n):n}function B$(e,t){let n=e5(e,t),i=new ArrayBuffer(n.length),o=new Uint8Array(i);for(let r=0;r<n.length;r++)o[r]=n.charCodeAt(r);return i}function uLe(e,t){t=g(t,\"\");let n=e[1],i=!!e[2],o=e[3],r,s;switch(t){case\"\":case\"text\":return e5(i,o);case\"arraybuffer\":return B$(i,o);case\"blob\":return r=B$(i,o),new Blob([r],{type:n});case\"document\":return s=new DOMParser,s.parseFromString(e5(i,o),n);case\"json\":return JSON.parse(e5(i,o));default:}}Gt.prototype.fetch=function(e){return e=zh(e,{}),e.method=\"GET\",this._makeRequest(e)};Gt.fetch=function(e){return new Gt(e).fetch({responseType:e.responseType,overrideMimeType:e.overrideMimeType})};Gt.prototype.delete=function(e){return e=zh(e,{}),e.method=\"DELETE\",this._makeRequest(e)};Gt.delete=function(e){return new Gt(e).delete({responseType:e.responseType,overrideMimeType:e.overrideMimeType,data:e.data})};Gt.prototype.head=function(e){return e=zh(e,{}),e.method=\"HEAD\",this._makeRequest(e)};Gt.head=function(e){return new Gt(e).head({responseType:e.responseType,overrideMimeType:e.overrideMimeType})};Gt.prototype.options=function(e){return e=zh(e,{}),e.method=\"OPTIONS\",this._makeRequest(e)};Gt.options=function(e){return new Gt(e).options({responseType:e.responseType,overrideMimeType:e.overrideMimeType})};Gt.prototype.post=function(e,t){return bi.defined(\"data\",e),t=zh(t,{}),t.method=\"POST\",t.data=e,this._makeRequest(t)};Gt.post=function(e){return new Gt(e).post(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType})};Gt.prototype.put=function(e,t){return bi.defined(\"data\",e),t=zh(t,{}),t.method=\"PUT\",t.data=e,this._makeRequest(t)};Gt.put=function(e){return new Gt(e).put(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType})};Gt.prototype.patch=function(e,t){return bi.defined(\"data\",e),t=zh(t,{}),t.method=\"PATCH\",t.data=e,this._makeRequest(t)};Gt.patch=function(e){return new Gt(e).patch(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType})};Gt._Implementations={};Gt._Implementations.loadImageElement=function(e,t,n){let i=new Image;i.onload=function(){i.naturalWidth===0&&i.naturalHeight===0&&i.width===0&&i.height===0&&(i.width=300,i.height=150),n.resolve(i)},i.onerror=function(o){n.reject(o)},t&&(wS.contains(e)?i.crossOrigin=\"use-credentials\":i.crossOrigin=\"\"),i.src=e};Gt._Implementations.createImage=function(e,t,n,i,o,r){let s=e.url;Gt.supportsImageBitmapOptions().then(function(a){if(!(a&&r)){Gt._Implementations.loadImageElement(s,t,n);return}let c=\"blob\",d=\"GET\",u=bl(),m=Gt._Implementations.loadWithXhr(s,c,d,void 0,void 0,u,void 0,void 0,void 0);return l(m)&&l(m.abort)&&(e.cancelFunction=function(){m.abort()}),u.promise.then(function(p){if(!l(p)){n.reject(new ue(`Successfully retrieved ${s} but it contained no content.`));return}return Gt.createImageBitmapFromBlob(p,{flipY:i,premultiplyAlpha:!1,skipColorSpaceConversion:o})}).then(function(p){n.resolve(p)})}).catch(function(a){n.reject(a)})};Gt.createImageBitmapFromBlob=function(e,t){return bi.defined(\"options\",t),bi.typeOf.bool(\"options.flipY\",t.flipY),bi.typeOf.bool(\"options.premultiplyAlpha\",t.premultiplyAlpha),bi.typeOf.bool(\"options.skipColorSpaceConversion\",t.skipColorSpaceConversion),createImageBitmap(e,{imageOrientation:t.flipY?\"flipY\":\"none\",premultiplyAlpha:t.premultiplyAlpha?\"premultiply\":\"none\",colorSpaceConversion:t.skipColorSpaceConversion?\"none\":\"default\"})};function mLe(e,t,n,i,o,r,s){fetch(e,{method:n,headers:o}).then(async a=>{if(!a.ok){let c={};a.headers.forEach((d,u)=>{c[u]=d}),r.reject(new Yh(a.status,a,c));return}switch(t){case\"text\":r.resolve(a.text());break;case\"json\":r.resolve(a.json());break;default:r.resolve(new Uint8Array(await a.arrayBuffer()).buffer);break}}).catch(()=>{r.reject(new Yh)})}var hLe=typeof XMLHttpRequest>\"u\";Gt._Implementations.loadWithXhr=function(e,t,n,i,o,r,s){let a=dLe.exec(e);if(a!==null){r.resolve(uLe(a,t));return}if(hLe){mLe(e,t,n,i,o,r,s);return}let c=new XMLHttpRequest;if(wS.contains(e)&&(c.withCredentials=!0),c.open(n,e,!0),l(s)&&l(c.overrideMimeType)&&c.overrideMimeType(s),l(o))for(let u in o)o.hasOwnProperty(u)&&c.setRequestHeader(u,o[u]);l(t)&&(c.responseType=t);let d=!1;return typeof e==\"string\"&&(d=e.indexOf(\"file://\")===0||typeof window<\"u\"&&window.location.origin===\"file://\"),c.onload=function(){if((c.status<200||c.status>=300)&&!(d&&c.status===0)){r.reject(new Yh(c.status,c.response,c.getAllResponseHeaders()));return}let u=c.response,m=c.responseType;if(n===\"HEAD\"||n===\"OPTIONS\"){let b=c.getAllResponseHeaders().trim().split(/[\\r\\n]+/),f={};b.forEach(function(x){let _=x.split(\": \"),C=_.shift();f[C]=_.join(\": \")}),r.resolve(f);return}if(c.status===204)r.resolve(void 0);else if(l(u)&&(!l(t)||m===t))r.resolve(u);else if(t===\"json\"&&typeof u==\"string\")try{r.resolve(JSON.parse(u))}catch(p){r.reject(p)}else(m===\"\"||m===\"document\")&&l(c.responseXML)&&c.responseXML.hasChildNodes()?r.resolve(c.responseXML):(m===\"\"||m===\"text\")&&l(c.responseText)?r.resolve(c.responseText):r.reject(new ue(\"Invalid XMLHttpRequest response type.\"))},c.onerror=function(u){r.reject(new Yh)},c.send(i),c};Gt._Implementations.loadAndExecuteScript=function(e,t,n){return Qg(e,t).catch(function(i){n.reject(i)})};Gt._DefaultImplementations={};Gt._DefaultImplementations.createImage=Gt._Implementations.createImage;Gt._DefaultImplementations.loadWithXhr=Gt._Implementations.loadWithXhr;Gt._DefaultImplementations.loadAndExecuteScript=Gt._Implementations.loadAndExecuteScript;Gt.DEFAULT=Object.freeze(new Gt({url:typeof document>\"u\"?\"\":document.location.href.split(\"?\")[0]}));var Xe=Gt;function QL(e){e=g(e,g.EMPTY_OBJECT),this._dates=void 0,this._samples=void 0,this._dateColumn=-1,this._xPoleWanderRadiansColumn=-1,this._yPoleWanderRadiansColumn=-1,this._ut1MinusUtcSecondsColumn=-1,this._xCelestialPoleOffsetRadiansColumn=-1,this._yCelestialPoleOffsetRadiansColumn=-1,this._taiMinusUtcSecondsColumn=-1,this._columnCount=0,this._lastIndex=-1,this._addNewLeapSeconds=g(e.addNewLeapSeconds,!0),l(e.data)?z$(this,e.data):z$(this,{columnNames:[\"dateIso8601\",\"modifiedJulianDateUtc\",\"xPoleWanderRadians\",\"yPoleWanderRadians\",\"ut1MinusUtcSeconds\",\"lengthOfDayCorrectionSeconds\",\"xCelestialPoleOffsetRadians\",\"yCelestialPoleOffsetRadians\",\"taiMinusUtcSeconds\"],samples:[]})}QL.fromUrl=async function(e,t){t=g(t,g.EMPTY_OBJECT);let n=Xe.createIfNeeded(e),i;try{i=await n.fetchJson()}catch{throw new ue(`An error occurred while retrieving the EOP data from the URL ${n.url}.`)}return new QL({addNewLeapSeconds:t.addNewLeapSeconds,data:i})};QL.NONE=Object.freeze({compute:function(e,t){return l(t)?(t.xPoleWander=0,t.yPoleWander=0,t.xPoleOffset=0,t.yPoleOffset=0,t.ut1MinusUtc=0):t=new Tb(0,0,0,0,0),t}});QL.prototype.compute=function(e,t){if(!l(this._samples))return;if(l(t)||(t=new Tb(0,0,0,0,0)),this._samples.length===0)return t.xPoleWander=0,t.yPoleWander=0,t.xPoleOffset=0,t.yPoleOffset=0,t.ut1MinusUtc=0,t;let n=this._dates,i=this._lastIndex,o=0,r=0;if(l(i)){let a=n[i],c=n[i+1],d=te.lessThanOrEquals(a,e),u=!l(c),m=u||te.greaterThanOrEquals(c,e);if(d&&m)return o=i,!u&&c.equals(e)&&++o,r=o+1,K$(this,n,this._samples,e,o,r,t),t}let s=Lo(n,e,te.compare,this._dateColumn);return s>=0?(s<n.length-1&&n[s+1].equals(e)&&++s,o=s,r=s):(r=~s,o=r-1,o<0&&(o=0)),this._lastIndex=o,K$(this,n,this._samples,e,o,r,t),t};function fLe(e,t){return te.compare(e.julianDate,t)}function z$(e,t){if(!l(t.columnNames))throw new ue(\"Error in loaded EOP data: The columnNames property is required.\");if(!l(t.samples))throw new ue(\"Error in loaded EOP data: The samples property is required.\");let n=t.columnNames.indexOf(\"modifiedJulianDateUtc\"),i=t.columnNames.indexOf(\"xPoleWanderRadians\"),o=t.columnNames.indexOf(\"yPoleWanderRadians\"),r=t.columnNames.indexOf(\"ut1MinusUtcSeconds\"),s=t.columnNames.indexOf(\"xCelestialPoleOffsetRadians\"),a=t.columnNames.indexOf(\"yCelestialPoleOffsetRadians\"),c=t.columnNames.indexOf(\"taiMinusUtcSeconds\");if(n<0||i<0||o<0||r<0||s<0||a<0||c<0)throw new ue(\"Error in loaded EOP data: The columnNames property must include modifiedJulianDateUtc, xPoleWanderRadians, yPoleWanderRadians, ut1MinusUtcSeconds, xCelestialPoleOffsetRadians, yCelestialPoleOffsetRadians, and taiMinusUtcSeconds columns\");let d=e._samples=t.samples,u=e._dates=[];e._dateColumn=n,e._xPoleWanderRadiansColumn=i,e._yPoleWanderRadiansColumn=o,e._ut1MinusUtcSecondsColumn=r,e._xCelestialPoleOffsetRadiansColumn=s,e._yCelestialPoleOffsetRadiansColumn=a,e._taiMinusUtcSecondsColumn=c,e._columnCount=t.columnNames.length,e._lastIndex=void 0;let m,p=e._addNewLeapSeconds;for(let b=0,f=d.length;b<f;b+=e._columnCount){let x=d[b+n],_=d[b+c],C=x+Hn.MODIFIED_JULIAN_DATE_DIFFERENCE,V=new te(C,_,zn.TAI);if(u.push(V),p){if(_!==m&&l(m)){let L=te.leapSeconds,R=Lo(L,V,fLe);if(R<0){let G=new Ni(V,_);L.splice(~R,0,G)}}m=_}}}function H$(e,t,n,i,o){let r=n*i;o.xPoleWander=t[r+e._xPoleWanderRadiansColumn],o.yPoleWander=t[r+e._yPoleWanderRadiansColumn],o.xPoleOffset=t[r+e._xCelestialPoleOffsetRadiansColumn],o.yPoleOffset=t[r+e._yCelestialPoleOffsetRadiansColumn],o.ut1MinusUtc=t[r+e._ut1MinusUtcSecondsColumn]}function JL(e,t,n){return t+e*(n-t)}function K$(e,t,n,i,o,r,s){let a=e._columnCount;if(r>t.length-1)return s.xPoleWander=0,s.yPoleWander=0,s.xPoleOffset=0,s.yPoleOffset=0,s.ut1MinusUtc=0,s;let c=t[o],d=t[r];if(c.equals(d)||i.equals(c))return H$(e,n,o,a,s),s;if(i.equals(d))return H$(e,n,r,a,s),s;let u=te.secondsDifference(i,c)/te.secondsDifference(d,c),m=o*a,p=r*a,b=n[m+e._ut1MinusUtcSecondsColumn],f=n[p+e._ut1MinusUtcSecondsColumn],x=f-b;if(x>.5||x<-.5){let _=n[m+e._taiMinusUtcSecondsColumn],C=n[p+e._taiMinusUtcSecondsColumn];_!==C&&(d.equals(i)?b=f:f-=C-_)}return s.xPoleWander=JL(u,n[m+e._xPoleWanderRadiansColumn],n[p+e._xPoleWanderRadiansColumn]),s.yPoleWander=JL(u,n[m+e._yPoleWanderRadiansColumn],n[p+e._yPoleWanderRadiansColumn]),s.xPoleOffset=JL(u,n[m+e._xCelestialPoleOffsetRadiansColumn],n[p+e._xCelestialPoleOffsetRadiansColumn]),s.yPoleOffset=JL(u,n[m+e._yCelestialPoleOffsetRadiansColumn],n[p+e._yCelestialPoleOffsetRadiansColumn]),s.ut1MinusUtc=JL(u,b,f),s}var jL=QL;var WEt=T(S(),1);function Qa(e,t,n){this.heading=g(e,0),this.pitch=g(t,0),this.roll=g(n,0)}Qa.fromQuaternion=function(e,t){l(t)||(t=new Qa);let n=2*(e.w*e.y-e.z*e.x),i=1-2*(e.x*e.x+e.y*e.y),o=2*(e.w*e.x+e.y*e.z),r=1-2*(e.y*e.y+e.z*e.z),s=2*(e.w*e.z+e.x*e.y);return t.heading=-Math.atan2(s,r),t.roll=Math.atan2(o,i),t.pitch=-P.asinClamped(n),t};Qa.fromDegrees=function(e,t,n,i){return l(i)||(i=new Qa),i.heading=e*P.RADIANS_PER_DEGREE,i.pitch=t*P.RADIANS_PER_DEGREE,i.roll=n*P.RADIANS_PER_DEGREE,i};Qa.clone=function(e,t){if(l(e))return l(t)?(t.heading=e.heading,t.pitch=e.pitch,t.roll=e.roll,t):new Qa(e.heading,e.pitch,e.roll)};Qa.equals=function(e,t){return e===t||l(e)&&l(t)&&e.heading===t.heading&&e.pitch===t.pitch&&e.roll===t.roll};Qa.equalsEpsilon=function(e,t,n,i){return e===t||l(e)&&l(t)&&P.equalsEpsilon(e.heading,t.heading,n,i)&&P.equalsEpsilon(e.pitch,t.pitch,n,i)&&P.equalsEpsilon(e.roll,t.roll,n,i)};Qa.prototype.clone=function(e){return Qa.clone(this,e)};Qa.prototype.equals=function(e){return Qa.equals(this,e)};Qa.prototype.equalsEpsilon=function(e,t,n){return Qa.equalsEpsilon(this,e,t,n)};Qa.prototype.toString=function(){return`(${this.heading}, ${this.pitch}, ${this.roll})`};var ja=Qa;var JEt=T(S(),1);var AEt=T(S(),1);var J$={};var Q$=/((?:.*\\/)|^)Cesium\\.js(?:\\?|\\#|$)/;function pLe(){let e=document.getElementsByTagName(\"script\");for(let t=0,n=e.length;t<n;++t){let i=e[t].getAttribute(\"src\"),o=Q$.exec(i);if(o!==null)return o[1]}}var n5;function j$(e){return typeof document>\"u\"?e:(l(n5)||(n5=document.createElement(\"a\")),n5.href=e,n5.href)}var ex;function q$(){if(l(ex))return ex;let e;return typeof CESIUM_BASE_URL<\"u\"?e=CESIUM_BASE_URL:l(J$?.url)?e=Dh(\".\",J$.url):typeof define==\"object\"&&l(define.amd)&&!define.amd.toUrlUndefined&&l(xM.toUrl)?e=Dh(\"..\",tx(\"Core/buildModuleUrl.js\")):e=pLe(),ex=new Xe({url:j$(e)}),ex.appendForwardSlash(),ex}function bLe(e){return j$(xM.toUrl(`../${e}`))}function $$(e){return q$().getDerivedResource({url:e}).url}var i5;function tx(e){return l(i5)||(typeof define==\"object\"&&l(define.amd)&&!define.amd.toUrlUndefined&&l(xM.toUrl)?i5=bLe:i5=$$),i5(e)}tx._cesiumScriptRegex=Q$;tx._buildModuleUrlFromBaseUrl=$$;tx._clearBaseResource=function(){ex=void 0};tx.setBaseUrl=function(e){ex=Xe.DEFAULT.getDerivedResource({url:e})};tx.getCesiumBaseUrl=q$;var on=tx;var kEt=T(S(),1);function yLe(e,t,n){this.x=e,this.y=t,this.s=n}var nx=yLe;function dY(e){e=g(e,g.EMPTY_OBJECT),this._xysFileUrlTemplate=Xe.createIfNeeded(e.xysFileUrlTemplate),this._interpolationOrder=g(e.interpolationOrder,9),this._sampleZeroJulianEphemerisDate=g(e.sampleZeroJulianEphemerisDate,24423965e-1),this._sampleZeroDateTT=new te(this._sampleZeroJulianEphemerisDate,0,zn.TAI),this._stepSizeDays=g(e.stepSizeDays,1),this._samplesPerXysFile=g(e.samplesPerXysFile,1e3),this._totalSamples=g(e.totalSamples,27426),this._samples=new Array(this._totalSamples*3),this._chunkDownloadsInProgress=[];let t=this._interpolationOrder,n=this._denominators=new Array(t+1),i=this._xTable=new Array(t+1),o=Math.pow(this._stepSizeDays,t);for(let r=0;r<=t;++r){n[r]=o,i[r]=r*this._stepSizeDays;for(let s=0;s<=t;++s)s!==r&&(n[r]*=r-s);n[r]=1/n[r]}this._work=new Array(t+1),this._coef=new Array(t+1)}var gLe=new te(0,0,zn.TAI);function cY(e,t,n){let i=gLe;return i.dayNumber=t,i.secondsOfDay=n,te.daysDifference(i,e._sampleZeroDateTT)}dY.prototype.preload=function(e,t,n,i){let o=cY(this,e,t),r=cY(this,n,i),s=o/this._stepSizeDays-this._interpolationOrder/2|0;s<0&&(s=0);let a=r/this._stepSizeDays-this._interpolationOrder/2|0+this._interpolationOrder;a>=this._totalSamples&&(a=this._totalSamples-1);let c=s/this._samplesPerXysFile|0,d=a/this._samplesPerXysFile|0,u=[];for(let m=c;m<=d;++m)u.push(lY(this,m));return Promise.all(u)};dY.prototype.computeXysRadians=function(e,t,n){let i=cY(this,e,t);if(i<0)return;let o=i/this._stepSizeDays|0;if(o>=this._totalSamples)return;let r=this._interpolationOrder,s=o-(r/2|0);s<0&&(s=0);let a=s+r;a>=this._totalSamples&&(a=this._totalSamples-1,s=a-r,s<0&&(s=0));let c=!1,d=this._samples;if(l(d[s*3])||(lY(this,s/this._samplesPerXysFile|0),c=!0),l(d[a*3])||(lY(this,a/this._samplesPerXysFile|0),c=!0),c)return;l(n)?(n.x=0,n.y=0,n.s=0):n=new nx(0,0,0);let u=i-s*this._stepSizeDays,m=this._work,p=this._denominators,b=this._coef,f=this._xTable,x,_;for(x=0;x<=r;++x)m[x]=u-f[x];for(x=0;x<=r;++x){for(b[x]=1,_=0;_<=r;++_)_!==x&&(b[x]*=m[_]);b[x]*=p[x];let C=(s+x)*3;n.x+=b[x]*d[C++],n.y+=b[x]*d[C++],n.s+=b[x]*d[C]}return n};function lY(e,t){if(e._chunkDownloadsInProgress[t])return e._chunkDownloadsInProgress[t];let n,i=e._xysFileUrlTemplate;l(i)?n=i.getDerivedResource({templateValues:{0:t}}):n=new Xe({url:on(`Assets/IAU2006_XYS/IAU2006_XYS_${t}.json`)});let o=n.fetchJson().then(function(r){e._chunkDownloadsInProgress[t]=!1;let s=e._samples,a=r.samples,c=t*e._samplesPerXysFile*3;for(let d=0,u=a.length;d<u;++d)s[c+d]=a[d]});return e._chunkDownloadsInProgress[t]=o,o}var qL=dY;var Ki={},uY={up:{south:\"east\",north:\"west\",west:\"south\",east:\"north\"},down:{south:\"west\",north:\"east\",west:\"north\",east:\"south\"},south:{up:\"west\",down:\"east\",west:\"down\",east:\"up\"},north:{up:\"east\",down:\"west\",west:\"up\",east:\"down\"},west:{up:\"north\",down:\"south\",north:\"down\",south:\"up\"},east:{up:\"south\",down:\"north\",north:\"up\",south:\"down\"}},AS={north:[-1,0,0],east:[0,1,0],up:[0,0,1],south:[1,0,0],west:[0,-1,0],down:[0,0,-1]},mY={},yl={east:new h,north:new h,up:new h,west:new h,south:new h,down:new h},Cb=new h,Vb=new h,Lb=new h;Ki.localFrameToFixedFrameGenerator=function(e,t){if(!uY.hasOwnProperty(e)||!uY[e].hasOwnProperty(t))throw new fe(\"firstAxis and secondAxis must be east, north, up, west, south or down.\");let n=uY[e][t],i,o=e+t;return l(mY[o])?i=mY[o]:(i=function(r,s,a){if(l(a)||(a=new M),h.equalsEpsilon(r,h.ZERO,P.EPSILON14))h.unpack(AS[e],0,Cb),h.unpack(AS[t],0,Vb),h.unpack(AS[n],0,Lb);else if(P.equalsEpsilon(r.x,0,P.EPSILON14)&&P.equalsEpsilon(r.y,0,P.EPSILON14)){let c=P.sign(r.z);h.unpack(AS[e],0,Cb),e!==\"east\"&&e!==\"west\"&&h.multiplyByScalar(Cb,c,Cb),h.unpack(AS[t],0,Vb),t!==\"east\"&&t!==\"west\"&&h.multiplyByScalar(Vb,c,Vb),h.unpack(AS[n],0,Lb),n!==\"east\"&&n!==\"west\"&&h.multiplyByScalar(Lb,c,Lb)}else{s=g(s,oe.WGS84),s.geodeticSurfaceNormal(r,yl.up);let c=yl.up,d=yl.east;d.x=-r.y,d.y=r.x,d.z=0,h.normalize(d,yl.east),h.cross(c,d,yl.north),h.multiplyByScalar(yl.up,-1,yl.down),h.multiplyByScalar(yl.east,-1,yl.west),h.multiplyByScalar(yl.north,-1,yl.south),Cb=yl[e],Vb=yl[t],Lb=yl[n]}return a[0]=Cb.x,a[1]=Cb.y,a[2]=Cb.z,a[3]=0,a[4]=Vb.x,a[5]=Vb.y,a[6]=Vb.z,a[7]=0,a[8]=Lb.x,a[9]=Lb.y,a[10]=Lb.z,a[11]=0,a[12]=r.x,a[13]=r.y,a[14]=r.z,a[15]=1,a},mY[o]=i),i};Ki.eastNorthUpToFixedFrame=Ki.localFrameToFixedFrameGenerator(\"east\",\"north\");Ki.northEastDownToFixedFrame=Ki.localFrameToFixedFrameGenerator(\"north\",\"east\");Ki.northUpEastToFixedFrame=Ki.localFrameToFixedFrameGenerator(\"north\",\"up\");Ki.northWestUpToFixedFrame=Ki.localFrameToFixedFrameGenerator(\"north\",\"west\");var xLe=new Fe,_Le=new h(1,1,1),TLe=new M;Ki.headingPitchRollToFixedFrame=function(e,t,n,i,o){i=g(i,Ki.eastNorthUpToFixedFrame);let r=Fe.fromHeadingPitchRoll(t,xLe),s=M.fromTranslationQuaternionRotationScale(h.ZERO,r,_Le,TLe);return o=i(e,n,o),M.multiply(o,s,o)};var SLe=new M,CLe=new $;Ki.headingPitchRollQuaternion=function(e,t,n,i,o){let r=Ki.headingPitchRollToFixedFrame(e,t,n,i,SLe),s=M.getMatrix3(r,CLe);return Fe.fromRotationMatrix(s,o)};var VLe=new h(1,1,1),LLe=new h,eee=new M,ZLe=new M,RLe=new $,GLe=new Fe;Ki.fixedFrameToHeadingPitchRoll=function(e,t,n,i){t=g(t,oe.WGS84),n=g(n,Ki.eastNorthUpToFixedFrame),l(i)||(i=new ja);let o=M.getTranslation(e,LLe);if(h.equals(o,h.ZERO))return i.heading=0,i.pitch=0,i.roll=0,i;let r=M.inverseTransformation(n(o,t,eee),eee),s=M.setScale(e,VLe,ZLe);s=M.setTranslation(s,h.ZERO,s),r=M.multiply(r,s,r);let a=Fe.fromRotationMatrix(M.getMatrix3(r,RLe),GLe);return a=Fe.normalize(a,a),ja.fromQuaternion(a,i)};var ELe=6*3600+41*60+50.54841,XLe=8640184812866e-6,ILe=.093104,WLe=-62e-7,PLe=11772758384668e-32,vLe=72921158553e-15,wLe=P.TWO_PI/86400,o5=new te;Ki.computeTemeToPseudoFixedMatrix=function(e,t){o5=te.addSeconds(e,-te.computeTaiMinusUtc(e),o5);let n=o5.dayNumber,i=o5.secondsOfDay,o,r=n-2451545;i>=43200?o=(r+.5)/Hn.DAYS_PER_JULIAN_CENTURY:o=(r-.5)/Hn.DAYS_PER_JULIAN_CENTURY;let a=(ELe+o*(XLe+o*(ILe+o*WLe)))*wLe%P.TWO_PI,c=vLe+PLe*(n-24515455e-1),d=(i+Hn.SECONDS_PER_DAY*.5)%Hn.SECONDS_PER_DAY,u=a+c*d,m=Math.cos(u),p=Math.sin(u);return l(t)?(t[0]=m,t[1]=-p,t[2]=0,t[3]=p,t[4]=m,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new $(m,p,0,-p,m,0,0,0,1)};Ki.iau2006XysData=new qL;Ki.earthOrientationParameters=jL.NONE;var pY=32.184,FLe=2451545;Ki.preloadIcrfFixed=function(e){let t=e.start.dayNumber,n=e.start.secondsOfDay+pY,i=e.stop.dayNumber,o=e.stop.secondsOfDay+pY;return Ki.iau2006XysData.preload(t,n,i,o)};Ki.computeIcrfToFixedMatrix=function(e,t){l(t)||(t=new $);let n=Ki.computeFixedToIcrfMatrix(e,t);if(l(n))return $.transpose(n,t)};var ALe=new nx(0,0,0),MLe=new Tb(0,0,0,0,0,0),hY=new $,fY=new $;Ki.computeFixedToIcrfMatrix=function(e,t){l(t)||(t=new $);let n=Ki.earthOrientationParameters.compute(e,MLe);if(!l(n))return;let i=e.dayNumber,o=e.secondsOfDay+pY,r=Ki.iau2006XysData.computeXysRadians(i,o,ALe);if(!l(r))return;let s=r.x+n.xPoleOffset,a=r.y+n.yPoleOffset,c=1/(1+Math.sqrt(1-s*s-a*a)),d=hY;d[0]=1-c*s*s,d[3]=-c*s*a,d[6]=s,d[1]=-c*s*a,d[4]=1-c*a*a,d[7]=a,d[2]=-s,d[5]=-a,d[8]=1-c*(s*s+a*a);let u=$.fromRotationZ(-r.s,fY),m=$.multiply(d,u,hY),p=e.dayNumber,b=e.secondsOfDay-te.computeTaiMinusUtc(e)+n.ut1MinusUtc,f=p-2451545,x=b/Hn.SECONDS_PER_DAY,_=.779057273264+x+.00273781191135448*(f+x);_=_%1*P.TWO_PI;let C=$.fromRotationZ(_,fY),V=$.multiply(m,C,hY),L=Math.cos(n.xPoleWander),R=Math.cos(n.yPoleWander),G=Math.sin(n.xPoleWander),X=Math.sin(n.yPoleWander),v=i-FLe+o/Hn.SECONDS_PER_DAY;v/=36525;let W=-47e-6*v*P.RADIANS_PER_DEGREE/3600,F=Math.cos(W),A=Math.sin(W),y=fY;return y[0]=L*F,y[1]=L*A,y[2]=G,y[3]=-R*A+X*G*F,y[4]=R*F+X*G*A,y[5]=-X*L,y[6]=-X*A-R*G*F,y[7]=X*F-R*G*A,y[8]=R*L,$.multiply(V,y,t)};var NLe=new se;Ki.pointToWindowCoordinates=function(e,t,n,i){return i=Ki.pointToGLWindowCoordinates(e,t,n,i),i.y=2*t[5]-i.y,i};Ki.pointToGLWindowCoordinates=function(e,t,n,i){l(i)||(i=new D);let o=NLe;return M.multiplyByVector(e,se.fromElements(n.x,n.y,n.z,1,o),o),se.multiplyByScalar(o,1/o.w,o),M.multiplyByVector(t,o,o),D.fromCartesian4(o,i)};var kLe=new h,ULe=new h,DLe=new h;Ki.rotationMatrixFromPositionVelocity=function(e,t,n,i){let o=g(n,oe.WGS84).geodeticSurfaceNormal(e,kLe),r=h.cross(t,o,ULe);h.equalsEpsilon(r,h.ZERO,P.EPSILON6)&&(r=h.clone(h.UNIT_X,r));let s=h.cross(r,t,DLe);return h.normalize(s,s),h.cross(t,s,r),h.negate(r,r),h.normalize(r,r),l(i)||(i=new $),i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=r.x,i[4]=r.y,i[5]=r.z,i[6]=s.x,i[7]=s.y,i[8]=s.z,i};var tee=new M(0,0,1,0,1,0,0,0,0,1,0,0,0,0,0,1),nee=new he,bY=new h,BLe=new h,YLe=new $,yY=new M,iee=new M;Ki.basisTo2D=function(e,t,n){let i=M.getTranslation(t,BLe),o=e.ellipsoid,r;if(h.equals(i,h.ZERO))r=h.clone(h.ZERO,bY);else{let u=o.cartesianToCartographic(i,nee);r=e.project(u,bY),h.fromElements(r.z,r.x,r.y,r)}let s=Ki.eastNorthUpToFixedFrame(i,o,yY),a=M.inverseTransformation(s,iee),c=M.getMatrix3(t,YLe),d=M.multiplyByMatrix3(a,c,n);return M.multiply(tee,d,n),M.setTranslation(n,r,n),n};Ki.wgs84To2DModelMatrix=function(e,t,n){let i=e.ellipsoid,o=Ki.eastNorthUpToFixedFrame(t,i,yY),r=M.inverseTransformation(o,iee),s=i.cartesianToCartographic(t,nee),a=e.project(s,bY);h.fromElements(a.z,a.x,a.y,a);let c=M.fromTranslation(a,yY);return M.multiply(tee,r,n),M.multiply(c,n,n),n};var Wt=Ki;function gY(e){e=g(e,g.EMPTY_OBJECT),this.attributes=e.attributes,this.indices=e.indices,this.primitiveType=g(e.primitiveType,we.TRIANGLES),this.boundingSphere=e.boundingSphere,this.geometryType=g(e.geometryType,ou.NONE),this.boundingSphereCV=e.boundingSphereCV,this.offsetAttribute=e.offsetAttribute}gY.computeNumberOfVertices=function(e){let t=-1;for(let n in e.attributes)if(e.attributes.hasOwnProperty(n)&&l(e.attributes[n])&&l(e.attributes[n].values)){let i=e.attributes[n];t=i.values.length/i.componentsPerAttribute}return t};var OLe=new he,zLe=new h,oee=new M,HLe=[new he,new he,new he],KLe=[new D,new D,new D],JLe=[new D,new D,new D],QLe=new h,jLe=new Fe,qLe=new M,$Le=new qi;gY._textureCoordinateRotationPoints=function(e,t,n,i){let o,r=le.center(i,OLe),s=he.toCartesian(r,n,zLe),a=Wt.eastNorthUpToFixedFrame(s,n,oee),c=M.inverse(a,oee),d=KLe,u=HLe;u[0].longitude=i.west,u[0].latitude=i.south,u[1].longitude=i.west,u[1].latitude=i.north,u[2].longitude=i.east,u[2].latitude=i.south;let m=QLe;for(o=0;o<3;o++)he.toCartesian(u[o],n,m),m=M.multiplyByPointAsVector(c,m,m),d[o].x=m.x,d[o].y=m.y;let p=Fe.fromAxisAngle(h.UNIT_Z,-t,jLe),b=$.fromQuaternion(p,qLe),f=e.length,x=Number.POSITIVE_INFINITY,_=Number.POSITIVE_INFINITY,C=Number.NEGATIVE_INFINITY,V=Number.NEGATIVE_INFINITY;for(o=0;o<f;o++)m=M.multiplyByPointAsVector(c,e[o],m),m=$.multiplyByVector(b,m,m),x=Math.min(x,m.x),_=Math.min(_,m.y),C=Math.max(C,m.x),V=Math.max(V,m.y);let L=qi.fromRotation(t,$Le),R=JLe;R[0].x=x,R[0].y=_,R[1].x=x,R[1].y=V,R[2].x=C,R[2].y=_;let G=d[0],X=d[2].x-G.x,v=d[1].y-G.y;for(o=0;o<3;o++){let Z=R[o];qi.multiplyByVector(L,Z,Z),Z.x=(Z.x-G.x)/X,Z.y=(Z.y-G.y)/v}let W=R[0],F=R[1],A=R[2],y=new Array(6);return D.pack(W,y),D.pack(F,y,2),D.pack(A,y,4),y};var ut=gY;var vXt=T(S(),1);function eZe(e){e=g(e,g.EMPTY_OBJECT),this.componentDatatype=e.componentDatatype,this.componentsPerAttribute=e.componentsPerAttribute,this.normalize=g(e.normalize,!1),this.values=e.values}var Ee=eZe;var rIt=T(S(),1);var tIt=T(S(),1);var AXt=T(S(),1);function MS(e,t,n,i,o){this._format=e,this._datatype=t,this._width=n,this._height=i,this._buffer=o}Object.defineProperties(MS.prototype,{internalFormat:{get:function(){return this._format}},pixelDatatype:{get:function(){return this._datatype}},width:{get:function(){return this._width}},height:{get:function(){return this._height}},bufferView:{get:function(){return this._buffer}}});MS.clone=function(e){if(l(e))return new MS(e._format,e._datatype,e._width,e._height,e._buffer)};MS.prototype.clone=function(){return MS.clone(this)};var $L=MS;var JXt=T(S(),1),ree=T(td(),1);function see(){if(!l(Sa._canTransferArrayBuffer)){let e=TY(\"transferTypedArrayTest\");e.postMessage=g(e.webkitPostMessage,e.postMessage);let t=99,n=new Int8Array([t]);try{e.postMessage({array:n},[n.buffer])}catch{return Sa._canTransferArrayBuffer=!1,Sa._canTransferArrayBuffer}Sa._canTransferArrayBuffer=new Promise(i=>{e.onmessage=function(o){let r=o.data.array,s=l(r)&&r[0]===t;i(s),e.terminate(),Sa._canTransferArrayBuffer=s}})}return Sa._canTransferArrayBuffer}var _Y=new ge;function xY(e){let t;try{t=new Blob([e],{type:\"application/javascript\"})}catch{let o=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,r=new o;r.append(e),t=r.getBlob(\"application/javascript\")}return(window.URL||window.webkitURL).createObjectURL(t)}function TY(e){let t=new ree.default(e),n=t.scheme().length!==0&&t.fragment().length===0,i={},o;if(Jg(e)){let s=`importScripts(\"${e}\");`;return o=xY(s),new Worker(o,i)}let r=e.replace(/\\.js$/,\"\");if(!n&&typeof CESIUM_WORKERS<\"u\"){let s=` importScripts(\"${xY(CESIUM_WORKERS)}\"); CesiumWorkers[\"${r}\"](); `;return o=xY(s),new Worker(o,i)}if(o=e,n||(o=on(`${Sa._workerModulePrefix+r}.js`)),!Ut.supportsEsmWebWorkers())throw new ue(\"This browser is not supported. Please update your browser to continue.\");return i.type=\"module\",new Worker(o,i)}async function tZe(e,t){let n={modulePath:void 0,wasmBinaryFile:void 0,wasmBinary:void 0};if(!Ut.supportsWebAssembly()){if(!l(t.fallbackModulePath))throw new ue(`This browser does not support Web Assembly, and no backup module was provided for ${e._workerPath}`);return n.modulePath=on(t.fallbackModulePath),n}n.wasmBinaryFile=on(t.wasmBinaryFile);let i=await Xe.fetchArrayBuffer({url:n.wasmBinaryFile});return n.wasmBinary=i,n}function Sa(e,t){this._workerPath=e,this._maximumActiveTasks=g(t,Number.POSITIVE_INFINITY),this._activeTasks=0,this._nextID=0,this._webAssemblyPromise=void 0}var nZe=(e,t,n,i)=>{let o=({data:r})=>{if(r.id===t){if(l(r.error)){let s=r.error;s.name===\"RuntimeError\"?(s=new ue(r.error.message),s.stack=r.error.stack):s.name===\"DeveloperError\"?(s=new fe(r.error.message),s.stack=r.error.stack):s.name===\"Error\"&&(s=new Error(r.error.message),s.stack=r.error.stack),_Y.raiseEvent(s),i(s)}else _Y.raiseEvent(),n(r.result);e.removeEventListener(\"message\",o)}};return o},iZe=[];async function oZe(e,t,n){let i=await Promise.resolve(see());l(n)?i||(n.length=0):n=iZe;let o=e._nextID++,r=new Promise((s,a)=>{e._worker.addEventListener(\"message\",nZe(e._worker,o,s,a))});return e._worker.postMessage({id:o,baseUrl:on.getCesiumBaseUrl().url,parameters:t,canTransferArrayBuffer:i},n),r}async function rZe(e,t,n){++e._activeTasks;try{let i=await oZe(e,t,n);return--e._activeTasks,i}catch(i){throw--e._activeTasks,i}}Sa.prototype.scheduleTask=function(e,t){if(l(this._worker)||(this._worker=TY(this._workerPath)),!(this._activeTasks>=this._maximumActiveTasks))return rZe(this,e,t)};Sa.prototype.initWebAssemblyModule=async function(e){if(l(this._webAssemblyPromise))return this._webAssemblyPromise;let t=async()=>{let n=this._worker=TY(this._workerPath),i=await tZe(this,e),o=await Promise.resolve(see()),r,s=i.wasmBinary;l(s)&&o&&(r=[s]);let a=new Promise((c,d)=>{n.onmessage=function({data:u}){l(u)?c(u.result):d(new ue(\"Could not configure wasm module\"))}});return n.postMessage({canTransferArrayBuffer:o,parameters:{webAssemblyConfig:i}},r),a};return this._webAssemblyPromise=t(),this._webAssemblyPromise};Sa.prototype.isDestroyed=function(){return!1};Sa.prototype.destroy=function(){return l(this._worker)&&this._worker.terminate(),me(this)};Sa.taskCompletedEvent=_Y;Sa._defaultWorkerModulePrefix=\"Workers/\";Sa._workerModulePrefix=Sa._defaultWorkerModulePrefix;Sa._canTransferArrayBuffer=void 0;var di=Sa;function pp(){}pp._transcodeTaskProcessor=new di(\"transcodeKTX2\",Number.POSITIVE_INFINITY);pp._readyPromise=void 0;function sZe(){let e=pp._transcodeTaskProcessor.initWebAssemblyModule({wasmBinaryFile:\"ThirdParty/basis_transcoder.wasm\"}).then(function(t){if(t)return pp._transcodeTaskProcessor;throw new ue(\"KTX2 transcoder could not be initialized.\")});pp._readyPromise=e}pp.transcode=function(e,t){return l(pp._readyPromise)||sZe(),pp._readyPromise.then(function(n){let i;if(e instanceof ArrayBuffer){let o=new Uint8Array(e);return i={supportedTargetFormats:t,ktx2Buffer:o},n.scheduleTask(i,[e])}return i={supportedTargetFormats:t,ktx2Buffer:e},n.scheduleTask(i,[e.buffer])}).then(function(n){let i=n.length,o=Object.keys(n[0]),r=o.length,s;for(s=0;s<i;s++){let a=n[s];for(let c=0;c<r;c++){let d=a[o[c]];a[o[c]]=new $L(d.internalFormat,d.datatype,d.width,d.height,d.levelBuffer)}}if(r===1){for(s=0;s<i;++s)n[s]=n[s][o[0]];i===1&&(n=n[0])}return n}).catch(function(n){throw n})};var eZ=pp;var aee;cee.setKTX2SupportedFormats=function(e,t,n,i,o,r){aee={s3tc:e,pvrtc:t,astc:n,etc:i,etc1:o,bc7:r}};function cee(e){let t;return e instanceof ArrayBuffer||ArrayBuffer.isView(e)?t=Promise.resolve(e):t=Xe.createIfNeeded(e).fetchArrayBuffer(),t.then(function(n){return eZ.transcode(n,aee)})}var gl=cee;var DIt=T(S(),1);var uIt=T(S(),1);function r5(e,t,n,i,o,r,s,a,c,d,u){this._context=e,this._texture=t,this._textureTarget=n,this._targetFace=i,this._pixelDatatype=s,this._internalFormat=o,this._pixelFormat=r,this._size=a,this._preMultiplyAlpha=c,this._flipY=d,this._initialized=u}Object.defineProperties(r5.prototype,{pixelFormat:{get:function(){return this._pixelFormat}},pixelDatatype:{get:function(){return this._pixelDatatype}},_target:{get:function(){return this._targetFace}}});r5.prototype.copyFrom=function(e){let t=g(e.xOffset,0),n=g(e.yOffset,0),i=e.source,o=this._context._gl,r=this._textureTarget,s=this._targetFace;o.activeTexture(o.TEXTURE0),o.bindTexture(r,this._texture);let a=i.width,c=i.height,d=i.arrayBufferView,u=this._size,m=this._pixelFormat,p=this._internalFormat,b=this._pixelDatatype,f=this._preMultiplyAlpha,x=this._flipY,_=g(e.skipColorSpaceConversion,!1),C=4;l(d)&&(C=at.alignmentInBytes(m,b,a)),o.pixelStorei(o.UNPACK_ALIGNMENT,C),_?o.pixelStorei(o.UNPACK_COLORSPACE_CONVERSION_WEBGL,o.NONE):o.pixelStorei(o.UNPACK_COLORSPACE_CONVERSION_WEBGL,o.BROWSER_DEFAULT_WEBGL);let V=!1;if(!this._initialized){if(t===0&&n===0&&a===u&&c===u)l(d)?(o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,!1),x&&(d=at.flipY(d,m,b,u,u)),o.texImage2D(s,0,p,u,u,0,m,Qe.toWebGLConstant(b,this._context),d)):(o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,f),o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,x),o.texImage2D(s,0,p,m,Qe.toWebGLConstant(b,this._context),i)),V=!0;else{o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,!1);let L=at.createTypedArray(m,b,u,u);o.texImage2D(s,0,p,u,u,0,m,Qe.toWebGLConstant(b,this._context),L)}this._initialized=!0}V||(l(d)?(o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,!1),x&&(d=at.flipY(d,m,b,a,c)),o.texSubImage2D(s,0,t,n,a,c,m,Qe.toWebGLConstant(b,this._context),d)):(o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,f),o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,x),o.texSubImage2D(s,0,t,n,m,Qe.toWebGLConstant(b,this._context),i))),o.bindTexture(r,null)};r5.prototype.copyFromFramebuffer=function(e,t,n,i,o,r){e=g(e,0),t=g(t,0),n=g(n,0),i=g(i,0),o=g(o,this._size),r=g(r,this._size);let s=this._context._gl,a=this._textureTarget;s.activeTexture(s.TEXTURE0),s.bindTexture(a,this._texture),s.copyTexSubImage2D(this._targetFace,0,e,t,n,i,o,r),s.bindTexture(a,null),this._initialized=!0};var Hh=r5;var fIt=T(S(),1);var s5={DONT_CARE:ne.DONT_CARE,FASTEST:ne.FASTEST,NICEST:ne.NICEST,validate:function(e){return e===s5.DONT_CARE||e===s5.FASTEST||e===s5.NICEST}},Kh=Object.freeze(s5);var XIt=T(S(),1);var yIt=T(S(),1);var a5={NEAREST:ne.NEAREST,LINEAR:ne.LINEAR};a5.validate=function(e){return e===a5.NEAREST||e===a5.LINEAR};var yi=Object.freeze(a5);var _It=T(S(),1);var Zb={NEAREST:ne.NEAREST,LINEAR:ne.LINEAR,NEAREST_MIPMAP_NEAREST:ne.NEAREST_MIPMAP_NEAREST,LINEAR_MIPMAP_NEAREST:ne.LINEAR_MIPMAP_NEAREST,NEAREST_MIPMAP_LINEAR:ne.NEAREST_MIPMAP_LINEAR,LINEAR_MIPMAP_LINEAR:ne.LINEAR_MIPMAP_LINEAR};Zb.validate=function(e){return e===Zb.NEAREST||e===Zb.LINEAR||e===Zb.NEAREST_MIPMAP_NEAREST||e===Zb.LINEAR_MIPMAP_NEAREST||e===Zb.NEAREST_MIPMAP_LINEAR||e===Zb.LINEAR_MIPMAP_LINEAR};var dn=Object.freeze(Zb);var CIt=T(S(),1);var c5={CLAMP_TO_EDGE:ne.CLAMP_TO_EDGE,REPEAT:ne.REPEAT,MIRRORED_REPEAT:ne.MIRRORED_REPEAT,validate:function(e){return e===c5.CLAMP_TO_EDGE||e===c5.REPEAT||e===c5.MIRRORED_REPEAT}},En=Object.freeze(c5);function tZ(e){e=g(e,g.EMPTY_OBJECT);let t=g(e.wrapS,En.CLAMP_TO_EDGE),n=g(e.wrapT,En.CLAMP_TO_EDGE),i=g(e.minificationFilter,dn.LINEAR),o=g(e.magnificationFilter,yi.LINEAR),r=l(e.maximumAnisotropy)?e.maximumAnisotropy:1;this._wrapS=t,this._wrapT=n,this._minificationFilter=i,this._magnificationFilter=o,this._maximumAnisotropy=r}Object.defineProperties(tZ.prototype,{wrapS:{get:function(){return this._wrapS}},wrapT:{get:function(){return this._wrapT}},minificationFilter:{get:function(){return this._minificationFilter}},magnificationFilter:{get:function(){return this._magnificationFilter}},maximumAnisotropy:{get:function(){return this._maximumAnisotropy}}});tZ.equals=function(e,t){return e===t||l(e)&&l(t)&&e._wrapS===t._wrapS&&e._wrapT===t._wrapT&&e._minificationFilter===t._minificationFilter&&e._magnificationFilter===t._magnificationFilter&&e._maximumAnisotropy===t._maximumAnisotropy};tZ.NEAREST=Object.freeze(new tZ({wrapS:En.CLAMP_TO_EDGE,wrapT:En.CLAMP_TO_EDGE,minificationFilter:dn.NEAREST,magnificationFilter:yi.NEAREST}));var mn=tZ;function nZ(e){e=g(e,g.EMPTY_OBJECT);let t=e.context,n=e.source,i,o;if(l(n)){let V=[n.positiveX,n.negativeX,n.positiveY,n.negativeY,n.positiveZ,n.negativeZ];i=V[0].width,o=V[0].height}else i=e.width,o=e.height;let r=i,s=g(e.pixelDatatype,Qe.UNSIGNED_BYTE),a=g(e.pixelFormat,at.RGBA),c=at.toInternalFormat(a,s,t),d=at.textureSizeInBytes(a,s,r,r)*6,u=e.preMultiplyAlpha||a===at.RGB||a===at.LUMINANCE,m=g(e.flipY,!0),p=g(e.skipColorSpaceConversion,!1),b=t._gl,f=b.TEXTURE_CUBE_MAP,x=b.createTexture();b.activeTexture(b.TEXTURE0),b.bindTexture(f,x);function _(V,L,R,G,X){let v=L.arrayBufferView;l(v)||(v=L.bufferView);let W=4;l(v)&&(W=at.alignmentInBytes(a,s,i)),b.pixelStorei(b.UNPACK_ALIGNMENT,W),X?b.pixelStorei(b.UNPACK_COLORSPACE_CONVERSION_WEBGL,b.NONE):b.pixelStorei(b.UNPACK_COLORSPACE_CONVERSION_WEBGL,b.BROWSER_DEFAULT_WEBGL),l(v)?(b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1),G&&(v=at.flipY(v,a,s,r,r)),b.texImage2D(V,0,c,r,r,0,a,Qe.toWebGLConstant(s,t),v)):(b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,R),b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,G),b.texImage2D(V,0,c,a,Qe.toWebGLConstant(s,t),L))}l(n)?(_(b.TEXTURE_CUBE_MAP_POSITIVE_X,n.positiveX,u,m,p),_(b.TEXTURE_CUBE_MAP_NEGATIVE_X,n.negativeX,u,m,p),_(b.TEXTURE_CUBE_MAP_POSITIVE_Y,n.positiveY,u,m,p),_(b.TEXTURE_CUBE_MAP_NEGATIVE_Y,n.negativeY,u,m,p),_(b.TEXTURE_CUBE_MAP_POSITIVE_Z,n.positiveZ,u,m,p),_(b.TEXTURE_CUBE_MAP_NEGATIVE_Z,n.negativeZ,u,m,p)):(b.texImage2D(b.TEXTURE_CUBE_MAP_POSITIVE_X,0,c,r,r,0,a,Qe.toWebGLConstant(s,t),null),b.texImage2D(b.TEXTURE_CUBE_MAP_NEGATIVE_X,0,c,r,r,0,a,Qe.toWebGLConstant(s,t),null),b.texImage2D(b.TEXTURE_CUBE_MAP_POSITIVE_Y,0,c,r,r,0,a,Qe.toWebGLConstant(s,t),null),b.texImage2D(b.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,c,r,r,0,a,Qe.toWebGLConstant(s,t),null),b.texImage2D(b.TEXTURE_CUBE_MAP_POSITIVE_Z,0,c,r,r,0,a,Qe.toWebGLConstant(s,t),null),b.texImage2D(b.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,c,r,r,0,a,Qe.toWebGLConstant(s,t),null)),b.bindTexture(f,null),this._context=t,this._textureFilterAnisotropic=t._textureFilterAnisotropic,this._textureTarget=f,this._texture=x,this._pixelFormat=a,this._pixelDatatype=s,this._size=r,this._hasMipmap=!1,this._sizeInBytes=d,this._preMultiplyAlpha=u,this._flipY=m,this._sampler=void 0;let C=l(n);this._positiveX=new Hh(t,x,f,b.TEXTURE_CUBE_MAP_POSITIVE_X,c,a,s,r,u,m,C),this._negativeX=new Hh(t,x,f,b.TEXTURE_CUBE_MAP_NEGATIVE_X,c,a,s,r,u,m,C),this._positiveY=new Hh(t,x,f,b.TEXTURE_CUBE_MAP_POSITIVE_Y,c,a,s,r,u,m,C),this._negativeY=new Hh(t,x,f,b.TEXTURE_CUBE_MAP_NEGATIVE_Y,c,a,s,r,u,m,C),this._positiveZ=new Hh(t,x,f,b.TEXTURE_CUBE_MAP_POSITIVE_Z,c,a,s,r,u,m,C),this._negativeZ=new Hh(t,x,f,b.TEXTURE_CUBE_MAP_NEGATIVE_Z,c,a,s,r,u,m,C),this.sampler=l(e.sampler)?e.sampler:new mn}Object.defineProperties(nZ.prototype,{positiveX:{get:function(){return this._positiveX}},negativeX:{get:function(){return this._negativeX}},positiveY:{get:function(){return this._positiveY}},negativeY:{get:function(){return this._negativeY}},positiveZ:{get:function(){return this._positiveZ}},negativeZ:{get:function(){return this._negativeZ}},sampler:{get:function(){return this._sampler},set:function(e){let t=e.minificationFilter,n=e.magnificationFilter,i=t===dn.NEAREST_MIPMAP_NEAREST||t===dn.NEAREST_MIPMAP_LINEAR||t===dn.LINEAR_MIPMAP_NEAREST||t===dn.LINEAR_MIPMAP_LINEAR,o=this._context,r=this._pixelDatatype;(r===Qe.FLOAT&&!o.textureFloatLinear||r===Qe.HALF_FLOAT&&!o.textureHalfFloatLinear)&&(t=i?dn.NEAREST_MIPMAP_NEAREST:dn.NEAREST,n=yi.NEAREST);let s=o._gl,a=this._textureTarget;s.activeTexture(s.TEXTURE0),s.bindTexture(a,this._texture),s.texParameteri(a,s.TEXTURE_MIN_FILTER,t),s.texParameteri(a,s.TEXTURE_MAG_FILTER,n),s.texParameteri(a,s.TEXTURE_WRAP_S,e.wrapS),s.texParameteri(a,s.TEXTURE_WRAP_T,e.wrapT),l(this._textureFilterAnisotropic)&&s.texParameteri(a,this._textureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,e.maximumAnisotropy),s.bindTexture(a,null),this._sampler=e}},pixelFormat:{get:function(){return this._pixelFormat}},pixelDatatype:{get:function(){return this._pixelDatatype}},width:{get:function(){return this._size}},height:{get:function(){return this._size}},sizeInBytes:{get:function(){return this._hasMipmap?Math.floor(this._sizeInBytes*4/3):this._sizeInBytes}},preMultiplyAlpha:{get:function(){return this._preMultiplyAlpha}},flipY:{get:function(){return this._flipY}},_target:{get:function(){return this._textureTarget}}});nZ.prototype.generateMipmap=function(e){e=g(e,Kh.DONT_CARE),this._hasMipmap=!0;let t=this._context._gl,n=this._textureTarget;t.hint(t.GENERATE_MIPMAP_HINT,e),t.activeTexture(t.TEXTURE0),t.bindTexture(n,this._texture),t.generateMipmap(n),t.bindTexture(n,null)};nZ.prototype.isDestroyed=function(){return!1};nZ.prototype.destroy=function(){return this._context._gl.deleteTexture(this._texture),this._positiveX=me(this._positiveX),this._negativeX=me(this._negativeX),this._positiveY=me(this._positiveY),this._negativeY=me(this._negativeY),this._positiveZ=me(this._positiveZ),this._negativeZ=me(this._negativeZ),me(this)};var qa=nZ;var YIt=T(S(),1);function aZe(e){this.context=e,this.framebuffer=void 0,this.blendingEnabled=void 0,this.scissorTest=void 0,this.viewport=void 0,this.onlyOn3DTiles=!1}var $a=aZe;var kAt=T(S(),1);var vAt=T(S(),1);var LAt=T(S(),1);var zIt=T(S(),1),iZ=`/** * A built-in GLSL floating-point constant for converting radians to"
}