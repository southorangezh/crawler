{
  "metadata": {
    "source_file": "Cesium-1.116.0-fix-26\\Cesium.js",
    "chunk_index": 118,
    "total_chunks": 194,
    "chunk_size": 43789,
    "word_count": 800,
    "model_kwargs": {
      "model": "text-embedding-3-large",
      "dimensions": 3072,
      "encoding_format": "float"
    },
    "text_splitter": {
      "split_by": "word",
      "chunk_size": 800,
      "chunk_overlap": 200
    },
    "created_at": "2025-12-17T23:57:49.721Z"
  },
  "content": "Xtt(e,t){t.zip64=!0;let n=ma(e.data),i=Gtt.filter(([o,r])=>t[o]==r);for(let o=0,r=0;o<i.length;o++){let[s,a]=i[o];if(t[s]==a){let c=Ett[a];t[s]=e[s]=c.getValue(n,r),r+=c.bytes}else if(e[s])throw new Error(Ltt)}}async function b0e(e,t,n,i,o){let r=ma(e.data),s=new B0;s.append(o[n]);let a=ma(new Uint8Array(4));a.setUint32(0,s.get(),!0);let c=cs(r,1);Object.assign(e,{version:bV(r,0),[t]:uQ(e.data.subarray(5)),valid:!o.bitFlag.languageEncodingFlag&&c==cs(a,0)}),e.valid&&(i[t]=e[t],i[t+\"UTF8\"]=!0)}function Itt(e,t,n){let i=ma(e.data),o=bV(i,4);Object.assign(e,{vendorVersion:bV(i,0),vendorId:bV(i,2),strength:o,originalCompressionMethod:n,compressionMethod:ua(i,5)}),t.compressionMethod=e.compressionMethod}function Wtt(e,t){let n=ma(e.data),i=4,o;try{for(;i<e.data.length&&!o;){let r=ua(n,i),s=ua(n,i+2);r==1&&(o=e.data.slice(i+4,i+4+s)),i+=4+s}}catch{}try{if(o&&o.length==24){let r=ma(o),s=r.getBigUint64(0,!0),a=r.getBigUint64(8,!0),c=r.getBigUint64(16,!0);Object.assign(e,{rawLastModDate:s,rawLastAccessDate:a,rawCreationDate:c});let d=VQ(s),u=VQ(a),m=VQ(c),p={lastModDate:d,lastAccessDate:u,creationDate:m};Object.assign(e,p),Object.assign(t,p)}}catch{}}function Ptt(e,t,n){let i=ma(e.data),o=bV(i,0),r=[],s=[];n?((o&1)==1&&(r.push(pV),s.push(LU)),(o&2)==2&&(r.push(Vv),s.push(d0e)),(o&4)==4&&(r.push(Lv),s.push(u0e))):e.data.length>=5&&(r.push(pV),s.push(LU));let a=1;r.forEach((c,d)=>{if(e.data.length>=a+4){let u=cs(i,a);t[c]=e[c]=new Date(u*1e3);let m=s[d];e[m]=u}a+=4})}async function vtt(e,t,n,i,o){let r=new Uint8Array(4),s=ma(r);Ftt(s,0,t);let a=i+o;return await c(i)||await c(Math.min(a,n));async function c(d){let u=n-d,m=await va(e,u,d);for(let p=m.length-i;p>=0;p--)if(m[p]==r[0]&&m[p+1]==r[1]&&m[p+2]==r[2]&&m[p+3]==r[3])return{offset:u+p,buffer:m.slice(p,p+i).buffer}}}function Bl(e,t,n){return t[n]===To?e.options[n]:t[n]}function wtt(e){let t=(e&4294901760)>>16,n=e&65535;try{return new Date(1980+((t&65024)>>9),((t&480)>>5)-1,t&31,(n&63488)>>11,(n&2016)>>5,(n&31)*2,0)}catch{}}function VQ(e){return new Date(Number(e/BigInt(1e4)-BigInt(116444736e5)))}function bV(e,t){return e.getUint8(t)}function ua(e,t){return e.getUint16(t,!0)}function cs(e,t){return e.getUint32(t,!0)}function ZU(e,t){return Number(e.getBigUint64(t,!0))}function Ftt(e,t,n){e.setUint32(t,n,!0)}function ma(e){return new DataView(e.buffer)}var fhi=T(S(),1);var ktt=\"File already exists\",Utt=\"Zip file comment exceeds 64KB\",Dtt=\"File entry comment exceeds 64KB\",Btt=\"File entry name exceeds 64KB\",T0e=\"Version exceeds 65535\",Ytt=\"The strength must equal 1, 2, or 3\",Ott=\"Extra field type exceeds 65535\",ztt=\"Extra field data exceeds 64KB\",NQ=\"Zip64 is not supported (make sure 'keepOrder' is set to 'true')\",S0e=new Uint8Array([7,0,2,0,65,69,3,0,0]),AQ=0,C0e=[],FU=class{constructor(t,n={}){t=CU(t);let i=t.availableSize!==To&&t.availableSize>0&&t.availableSize!==1/0&&t.maxSize!==To&&t.maxSize>0&&t.maxSize!==1/0;Object.assign(this,{writer:t,addSplitZipSignature:i,options:n,config:pv(),files:new Map,filenames:new Set,offset:t.writable.size,pendingEntriesSize:0,pendingAddFileCalls:new Set,bufferedWrites:0})}async add(t=\"\",n,i={}){let o=this,{pendingAddFileCalls:r,config:s}=o;AQ<s.maxWorkers?AQ++:await new Promise(c=>C0e.push(c));let a;try{if(t=t.trim(),o.filenames.has(t))throw new Error(ktt);return o.filenames.add(t),a=Htt(o,t,n,i),r.add(a),await a}catch(c){throw o.filenames.delete(t),c}finally{r.delete(a);let c=C0e.shift();c?c():AQ--}}async close(t=new Uint8Array,n={}){let i=this,{pendingAddFileCalls:o,writer:r}=this,{writable:s}=r;for(;o.size;)await Promise.allSettled(Array.from(o));return await nnt(this,t,n),No(i,n,\"preventClose\")||await s.getWriter().close(),r.getData?r.getData():s}};async function Htt(e,t,n,i){t=t.trim(),i.directory&&!t.endsWith(lV)?t+=lV:i.directory=t.endsWith(lV);let o=No(e,i,\"encodeText\",nU),r=o(t);if(Oi(r)>65535)throw new Error(Btt);let s=i.comment||\"\",a=o(s);if(Oi(a)>65535)throw new Error(Dtt);let c=No(e,i,\"version\",20);if(c>65535)throw new Error(T0e);let d=No(e,i,\"versionMadeBy\",20);if(d>65535)throw new Error(T0e);let u=No(e,i,pV,new Date),m=No(e,i,Vv),p=No(e,i,Lv),b=No(e,i,TQ,!0),f=No(e,i,xQ,0),x=No(e,i,_Q,0),_=No(e,i,\"password\"),C=No(e,i,\"rawPassword\"),V=No(e,i,\"encryptionStrength\",3),L=No(e,i,\"zipCrypto\"),R=No(e,i,\"extendedTimestamp\",!0),G=No(e,i,\"keepOrder\",!0),X=No(e,i,\"level\"),v=No(e,i,\"useWebWorkers\"),W=No(e,i,\"bufferedWrite\"),F=No(e,i,\"dataDescriptorSignature\",!1),A=No(e,i,\"signal\"),y=No(e,i,\"useCompressionStream\"),Z=No(e,i,\"dataDescriptor\",!0),E=No(e,i,SQ);if(_!==To&&V!==To&&(V<1||V>3))throw new Error(Ytt);let I=new Uint8Array,{extraField:w}=i;if(w){let Le=0,Re=0;w.forEach(ke=>Le+=4+Oi(ke)),I=new Uint8Array(Le),w.forEach((ke,rt)=>{if(rt>65535)throw new Error(Ott);if(Oi(ke)>65535)throw new Error(ztt);Ss(I,new Uint16Array([rt]),Re),Ss(I,new Uint16Array([Oi(ke)]),Re+2),Ss(I,ke,Re+4),Re+=4+Oi(ke)})}let k=0,B=0,U=0,Y=E===!0;n&&(n=SU(n),await vf(n),n.size===To?(Z=!0,(E||E===To)&&(E=!0,U=k=4294967295)):(U=n.size,k=int(U)));let{diskOffset:N,diskNumber:J,maxSize:z}=e.writer,ee=Y||U>=4294967295,H=Y||k>=4294967295,j=Y||e.offset+e.pendingEntriesSize-N>=4294967295,pe=No(e,i,\"supportZip64SplitFile\",!0)&&Y||J+Math.ceil(e.pendingEntriesSize/z)>=65535;if(j||ee||H||pe){if(E===!1||!G)throw new Error(NQ);E=!0}E=E||!1,i=Object.assign({},i,{rawFilename:r,rawComment:a,version:c,versionMadeBy:d,lastModDate:u,lastAccessDate:m,creationDate:p,rawExtraField:I,zip64:E,zip64UncompressedSize:ee,zip64CompressedSize:H,zip64Offset:j,zip64DiskNumberStart:pe,password:_,rawPassword:C,level:!y&&e.config.CompressionStream===To?0:X,useWebWorkers:v,encryptionStrength:V,extendedTimestamp:R,zipCrypto:L,bufferedWrite:W,keepOrder:G,dataDescriptor:Z,dataDescriptorSignature:F,signal:A,msDosCompatible:b,internalFileAttribute:f,externalFileAttribute:x,useCompressionStream:y});let _e=Qtt(i),ae=qtt(i),ye=Oi(_e.localHeaderArray,ae.dataDescriptorArray);B=ye+k,e.options.usdz&&(B+=B+64),e.pendingEntriesSize+=B;let Te;try{Te=await Ktt(e,t,n,{headerInfo:_e,dataDescriptorInfo:ae,metadataSize:ye},i)}finally{e.pendingEntriesSize-=B}return Object.assign(Te,{name:t,comment:s,extraField:w}),new ag(Te)}async function Ktt(e,t,n,i,o){let{files:r,writer:s}=e,{keepOrder:a,dataDescriptor:c,signal:d}=o,{headerInfo:u}=i,{usdz:m}=e.options,p=Array.from(r.values()).pop(),b={},f,x,_,C,V,L,R;r.set(t,b);try{let W;a&&(W=p&&p.lock,G()),(o.bufferedWrite||e.writerLocked||e.bufferedWrites&&a||!c)&&!m?(L=new TransformStream,R=new Response(L.readable).blob(),L.writable.size=0,f=!0,e.bufferedWrites++,await vf(s)):(L=s,await X()),await vf(L);let{writable:F}=s,{diskOffset:A}=s;if(e.addSplitZipSignature){delete e.addSplitZipSignature;let Z=new Uint8Array(4),E=wa(Z);Yi(E,0,134695760),await wf(F,Z),e.offset+=4}m&&jtt(i,e.offset-A),f||(await W,await v(F));let{diskNumber:y}=s;if(V=!0,b.diskNumberStart=y,b=await Jtt(n,L,b,i,e.config,o),V=!1,r.set(t,b),b.filename=t,f){await L.writable.getWriter().close();let Z=await R;await W,await X(),C=!0,c||(Z=await ent(b,Z,F,o)),await v(F),b.diskNumberStart=s.diskNumber,A=s.diskOffset,await Z.stream().pipeTo(F,{preventClose:!0,preventAbort:!0,signal:d}),F.size+=Z.size,C=!1}if(b.offset=e.offset-A,b.zip64)tnt(b,o);else if(b.offset>=4294967295)throw new Error(NQ);return e.offset+=b.size,b}catch(W){if(f&&C||!f&&V){if(e.hasCorruptedEntries=!0,W)try{W.corruptedEntry=!0}catch{}f?e.offset+=L.writable.size:e.offset=L.writable.size}throw r.delete(t),W}finally{f&&e.bufferedWrites--,_&&_(),x&&x()}function G(){b.lock=new Promise(W=>_=W)}async function X(){e.writerLocked=!0;let{lockWriter:W}=e;e.lockWriter=new Promise(F=>x=()=>{e.writerLocked=!1,F()}),await W}async function v(W){Oi(u.localHeaderArray)>s.availableSize&&(s.availableSize=0,await wf(W,new Uint8Array))}}async function Jtt(e,t,{diskNumberStart:n,lock:i},o,r,s){let{headerInfo:a,dataDescriptorInfo:c,metadataSize:d}=o,{localHeaderArray:u,headerArray:m,lastModDate:p,rawLastModDate:b,encrypted:f,compressed:x,version:_,compressionMethod:C,rawExtraFieldExtendedTimestamp:V,extraFieldExtendedTimestampFlag:L,rawExtraFieldNTFS:R,rawExtraFieldAES:G}=a,{dataDescriptorArray:X}=c,{rawFilename:v,lastAccessDate:W,creationDate:F,password:A,rawPassword:y,level:Z,zip64:E,zip64UncompressedSize:I,zip64CompressedSize:w,zip64Offset:k,zip64DiskNumberStart:B,zipCrypto:U,dataDescriptor:Y,directory:N,versionMadeBy:J,rawComment:z,rawExtraField:ee,useWebWorkers:H,onstart:j,onprogress:q,onend:pe,signal:_e,encryptionStrength:ae,extendedTimestamp:ye,msDosCompatible:Te,internalFileAttribute:Le,externalFileAttribute:Re,useCompressionStream:ke}=s,rt={lock:i,versionMadeBy:J,zip64:E,directory:!!N,filenameUTF8:!0,rawFilename:v,commentUTF8:!0,rawComment:z,rawExtraFieldExtendedTimestamp:V,rawExtraFieldNTFS:R,rawExtraFieldAES:G,rawExtraField:ee,extendedTimestamp:ye,msDosCompatible:Te,internalFileAttribute:Le,externalFileAttribute:Re,diskNumberStart:n},yt=0,Dt=0,it,{writable:Ie}=t;if(e){e.chunkSize=tU(r),await wf(Ie,u);let Ke=e.readable,ct=Ke.size=e.size,Jt={options:{codecType:hU,level:Z,rawPassword:y,password:A,encryptionStrength:ae,zipCrypto:f&&U,passwordVerification:f&&U&&b>>8&255,signed:!0,compressed:x,encrypted:f,useWebWorkers:H,useCompressionStream:ke,transferStreams:!1},config:r,streamOptions:{signal:_e,size:ct,onstart:j,onprogress:q,onend:pe}},be=await bU({readable:Ke,writable:Ie},Jt);Dt=be.inputSize,yt=be.outputSize,it=be.signature,Ie.size+=Dt}else await wf(Ie,u);let ft;if(E){let Ke=4;I&&(Ke+=8),w&&(Ke+=8),k&&(Ke+=8),B&&(Ke+=4),ft=new Uint8Array(Ke)}else ft=new Uint8Array;return $tt({signature:it,rawExtraFieldZip64:ft,compressedSize:yt,uncompressedSize:Dt,headerInfo:a,dataDescriptorInfo:c},s),Y&&await wf(Ie,X),Object.assign(rt,{uncompressedSize:Dt,compressedSize:yt,lastModDate:p,rawLastModDate:b,creationDate:F,lastAccessDate:W,encrypted:f,size:d+yt,compressionMethod:C,version:_,headerArray:m,signature:it,rawExtraFieldZip64:ft,extraFieldExtendedTimestampFlag:L,zip64UncompressedSize:I,zip64CompressedSize:w,zip64Offset:k,zip64DiskNumberStart:B}),rt}function Qtt(e){let{rawFilename:t,lastModDate:n,lastAccessDate:i,creationDate:o,rawPassword:r,password:s,level:a,zip64:c,zipCrypto:d,dataDescriptor:u,directory:m,rawExtraField:p,encryptionStrength:b,extendedTimestamp:f}=e,x=a!==0&&!m,_=!!(s&&Oi(s)||r&&Oi(r)),C=e.version,V;if(_&&!d){V=new Uint8Array(Oi(S0e)+2);let B=wa(V);ro(B,0,39169),Ss(V,S0e,2),AU(B,8,b)}else V=new Uint8Array;let L,R,G;if(f){R=new Uint8Array(9+(i?4:0)+(o?4:0));let B=wa(R);ro(B,0,21589),ro(B,2,Oi(R)-4),G=1+(i?2:0)+(o?4:0),AU(B,4,G);let U=5;Yi(B,U,Math.floor(n.getTime()/1e3)),U+=4,i&&(Yi(B,U,Math.floor(i.getTime()/1e3)),U+=4),o&&Yi(B,U,Math.floor(o.getTime()/1e3));try{L=new Uint8Array(36);let Y=wa(L),N=MQ(n);ro(Y,0,10),ro(Y,2,32),ro(Y,8,1),ro(Y,10,24),Yl(Y,12,N),Yl(Y,20,MQ(i)||N),Yl(Y,28,MQ(o)||N)}catch{L=new Uint8Array}}else L=R=new Uint8Array;let X=2048;u&&(X=X|8);let v=0;x&&(v=8),c&&(C=C>45?C:45),_&&(X=X|1,d||(C=C>51?C:51,v=99,x&&(V[9]=8)));let W=new Uint8Array(26),F=wa(W);ro(F,0,C),ro(F,2,X),ro(F,4,v);let A=new Uint32Array(1),y=wa(A),Z;n<jJ?Z=jJ:n>QJ?Z=QJ:Z=n,ro(y,0,(Z.getHours()<<6|Z.getMinutes())<<5|Z.getSeconds()/2),ro(y,2,(Z.getFullYear()-1980<<4|Z.getMonth()+1)<<5|Z.getDate());let E=A[0];Yi(F,6,E),ro(F,22,Oi(t));let I=Oi(V,R,L,p);ro(F,24,I);let w=new Uint8Array(30+Oi(t)+I),k=wa(w);return Yi(k,0,67324752),Ss(w,W,4),Ss(w,t,30),Ss(w,V,30+Oi(t)),Ss(w,R,30+Oi(t,V)),Ss(w,L,30+Oi(t,V,R)),Ss(w,p,30+Oi(t,V,R,L)),{localHeaderArray:w,headerArray:W,headerView:F,lastModDate:n,rawLastModDate:E,encrypted:_,compressed:x,version:C,compressionMethod:v,extraFieldExtendedTimestampFlag:G,rawExtraFieldExtendedTimestamp:R,rawExtraFieldNTFS:L,rawExtraFieldAES:V,extraFieldLength:I}}function jtt(e,t){let{headerInfo:n}=e,{localHeaderArray:i,extraFieldLength:o}=n,r=wa(i),s=64-(t+Oi(i))%64;s<4&&(s+=64);let a=new Uint8Array(s),c=wa(a);ro(c,0,6534),ro(c,2,s-2);let d=i;n.localHeaderArray=i=new Uint8Array(Oi(d)+s),Ss(i,d),Ss(i,a,Oi(d)),r=wa(i),ro(r,28,o+s),e.metadataSize+=s}function qtt(e){let{zip64:t,dataDescriptor:n,dataDescriptorSignature:i}=e,o=new Uint8Array,r,s=0;return n&&(o=new Uint8Array(t?i?24:20:i?16:12),r=wa(o),i&&(s=4,Yi(r,0,134695760))),{dataDescriptorArray:o,dataDescriptorView:r,dataDescriptorOffset:s}}function $tt(e,t){let{signature:n,rawExtraFieldZip64:i,compressedSize:o,uncompressedSize:r,headerInfo:s,dataDescriptorInfo:a}=e,{headerView:c,encrypted:d}=s,{dataDescriptorView:u,dataDescriptorOffset:m}=a,{zip64:p,zip64UncompressedSize:b,zip64CompressedSize:f,zipCrypto:x,dataDescriptor:_}=t;if((!d||x)&&n!==To&&(Yi(c,10,n),_&&Yi(u,m,n)),p){let C=wa(i);ro(C,0,1),ro(C,2,Oi(i)-4);let V=4;b&&(Yi(c,18,4294967295),Yl(C,V,BigInt(r)),V+=8),f&&(Yi(c,14,4294967295),Yl(C,V,BigInt(o))),_&&(Yl(u,m+4,BigInt(o)),Yl(u,m+12,BigInt(r)))}else Yi(c,14,o),Yi(c,18,r),_&&(Yi(u,m+4,o),Yi(u,m+8,r))}async function ent(e,t,n,{zipCrypto:i}){let o;o=await t.slice(0,26).arrayBuffer(),o.byteLength!=26&&(o=o.slice(0,26));let r=new DataView(o);return(!e.encrypted||i)&&Yi(r,14,e.signature),e.zip64?(Yi(r,18,4294967295),Yi(r,22,4294967295)):(Yi(r,18,e.compressedSize),Yi(r,22,e.uncompressedSize)),await wf(n,new Uint8Array(o)),t.slice(o.byteLength)}function tnt(e,t){let{rawExtraFieldZip64:n,offset:i,diskNumberStart:o}=e,{zip64UncompressedSize:r,zip64CompressedSize:s,zip64Offset:a,zip64DiskNumberStart:c}=t,d=wa(n),u=4;r&&(u+=8),s&&(u+=8),a&&(Yl(d,u,BigInt(i)),u+=8),c&&Yi(d,u,o)}async function nnt(e,t,n){let{files:i,writer:o}=e,{diskOffset:r,writable:s}=o,{diskNumber:a}=o,c=0,d=0,u=e.offset-r,m=i.size;for(let[,G]of i){let{rawFilename:X,rawExtraFieldZip64:v,rawExtraFieldAES:W,rawComment:F,rawExtraFieldNTFS:A,rawExtraField:y,extendedTimestamp:Z,extraFieldExtendedTimestampFlag:E,lastModDate:I}=G,w;if(Z){w=new Uint8Array(9);let k=wa(w);ro(k,0,21589),ro(k,2,5),AU(k,4,E),Yi(k,5,Math.floor(I.getTime()/1e3))}else w=new Uint8Array;G.rawExtraFieldCDExtendedTimestamp=w,d+=46+Oi(X,F,v,W,A,w,y)}let p=new Uint8Array(d),b=wa(p);await vf(o);let f=0;for(let[G,X]of Array.from(i.values()).entries()){let{offset:v,rawFilename:W,rawExtraFieldZip64:F,rawExtraFieldAES:A,rawExtraFieldCDExtendedTimestamp:y,rawExtraFieldNTFS:Z,rawExtraField:E,rawComment:I,versionMadeBy:w,headerArray:k,directory:B,zip64:U,zip64UncompressedSize:Y,zip64CompressedSize:N,zip64DiskNumberStart:J,zip64Offset:z,msDosCompatible:ee,internalFileAttribute:H,externalFileAttribute:j,diskNumberStart:q,uncompressedSize:pe,compressedSize:_e}=X,ae=Oi(F,A,y,Z,E);Yi(b,c,33639248),ro(b,c+4,w);let ye=wa(k);Y||Yi(ye,18,pe),N||Yi(ye,14,_e),Ss(p,k,c+6),ro(b,c+30,ae),ro(b,c+32,Oi(I)),ro(b,c+34,U&&J?65535:q),ro(b,c+36,H),j?Yi(b,c+38,j):B&&ee&&AU(b,c+38,16),Yi(b,c+42,U&&z?4294967295:v),Ss(p,W,c+46),Ss(p,F,c+46+Oi(W)),Ss(p,A,c+46+Oi(W,F)),Ss(p,y,c+46+Oi(W,F,A)),Ss(p,Z,c+46+Oi(W,F,A,y)),Ss(p,E,c+46+Oi(W,F,A,y,Z)),Ss(p,I,c+46+Oi(W)+ae);let Te=46+Oi(W,I)+ae;if(c-f>o.availableSize&&(o.availableSize=0,await wf(s,p.slice(f,c)),f=c),c+=Te,n.onprogress)try{await n.onprogress(G+1,i.size,new ag(X))}catch{}}await wf(s,f?p.slice(f):p);let x=o.diskNumber,{availableSize:_}=o;_<22&&x++;let C=No(e,n,\"zip64\");if(u>=4294967295||d>=4294967295||m>=65535||x>=65535){if(C===!1)throw new Error(NQ);C=!0}let V=new Uint8Array(C?98:22),L=wa(V);c=0,C&&(Yi(L,0,101075792),Yl(L,4,BigInt(44)),ro(L,12,45),ro(L,14,45),Yi(L,16,x),Yi(L,20,a),Yl(L,24,BigInt(m)),Yl(L,32,BigInt(m)),Yl(L,40,BigInt(d)),Yl(L,48,BigInt(u)),Yi(L,56,117853008),Yl(L,64,BigInt(u)+BigInt(d)),Yi(L,72,x+1),No(e,n,\"supportZip64SplitFile\",!0)&&(x=65535,a=65535),m=65535,u=4294967295,d=4294967295,c+=76),Yi(L,c,101010256),ro(L,c+4,x),ro(L,c+6,a),ro(L,c+8,m),ro(L,c+10,m),Yi(L,c+12,d),Yi(L,c+16,u);let R=Oi(t);if(R)if(R<=65535)ro(L,c+20,R);else throw new Error(Utt);await wf(s,V),R&&await wf(s,t)}async function wf(e,t){let n=e.getWriter();try{await n.ready,e.size+=Oi(t),await n.write(t)}finally{n.releaseLock()}}function MQ(e){if(e)return(BigInt(e.getTime())+BigInt(116444736e5))*BigInt(1e4)}function No(e,t,n,i){let o=t[n]===To?e.options[n]:t[n];return o===To?i:o}function int(e){return e+5*(Math.floor(e/16383)+1)}function AU(e,t,n){e.setUint8(t,n)}function ro(e,t,n){e.setUint16(t,n,!0)}function Yi(e,t,n){e.setUint32(t,n,!0)}function Yl(e,t,n){e.setBigUint64(t,n,!0)}function Ss(e,t,n){e.set(t,n)}function wa(e){return new DataView(e.buffer)}function Oi(...e){let t=0;return e.forEach(n=>n&&(t+=n.length)),t}dV({Deflate:cpe,Inflate:Xpe});var Rhi=T(S(),1);function ont(e){return typeof e==\"string\"&&(e=document.getElementById(e)),e}var Xn=ont;var Ehi=T(S(),1);function rnt(e,t){this.position=e,this.headingPitchRange=t}var Gv=rnt;var Phi=T(S(),1);function MU(e,t){this.id=t,this.name=e,this.playlistIndex=0,this.playlist=[],this.tourStart=new ge,this.tourEnd=new ge,this.entryStart=new ge,this.entryEnd=new ge,this._activeEntries=[]}MU.prototype.addPlaylistEntry=function(e){this.playlist.push(e)};MU.prototype.play=function(e,t){this.tourStart.raiseEvent();let n=this;Z0e.call(this,e,t,function(i){n.playlistIndex=0,i||L0e(n._activeEntries),n.tourEnd.raiseEvent(i)})};MU.prototype.stop=function(){L0e(this._activeEntries)};function L0e(e){for(let t=e.pop();t!==void 0;t=e.pop())t.stop()}function Z0e(e,t,n){let i=this.playlist[this.playlistIndex];if(i){let o=snt.bind(this,e,t,n);if(this._activeEntries.push(i),this.entryStart.raiseEvent(i),i.blocking)i.play(o,e.scene.camera,t);else{let r=this;i.play(function(){r.entryEnd.raiseEvent(i);let s=r._activeEntries.indexOf(i);s>=0&&r._activeEntries.splice(s,1)}),o(e,t,n)}}else l(n)&&n(!1)}function snt(e,t,n,i){let o=this.playlist[this.playlistIndex];if(this.entryEnd.raiseEvent(o,i),i)n(i);else{let r=this._activeEntries.indexOf(o);r>=0&&this._activeEntries.splice(r,1),this.playlistIndex++,Z0e.call(this,e,t,n)}}var Ev=MU;var Qhi=T(S(),1);var Yhi=T(S(),1);var Uhi=T(S(),1),Ei=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return this.None(e)},Out:function(e){return this.None(e)},InOut:function(e){return this.None(e)}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(e){var t=1.70158;return e===1?1:e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return e===0?0:--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)}}),Bounce:Object.freeze({In:function(e){return 1-Ei.Bounce.Out(1-e)},Out:function(e){return e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375},InOut:function(e){return e<.5?Ei.Bounce.In(e*2)*.5:Ei.Bounce.Out(e*2-1)*.5+.5}}),generatePow:function(e){return e===void 0&&(e=4),e=e<Number.EPSILON?Number.EPSILON:e,e=e>1e4?1e4:e,{In:function(t){return Math.pow(t,e)},Out:function(t){return 1-Math.pow(1-t,e)},InOut:function(t){return t<.5?Math.pow(t*2,e)/2:(1-Math.pow(2-t*2,e))/2+.5}}}}),Xv=function(){return performance.now()},ant=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var t=this;return Object.keys(this._tweens).map(function(n){return t._tweens[n]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},e.prototype.remove=function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},e.prototype.update=function(t,n){t===void 0&&(t=Xv()),n===void 0&&(n=!1);var i=Object.keys(this._tweens);if(i.length===0)return!1;for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var o=0;o<i.length;o++){var r=this._tweens[i[o]],s=!n;r&&r.update(t,s)===!1&&!n&&delete this._tweens[i[o]]}i=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),yV={Linear:function(e,t){var n=e.length-1,i=n*t,o=Math.floor(i),r=yV.Utils.Linear;return t<0?r(e[0],e[1],i):t>1?r(e[n],e[n-1],n-i):r(e[o],e[o+1>n?n:o+1],i-o)},Bezier:function(e,t){for(var n=0,i=e.length-1,o=Math.pow,r=yV.Utils.Bernstein,s=0;s<=i;s++)n+=o(1-t,i-s)*o(t,s)*e[s]*r(i,s);return n},CatmullRom:function(e,t){var n=e.length-1,i=n*t,o=Math.floor(i),r=yV.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(o=Math.floor(i=n*(1+t))),r(e[(o-1+n)%n],e[o],e[(o+1)%n],e[(o+2)%n],i-o)):t<0?e[0]-(r(e[0],e[0],e[1],e[1],-i)-e[0]):t>1?e[n]-(r(e[n],e[n],e[n-1],e[n-1],i-n)-e[n]):r(e[o?o-1:0],e[o],e[n<o+1?n:o+1],e[n<o+2?n:o+2],i-o)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=yV.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1;if(e[t])return e[t];for(var i=t;i>1;i--)n*=i;return e[t]=n,n}}(),CatmullRom:function(e,t,n,i,o){var r=(n-e)*.5,s=(i-t)*.5,a=o*o,c=o*a;return(2*t-2*n+r+s)*c+(-3*t+3*n-2*r-s)*a+r*o+t}}},R0e=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),kQ=new ant,G0e=function(){function e(t,n){n===void 0&&(n=kQ),this._object=t,this._group=n,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Ei.Linear.None,this._interpolationFunction=yV.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=R0e.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.getDuration=function(){return this._duration},e.prototype.to=function(t,n){if(n===void 0&&(n=1e3),this._isPlaying)throw new Error(\"Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.\");return this._valuesEnd=t,this._propertiesAreSetUp=!1,this._duration=n<0?0:n,this},e.prototype.duration=function(t){return t===void 0&&(t=1e3),this._duration=t<0?0:t,this},e.prototype.dynamic=function(t){return t===void 0&&(t=!1),this._isDynamic=t,this},e.prototype.start=function(t,n){if(t===void 0&&(t=Xv()),n===void 0&&(n=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var i in this._valuesStartRepeat)this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=t,this._startTime+=this._delayTime,!this._propertiesAreSetUp||n){if(this._propertiesAreSetUp=!0,!this._isDynamic){var o={};for(var r in this._valuesEnd)o[r]=this._valuesEnd[r];this._valuesEnd=o}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,n)}return this},e.prototype.startFromCurrentValues=function(t){return this.start(t,!0)},e.prototype._setupProperties=function(t,n,i,o,r){for(var s in i){var a=t[s],c=Array.isArray(a),d=c?\"array\":typeof a,u=!c&&Array.isArray(i[s]);if(!(d===\"undefined\"||d===\"function\")){if(u){var m=i[s];if(m.length===0)continue;for(var p=[a],b=0,f=m.length;b<f;b+=1){var x=this._handleRelativeValue(a,m[b]);if(isNaN(x)){u=!1,console.warn(\"Found invalid interpolation list. Skipping.\");break}p.push(x)}u&&(i[s]=p)}if((d===\"object\"||c)&&a&&!u){n[s]=c?[]:{};var _=a;for(var C in _)n[s][C]=_[C];o[s]=c?[]:{};var m=i[s];if(!this._isDynamic){var V={};for(var C in m)V[C]=m[C];i[s]=m=V}this._setupProperties(_,n[s],m,o[s],r)}else(typeof n[s]>\"u\"||r)&&(n[s]=a),c||(n[s]*=1),u?o[s]=i[s].slice().reverse():o[s]=n[s]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(t){return t===void 0&&(t=Xv()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=t,this._group&&this._group.remove(this),this)},e.prototype.resume=function(t){return t===void 0&&(t=Xv()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=t-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},e.prototype.stopChainedTweens=function(){for(var t=0,n=this._chainedTweens.length;t<n;t++)this._chainedTweens[t].stop();return this},e.prototype.group=function(t){return t===void 0&&(t=kQ),this._group=t,this},e.prototype.delay=function(t){return t===void 0&&(t=0),this._delayTime=t,this},e.prototype.repeat=function(t){return t===void 0&&(t=0),this._initialRepeat=t,this._repeat=t,this},e.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},e.prototype.yoyo=function(t){return t===void 0&&(t=!1),this._yoyo=t,this},e.prototype.easing=function(t){return t===void 0&&(t=Ei.Linear.None),this._easingFunction=t,this},e.prototype.interpolation=function(t){return t===void 0&&(t=yV.Linear),this._interpolationFunction=t,this},e.prototype.chain=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._chainedTweens=t,this},e.prototype.onStart=function(t){return this._onStartCallback=t,this},e.prototype.onEveryStart=function(t){return this._onEveryStartCallback=t,this},e.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},e.prototype.onRepeat=function(t){return this._onRepeatCallback=t,this},e.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},e.prototype.onStop=function(t){return this._onStopCallback=t,this},e.prototype.update=function(t,n){var i=this,o;if(t===void 0&&(t=Xv()),n===void 0&&(n=!0),this._isPaused)return!0;var r,s=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(t>s)return!1;n&&this.start(t,!0)}if(this._goToEnd=!1,t<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var a=t-this._startTime,c=this._duration+((o=this._repeatDelayTime)!==null&&o!==void 0?o:this._delayTime),d=this._duration+this._repeat*c,u=function(){if(i._duration===0||a>d)return 1;var _=Math.trunc(a/c),C=a-_*c,V=Math.min(C/i._duration,1);return V===0&&a===i._duration?1:V},m=u(),p=this._easingFunction(m);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,p),this._onUpdateCallback&&this._onUpdateCallback(this._object,m),this._duration===0||a>=this._duration)if(this._repeat>0){var b=Math.min(Math.trunc((a-this._duration)/c)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=b);for(r in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[r]==\"string\"&&(this._valuesStartRepeat[r]=this._valuesStartRepeat[r]+parseFloat(this._valuesEnd[r])),this._yoyo&&this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=c*b,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var f=0,x=this._chainedTweens.length;f<x;f++)this._chainedTweens[f].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(t,n,i,o){for(var r in i)if(n[r]!==void 0){var s=n[r]||0,a=i[r],c=Array.isArray(t[r]),d=Array.isArray(a),u=!c&&d;u?t[r]=this._interpolationFunction(a,o):typeof a==\"object\"&&a?this._updateProperties(t[r],s,a,o):(a=this._handleRelativeValue(s,a),typeof a==\"number\"&&(t[r]=s+(a-s)*o))}},e.prototype._handleRelativeValue=function(t,n){return typeof n!=\"string\"?n:n.charAt(0)===\"+\"||n.charAt(0)===\"-\"?t+parseFloat(n):parseFloat(n)},e.prototype._swapEndStartRepeatValues=function(t){var n=this._valuesStartRepeat[t],i=this._valuesEnd[t];typeof i==\"string\"?this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(i):this._valuesStartRepeat[t]=this._valuesEnd[t],this._valuesEnd[t]=n},e}();var vhi=R0e.nextId,Ff=kQ,whi=Ff.getAll.bind(Ff),Fhi=Ff.removeAll.bind(Ff),Ahi=Ff.add.bind(Ff),Mhi=Ff.remove.bind(Ff),Nhi=Ff.update.bind(Ff);var cnt={LINEAR_NONE:Ei.Linear.None,QUADRATIC_IN:Ei.Quadratic.In,QUADRATIC_OUT:Ei.Quadratic.Out,QUADRATIC_IN_OUT:Ei.Quadratic.InOut,CUBIC_IN:Ei.Cubic.In,CUBIC_OUT:Ei.Cubic.Out,CUBIC_IN_OUT:Ei.Cubic.InOut,QUARTIC_IN:Ei.Quartic.In,QUARTIC_OUT:Ei.Quartic.Out,QUARTIC_IN_OUT:Ei.Quartic.InOut,QUINTIC_IN:Ei.Quintic.In,QUINTIC_OUT:Ei.Quintic.Out,QUINTIC_IN_OUT:Ei.Quintic.InOut,SINUSOIDAL_IN:Ei.Sinusoidal.In,SINUSOIDAL_OUT:Ei.Sinusoidal.Out,SINUSOIDAL_IN_OUT:Ei.Sinusoidal.InOut,EXPONENTIAL_IN:Ei.Exponential.In,EXPONENTIAL_OUT:Ei.Exponential.Out,EXPONENTIAL_IN_OUT:Ei.Exponential.InOut,CIRCULAR_IN:Ei.Circular.In,CIRCULAR_OUT:Ei.Circular.Out,CIRCULAR_IN_OUT:Ei.Circular.InOut,ELASTIC_IN:Ei.Elastic.In,ELASTIC_OUT:Ei.Elastic.Out,ELASTIC_IN_OUT:Ei.Elastic.InOut,BACK_IN:Ei.Back.In,BACK_OUT:Ei.Back.Out,BACK_IN_OUT:Ei.Back.InOut,BOUNCE_IN:Ei.Bounce.In,BOUNCE_OUT:Ei.Bounce.Out,BOUNCE_IN_OUT:Ei.Bounce.InOut},Ar=Object.freeze(cnt);function NU(e,t,n){this.type=\"KmlTourFlyTo\",this.blocking=!0,this.activeCamera=null,this.activeCallback=null,this.duration=e,this.view=n,this.flyToMode=t}NU.prototype.play=function(e,t,n){if(this.activeCamera=t,l(e)&&e!==null){let o=this;this.activeCallback=function(r){delete o.activeCallback,delete o.activeCamera,e(l(r)?!1:r)}}let i=this.getCameraOptions(n);if(this.view.headingPitchRoll)t.flyTo(i);else if(this.view.headingPitchRange){let o=new ce(this.view.position);t.flyToBoundingSphere(o,i)}};NU.prototype.stop=function(){l(this.activeCamera)&&this.activeCamera.cancelFlight(),l(this.activeCallback)&&this.activeCallback(!0)};NU.prototype.getCameraOptions=function(e){let t={duration:this.duration};return l(this.activeCallback)&&(t.complete=this.activeCallback),this.flyToMode===\"smooth\"&&(t.easingFunction=Ar.LINEAR_NONE),this.view.headingPitchRoll?(t.destination=this.view.position,t.orientation=this.view.headingPitchRoll):this.view.headingPitchRange&&(t.offset=this.view.headingPitchRange),l(e)&&(t=Ct(t,e)),t};var Iv=NU;var $hi=T(S(),1);function UQ(e){this.type=\"KmlTourWait\",this.blocking=!0,this.duration=e,this.timeout=null}UQ.prototype.play=function(e){let t=this;this.activeCallback=e,this.timeout=setTimeout(function(){delete t.activeCallback,e(!1)},this.duration*1e3)};UQ.prototype.stop=function(){clearTimeout(this.timeout),l(this.activeCallback)&&this.activeCallback(!0)};var Wv=UQ;var M0e={avi:\"video/x-msvideo\",bmp:\"image/bmp\",bz2:\"application/x-bzip2\",chm:\"application/vnd.ms-htmlhelp\",css:\"text/css\",csv:\"text/csv\",doc:\"application/msword\",dvi:\"application/x-dvi\",eps:\"application/postscript\",flv:\"video/x-flv\",gif:\"image/gif\",gz:\"application/x-gzip\",htm:\"text/html\",html:\"text/html\",ico:\"image/vnd.microsoft.icon\",jnlp:\"application/x-java-jnlp-file\",jpeg:\"image/jpeg\",jpg:\"image/jpeg\",m3u:\"audio/x-mpegurl\",m4v:\"video/mp4\",mathml:\"application/mathml+xml\",mid:\"audio/midi\",midi:\"audio/midi\",mov:\"video/quicktime\",mp3:\"audio/mpeg\",mp4:\"video/mp4\",mp4v:\"video/mp4\",mpeg:\"video/mpeg\",mpg:\"video/mpeg\",odp:\"application/vnd.oasis.opendocument.presentation\",ods:\"application/vnd.oasis.opendocument.spreadsheet\",odt:\"application/vnd.oasis.opendocument.text\",ogg:\"application/ogg\",pdf:\"application/pdf\",png:\"image/png\",pps:\"application/vnd.ms-powerpoint\",ppt:\"application/vnd.ms-powerpoint\",ps:\"application/postscript\",qt:\"video/quicktime\",rdf:\"application/rdf+xml\",rss:\"application/rss+xml\",rtf:\"application/rtf\",svg:\"image/svg+xml\",swf:\"application/x-shockwave-flash\",text:\"text/plain\",tif:\"image/tiff\",tiff:\"image/tiff\",txt:\"text/plain\",wav:\"audio/x-wav\",wma:\"audio/x-ms-wma\",wmv:\"video/x-ms-wmv\",xml:\"application/xml\",zip:\"application/zip\",detectFromFilename:function(e){let t=e.toLowerCase();return t=Hg(t),M0e[t]}},KQ;typeof DOMParser<\"u\"&&(KQ=new DOMParser);var lnt=new Uk({stripPrefix:!1,email:!1,replaceFn:function(e){return e.urlMatchType===\"scheme\"||e.urlMatchType===\"www\"}}),cg=32,E0e=2414016,X0e=1,I0e=16093e3,W0e=.1,P0e=[null,void 0,\"http://www.opengis.net/kml/2.2\",\"http://earth.google.com/kml/2.2\",\"http://earth.google.com/kml/2.1\",\"http://earth.google.com/kml/2.0\"],v0e=[\"http://www.google.com/kml/ext/2.2\"],dnt=[\"http://www.w3.org/2005/Atom\"],ve={kml:P0e,gx:v0e,atom:dnt,kmlgx:P0e.concat(v0e)},JQ={Document:K0e,Folder:Ent,Placemark:Xnt,NetworkLink:Nnt,GroundOverlay:Fnt,PhotoOverlay:j0e,ScreenOverlay:wnt,Tour:Wnt};function Af(e){this._dataSource=e,this._deferred=bl(),this._stack=[],this._promises=[],this._timeoutSet=!1,this._used=!1,this._started=0,this._timeThreshold=1e3}Object.defineProperties(Af.prototype,{dataSource:{get:function(){return this._dataSource}}});Af.prototype.addNodes=function(e,t){this._stack.push({nodes:e,index:0,processingData:t}),this._used=!0};Af.prototype.addPromise=function(e){this._promises.push(e)};Af.prototype.wait=function(){let e=this._deferred;return this._used||e.resolve(),Promise.all([e.promise,Promise.all(this._promises)])};Af.prototype.process=function(){let e=this._stack.length===1;return e&&(this._started=Md._getTimestamp()),this._process(e)};Af.prototype._giveUpTime=function(){if(this._timeoutSet)return;this._timeoutSet=!0,this._timeThreshold=50;let e=this;setTimeout(function(){e._timeoutSet=!1,e._started=Md._getTimestamp(),e._process(!0)},0)};Af.prototype._nextNode=function(){let e=this._stack,t=e[e.length-1],n=t.index,i=t.nodes;if(n!==i.length)return++t.index,i[n]};Af.prototype._pop=function(){let e=this._stack;return e.pop(),e.length===0?(this._deferred.resolve(),!1):!0};Af.prototype._process=function(e){let t=this.dataSource,n=this._stack[this._stack.length-1].processingData,i=this._nextNode();for(;l(i);){let o=JQ[i.localName];if(l(o)&&(ve.kml.indexOf(i.namespaceURI)!==-1||ve.gx.indexOf(i.namespaceURI)!==-1)&&(o(t,i,n,this),this._timeoutSet||Md._getTimestamp()>this._started+this._timeThreshold)){this._giveUpTime();return}i=this._nextNode()}this._pop()&&e&&this._process(!0)};function unt(e){let t=e.slice(0,Math.min(4,e.size)),n=bl(),i=new FileReader;return i.addEventListener(\"load\",function(){n.resolve(new DataView(i.result).getUint32(0,!1)===1347093252)}),i.addEventListener(\"error\",function(){n.reject(i.error)}),i.readAsArrayBuffer(t),n.promise}function mnt(e){let t=bl(),n=new FileReader;return n.addEventListener(\"load\",function(){t.resolve(n.result)}),n.addEventListener(\"error\",function(){t.reject(n.error)}),n.readAsText(e),t.promise}function N0e(e){let t={xsi:\"http://www.w3.org/2001/XMLSchema-instance\"},n,i,o,r;for(let s in t)t.hasOwnProperty(s)&&(o=RegExp(`[< ]${s}:`),r=`xmlns:${s}=`,o.test(e)&&e.indexOf(r)===-1&&(l(n)||(n=e.substr(0,e.indexOf(\"<kml\")+4),i=e.substr(n.length)),n+=` ${r}\"${t[s]}\"`));return l(n)&&(e=n+i),e}function k0e(e){let t=e.indexOf(\"xmlns:\"),n=e.indexOf(\">\",t),i,o,r;for(;t!==-1&&t<n;)i=e.slice(t,e.indexOf('\"',t)),o=t,t=e.indexOf(i,t+1),t!==-1?(r=e.indexOf('\"',e.indexOf('\"',t)+1),e=e.slice(0,t-1)+e.slice(r+1,e.length),t=e.indexOf(\"xmlns:\",o-1)):t=e.indexOf(\"xmlns:\",o+1);return e}function hnt(e,t){return Promise.resolve(e.getData(new _U)).then(function(n){n=N0e(n),n=k0e(n),t.kml=KQ.parseFromString(n,\"application/xml\")})}function DQ(e,t){let n=g(M0e.detectFromFilename(e.filename),\"application/octet-stream\");return Promise.resolve(e.getData(new gU(n))).then(function(i){t[e.filename]=i})}function Fd(e,t,n,i){let o=i.keys,r=new Pv.default(\".\"),s=e.querySelectorAll(t);for(let a=0;a<s.length;a++){let c=s[a],d=c.getAttribute(n);if(l(d)){let m=new Pv.default(d).absoluteTo(r).toString(),p=o.indexOf(m);if(p!==-1){let b=o[p];c.setAttribute(n,i[b]),t===\"a\"&&c.getAttribute(\"download\")===null&&c.setAttribute(\"download\",b)}}}}function Ad(e,t,n,i){let o=e.querySelectorAll(t);for(let r=0;r<o.length;r++){let s=o[r],a=s.getAttribute(n),c=QQ(a,i);l(c)&&s.setAttribute(n,c.url)}}function U0e(e,t,n){let i=Cs(e,\"id\");i=l(i)&&i.length!==0?i:Bn(),l(n)&&(i=n+i);let o=t.getById(i);return l(o)&&(i=Bn(),l(n)&&(i=n+i)),o=t.add(new zo({id:i})),l(o.kml)||(o.addProperty(\"kml\"),o.kml=new Bnt),o}function vv(e,t){return e===\"absolute\"||e===\"relativeToGround\"||t===\"relativeToSeaFloor\"}function BU(e,t){if(!l(e))return h.fromDegrees(0,0,0,t);let n=e.match(/[^\\s,\\n]+/g);if(!l(n))return h.fromDegrees(0,0,0,t);let i=parseFloat(n[0]),o=parseFloat(n[1]),r=parseFloat(n[2]);return i=isNaN(i)?0:i,o=isNaN(o)?0:o,r=isNaN(r)?0:r,h.fromDegrees(i,o,r,t)}function kU(e,t){if(!l(e))return;let n=e.textContent.match(/[^\\s\\n]+/g);if(!l(n))return;let i=n.length,o=new Array(i),r=0;for(let s=0;s<i;s++)o[r++]=BU(n[s],t);return o}function lg(e,t){if(!l(e))return;let n=e.getAttribute(t);if(n!==null){let i=parseFloat(n);return isNaN(i)?void 0:i}}function Cs(e,t){if(!l(e))return;let n=e.getAttribute(t);return n!==null?n:void 0}function Xi(e,t,n){if(!l(e))return;let i=e.childNodes,o=i.length;for(let r=0;r<o;r++){let s=i[r];if(s.localName===t&&n.indexOf(s.namespaceURI)!==-1)return s}}function w0e(e,t,n){if(!l(e))return;let i=[],o=e.getElementsByTagNameNS(\"*\",t),r=o.length;for(let s=0;s<r;s++){let a=o[s];a.localName===t&&n.indexOf(a.namespaceURI)!==-1&&i.push(a)}return i}function fh(e,t,n){if(!l(e))return[];let i=[],o=e.childNodes,r=o.length;for(let s=0;s<r;s++){let a=o[s];a.localName===t&&n.indexOf(a.namespaceURI)!==-1&&i.push(a)}return i}function qn(e,t,n){let i=Xi(e,t,n);if(l(i)){let o=parseFloat(i.textContent);return isNaN(o)?void 0:o}}function In(e,t,n){let i=Xi(e,t,n);if(l(i))return i.textContent.trim()}function ph(e,t,n){let i=Xi(e,t,n);if(l(i)){let o=i.textContent.trim();return o===\"1\"||/^true$/i.test(o)}}function QQ(e,t,n){if(!l(e))return;let i;if(l(n)){e=e.replace(/\\\\/g,\"/\");let o=n[e];if(l(o))i=new Xe({url:o});else{let r=new Pv.default(t.getUrlComponent()),s=new Pv.default(e);o=n[s.absoluteTo(r)],l(o)&&(i=new Xe({url:o}))}}return l(i)||(i=t.getDerivedResource({url:e})),i}var Ol={maximumRed:void 0,red:void 0,maximumGreen:void 0,green:void 0,maximumBlue:void 0,blue:void 0};function zQ(e,t){if(!l(e)||/^\\s*$/gm.test(e))return;e[0]===\"#\"&&(e=e.substring(1));let n=parseInt(e.substring(0,2),16)/255,i=parseInt(e.substring(2,4),16)/255,o=parseInt(e.substring(4,6),16)/255,r=parseInt(e.substring(6,8),16)/255;return t?(r>0?(Ol.maximumRed=r,Ol.red=void 0):(Ol.maximumRed=void 0,Ol.red=0),o>0?(Ol.maximumGreen=o,Ol.green=void 0):(Ol.maximumGreen=void 0,Ol.green=0),i>0?(Ol.maximumBlue=i,Ol.blue=void 0):(Ol.maximumBlue=void 0,Ol.blue=0),Ol.alpha=n,O.fromRandom(Ol)):new O(r,o,i,n)}function uT(e,t,n){let i=In(e,t,n);if(l(i))return zQ(i,In(e,\"colorMode\",n)===\"random\")}function fnt(e){let t=Xi(e,\"TimeStamp\",ve.kmlgx),n=In(t,\"when\",ve.kmlgx);if(!l(t)||!l(n)||n.length===0)return;let i=te.fromIso8601(n),o=new Wr;return o.addInterval(new Sn({start:i,stop:Be.MAXIMUM_VALUE})),o}function pnt(e){let t=Xi(e,\"TimeSpan\",ve.kmlgx);if(!l(t))return;let n,i=Xi(t,\"begin\",ve.kmlgx),o=l(i)?te.fromIso8601(i.textContent):void 0,r=Xi(t,\"end\",ve.kmlgx),s=l(r)?te.fromIso8601(r.textContent):void 0;if(l(o)&&l(s)){if(te.lessThan(s,o)){let a=o;o=s,s=a}n=new Wr,n.addInterval(new Sn({start:o,stop:s}))}else l(o)?(n=new Wr,n.addInterval(new Sn({start:o,stop:Be.MAXIMUM_VALUE}))):l(s)&&(n=new Wr,n.addInterval(new Sn({start:Be.MINIMUM_VALUE,stop:s})));return n}function D0e(){let e=new ec;return e.width=cg,e.height=cg,e.scaleByDistance=new At(E0e,X0e,I0e,W0e),e.pixelOffsetScaleByDistance=new At(E0e,X0e,I0e,W0e),e}function jQ(){let e=new Rm;return e.outline=!0,e.outlineColor=O.WHITE,e}function B0e(){let e=new Zm;return e.translucencyByDistance=new At(3e6,1,5e6,0),e.pixelOffset=new D(17,0),e.horizontalOrigin=ui.LEFT,e.font=\"16px sans-serif\",e.style=wo.FILL_AND_OUTLINE,e}function qQ(e,t,n,i,o){let r=In(e,\"href\",ve.kml);if(!l(r)||r.length===0)return;if(r.indexOf(\"root://icons/palette-\")===0){let a=r.charAt(21),c=g(qn(e,\"x\",ve.gx),0),d=g(qn(e,\"y\",ve.gx),0);c=Math.min(c/32,7),d=7-Math.min(d/32,7);let u=8*d+c;r=`https://maps.google.com/mapfiles/kml/pal${a}/icon${u}.png`}let s=QQ(r,n,i);if(o){let a=In(e,\"refreshMode\",ve.kml),c=In(e,\"viewRefreshMode\",ve.kml);a===\"onInterval\"||a===\"onExpire\"?wt(`kml-refreshMode-${a}`,`KML - Unsupported Icon refreshMode: ${a}`):(c===\"onStop\"||c===\"onRegion\")&&wt(`kml-refreshMode-${c}`,`KML - Unsupported Icon viewRefreshMode: ${c}`);let d=g(In(e,\"viewBoundScale\",ve.kml),1),u=c===\"onStop\"?\"BBOX=[bboxWest],[bboxSouth],[bboxEast],[bboxNorth]\":\"\",m=g(In(e,\"viewFormat\",ve.kml),u),p=In(e,\"httpQuery\",ve.kml);l(m)&&s.setQueryParameters(nd(DU(m))),l(p)&&s.setQueryParameters(nd(DU(p)));let b=t._ellipsoid;return e4(s,t.camera,t.canvas,d,t._lastCameraView.bbox,b),s}return s}function bnt(e,t,n,i,o){let r=qn(t,\"scale\",ve.kml),s=qn(t,\"heading\",ve.kml),a=uT(t,\"color\",ve.kml),c=Xi(t,\"Icon\",ve.kml),d=qQ(c,e,i,o,!1);l(c)&&!l(d)&&(d=!1);let u=qn(c,\"x\",ve.gx),m=qn(c,\"y\",ve.gx),p=qn(c,\"w\",ve.gx),b=qn(c,\"h\",ve.gx),f=Xi(t,\"hotSpot\",ve.kml),x=lg(f,\"x\"),_=lg(f,\"y\"),C=Cs(f,\"xunits\"),V=Cs(f,\"yunits\"),L=n.billboard;l(L)||(L=D0e(),n.billboard=L),L.image=d,L.scale=r,L.color=a,(l(u)||l(m)||l(p)||l(b))&&(L.imageSubRegion=new ze(u,m,p,b)),l(s)&&s!==0&&(L.rotation=P.toRadians(-s),L.alignedAxis=h.UNIT_Z),r=g(r,1);let R,G;l(x)&&(C===\"pixels\"?R=-x*r:C===\"insetPixels\"?R=(x-cg)*r:C===\"fraction\"&&(R=-x*cg*r),R+=cg*.5*r),l(_)&&(V===\"pixels\"?G=_*r:V===\"insetPixels\"?G=(-_+cg)*r:V===\"fraction\"&&(G=_*cg*r),G-=cg*.5*r),(l(R)||l(G))&&(L.pixelOffset=new D(R,G))}function UU(e,t,n,i,o){for(let r=0,s=t.childNodes.length;r<s;r++){let a=t.childNodes.item(r);if(a.localName===\"IconStyle\")bnt(e,a,n,i,o);else if(a.localName===\"LabelStyle\"){let c=n.label;l(c)||(c=B0e(),n.label=c),c.scale=g(qn(a,\"scale\",ve.kml),c.scale),c.fillColor=g(uT(a,\"color\",ve.kml),c.fillColor),c.text=n.name}else if(a.localName===\"LineStyle\"){let c=n.polyline;l(c)||(c=new ic,n.polyline=c),c.width=qn(a,\"width\",ve.kml),c.material=uT(a,\"color\",ve.kml),l(uT(a,\"outerColor\",ve.gx))&&wt(\"kml-gx:outerColor\",\"KML - gx:outerColor is not supported in a LineStyle\"),l(qn(a,\"outerWidth\",ve.gx))&&wt(\"kml-gx:outerWidth\",\"KML - gx:outerWidth is not supported in a LineStyle\"),l(qn(a,\"physicalWidth\",ve.gx))&&wt(\"kml-gx:physicalWidth\",\"KML - gx:physicalWidth is not supported in a LineStyle\"),l(ph(a,\"labelVisibility\",ve.gx))&&wt(\"kml-gx:labelVisibility\",\"KML - gx:labelVisibility is not supported in a LineStyle\")}else"
}