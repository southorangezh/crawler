{
  "metadata": {
    "source_file": "Cesium-1.116.0-fix-26\\Cesium.js",
    "chunk_index": 42,
    "total_chunks": 194,
    "chunk_size": 43932,
    "word_count": 800,
    "model_kwargs": {
      "model": "text-embedding-3-large",
      "dimensions": 3072,
      "encoding_format": "float"
    },
    "text_splitter": {
      "split_by": "word",
      "chunk_size": 800,
      "chunk_overlap": 200
    },
    "created_at": "2025-12-17T23:57:49.669Z"
  },
  "content": "value used in the perspective divide. This function is * intended to be called in a vertex shader to compute the value of a * \\`varying\\` that should not be subject to perspective interpolation. * For example, screen-space texture coordinates. The fragment shader * must call {@link czm_readNonPerspective} to retrieve the final * non-perspective value. * * @name czm_writeNonPerspective * @glslFunction * * @param {float|vec2|vec3|vec4} value The value to be interpolated without accounting for perspective. * @param {float} w The perspective divide value. Usually this is the computed \\`gl_Position.w\\`. * @returns {float|vec2|vec3|vec4} The transformed value, intended to be stored in a \\`varying\\` and read in the * fragment shader with {@link czm_readNonPerspective}. */ float czm_writeNonPerspective(float value, float w) { return value * w; } vec2 czm_writeNonPerspective(vec2 value, float w) { return value * w; } vec3 czm_writeNonPerspective(vec3 value, float w) { return value * w; } vec4 czm_writeNonPerspective(vec4 value, float w) { return value * w; } `;var ix={czm_degreesPerRadian:iZ,czm_depthRange:oZ,czm_epsilon1:rZ,czm_epsilon2:sZ,czm_epsilon3:aZ,czm_epsilon4:cZ,czm_epsilon5:lZ,czm_epsilon6:dZ,czm_epsilon7:uZ,czm_infinity:mZ,czm_oneOverPi:hZ,czm_oneOverTwoPi:fZ,czm_passCesium3DTile:pZ,czm_passCesium3DTileClassification:bZ,czm_passCesium3DTileClassificationIgnoreShow:yZ,czm_passClassification:gZ,czm_passCompute:xZ,czm_passEnvironment:_Z,czm_passGlobe:TZ,czm_passOpaque:SZ,czm_passOverlay:CZ,czm_passTerrainClassification:VZ,czm_passTranslucent:LZ,czm_passVoxels:ZZ,czm_pi:RZ,czm_piOverFour:GZ,czm_piOverSix:EZ,czm_piOverThree:XZ,czm_piOverTwo:IZ,czm_radiansPerDegree:WZ,czm_sceneMode2D:PZ,czm_sceneMode3D:vZ,czm_sceneModeColumbusView:wZ,czm_sceneModeMorphing:FZ,czm_solarRadius:AZ,czm_threePiOver2:MZ,czm_twoPi:NZ,czm_webMercatorMaxLatitude:kZ,czm_depthRangeStruct:UZ,czm_material:DZ,czm_materialInput:BZ,czm_modelMaterial:YZ,czm_modelVertexOutput:OZ,czm_pbrParameters:zZ,czm_ray:HZ,czm_raySegment:KZ,czm_shadowParameters:JZ,czm_HSBToRGB:QZ,czm_HSLToRGB:jZ,czm_RGBToHSB:qZ,czm_RGBToHSL:$Z,czm_RGBToXYZ:eR,czm_XYZToRGB:tR,czm_acesTonemapping:nR,czm_alphaWeight:iR,czm_antialias:oR,czm_applyHSBShift:rR,czm_approximateSphericalCoordinates:sR,czm_approximateTanh:aR,czm_backFacing:cR,czm_branchFreeTernary:lR,czm_cascadeColor:dR,czm_cascadeDistance:uR,czm_cascadeMatrix:mR,czm_cascadeWeights:hR,czm_columbusViewMorph:fR,czm_computeAtmosphereColor:pR,czm_computeGroundAtmosphereScattering:bR,czm_computePosition:yR,czm_computeScattering:gR,czm_cosineAndSine:xR,czm_decompressTextureCoordinates:_R,czm_defaultPbrMaterial:TR,czm_depthClamp:SR,czm_eastNorthUpToEyeCoordinates:CR,czm_ellipsoidContainsPoint:VR,czm_ellipsoidWgs84TextureCoordinates:LR,czm_equalsEpsilon:ZR,czm_eyeOffset:RR,czm_eyeToWindowCoordinates:GR,czm_fastApproximateAtan:ER,czm_fog:XR,czm_gammaCorrect:IR,czm_geodeticSurfaceNormal:WR,czm_getDefaultMaterial:PR,czm_getDynamicAtmosphereLightDirection:vR,czm_getLambertDiffuse:wR,czm_getSpecular:FR,czm_getWaterNoise:AR,czm_hue:MR,czm_inverseGamma:NR,czm_isEmpty:kR,czm_isFull:UR,czm_latitudeToWebMercatorFraction:DR,czm_lineDistance:BR,czm_linearToSrgb:YR,czm_luminance:OR,czm_metersPerPixel:zR,czm_modelToWindowCoordinates:HR,czm_multiplyWithColorBalance:KR,czm_nearFarScalar:JR,czm_octDecode:QR,czm_packDepth:jR,czm_pbrLighting:qR,czm_pbrMetallicRoughnessMaterial:$R,czm_pbrSpecularGlossinessMaterial:eG,czm_phong:tG,czm_planeDistance:nG,czm_pointAlongRay:iG,czm_rayEllipsoidIntersectionInterval:oG,czm_raySphereIntersectionInterval:rG,czm_readDepth:sG,czm_readNonPerspective:aG,czm_reverseLogDepth:cG,czm_round:lG,czm_sampleOctahedralProjection:dG,czm_saturation:uG,czm_shadowDepthCompare:mG,czm_shadowVisibility:hG,czm_signNotZero:fG,czm_sphericalHarmonics:pG,czm_srgbToLinear:bG,czm_tangentToEyeSpaceMatrix:yG,czm_textureCube:gG,czm_transformPlane:xG,czm_translateRelativeToEye:_G,czm_translucentPhong:TG,czm_transpose:SG,czm_unpackDepth:CG,czm_unpackFloat:VG,czm_unpackUint:LG,czm_valueTransform:ZG,czm_vertexLogDepth:RG,czm_windowToEyeCoordinates:GG,czm_writeDepthClamp:EG,czm_writeLogDepth:XG,czm_writeNonPerspective:IG};var RAt=T(S(),1);function cZe(e,t){let n=e;return n=n.replaceAll(\"version 300 es\",\"\"),n=n.replaceAll(/(texture\\()/g,\"texture2D(\"),t?(n=n.replaceAll(/\\n\\s*(in)\\s+(vec\\d|mat\\d|float)/g,` varying $2`),/out_FragData_(\\d+)/.test(n)&&(n=`#extension GL_EXT_draw_buffers : enable ${n}`,n=n.replaceAll(/layout\\s+\\(location\\s*=\\s*\\d+\\)\\s*out\\s+vec4\\s+out_FragData_\\d+;/g,\"\"),n=n.replaceAll(/out_FragData_(\\d+)/g,\"gl_FragData[$1]\")),n=n.replaceAll(/layout\\s+\\(location\\s*=\\s*0\\)\\s*out\\s+vec4\\s+out_FragColor;/g,\"\"),n=n.replaceAll(/out_FragColor/g,\"gl_FragColor\"),n=n.replaceAll(/out_FragColor\\[(\\d+)\\]/g,\"gl_FragColor[$1]\"),/gl_FragDepth/.test(n)&&(n=`#extension GL_EXT_frag_depth : enable ${n}`,n=n.replaceAll(/gl_FragDepth/g,\"gl_FragDepthEXT\")),n=`#ifdef GL_OES_standard_derivatives #extension GL_OES_standard_derivatives : enable #endif ${n}`):(n=n.replaceAll(/(in)\\s+(vec\\d|mat\\d|float)/g,\"attribute $2\"),n=n.replaceAll(/(out)\\s+(vec\\d|mat\\d|float)\\s+([\\w]+);/g,\"varying $2 $3;\")),n=`#version 100 ${n}`,n}var WG=cZe;function lee(e){return e=e.replace(/\\/\\/.*/g,\"\"),e.replace(/\\/\\*\\*[\\s\\S]*?\\*\\//gm,function(t){let n=t.match(/\\n/gm).length,i=\"\";for(let o=0;o<n;++o)i+=` `;return i})}function dee(e,t,n){let i;for(let o=0;o<n.length;++o)n[o].name===e&&(i=n[o]);return l(i)||(t=lee(t),i={name:e,glslSource:t,dependsOn:[],requiredBy:[],evaluated:!1},n.push(i)),i}function uee(e,t){if(e.evaluated)return;e.evaluated=!0;let n=e.glslSource.match(/\\bczm_[a-zA-Z0-9_]*/g);l(n)&&n!==null&&(n=n.filter(function(i,o){return n.indexOf(i)===o}),n.forEach(function(i){if(i!==e.name&&Ws._czmBuiltinsAndUniforms.hasOwnProperty(i)){let o=dee(i,Ws._czmBuiltinsAndUniforms[i],t);e.dependsOn.push(o),o.requiredBy.push(e),uee(o,t)}}))}function lZe(e){let t=[],n=[];for(;e.length>0;){let o=e.pop();n.push(o),o.requiredBy.length===0&&t.push(o)}for(;t.length>0;){let o=t.shift();e.push(o);for(let r=0;r<o.dependsOn.length;++r){let s=o.dependsOn[r],a=s.requiredBy.indexOf(o);s.requiredBy.splice(a,1),s.requiredBy.length===0&&t.push(s)}}let i=[];for(let o=0;o<n.length;++o)n[o].requiredBy.length!==0&&i.push(n[o])}function dZe(e){let t=[],n=dee(\"main\",e,t);uee(n,t),lZe(t);let i=\"\";for(let o=t.length-1;o>=0;--o)i=`${i+t[o].glslSource} `;return i.replace(n.glslSource,\"\")}function mee(e,t,n){let i,o,r=\"\",s=e.sources;if(l(s))for(i=0,o=s.length;i<o;++i)r+=` #line 0 ${s[i]}`;r=lee(r);let a;r=r.replace(/#version\\s+(.*?)\\n/gm,function(x,_){return a=_,` `});let c=[];r=r.replace(/#extension.*\\n/gm,function(x){return c.push(x),` `}),r=r.replace(/precision\\s(lowp|mediump|highp)\\s(float|int);/,\"\");let d=e.pickColorQualifier;l(d)&&(r=Ws.createPickFragmentShaderSource(r,d));let u=\"\",m=c.length;for(i=0;i<m;i++)u+=c[i];t&&(u+=`#ifdef GL_FRAGMENT_PRECISION_HIGH precision highp float; precision highp int; #else precision mediump float; precision mediump int; #define highp mediump #endif `);let p=e.defines;if(l(p))for(i=0,o=p.length;i<o;++i){let x=p[i];x.length!==0&&(u+=`#define ${x} `)}n.textureFloatLinear&&(u+=`#define OES_texture_float_linear `),n.floatingPointTexture&&(u+=`#define OES_texture_float `);let b=\"\";e.includeBuiltIns&&(b=dZe(r)),u+=` #line 0 `;let f=b+r;return n.webgl2&&t&&!/layout\\s*\\(location\\s*=\\s*0\\)\\s*out\\s+vec4\\s+out_FragColor;/g.test(f)&&!/czm_out_FragColor/g.test(f)&&/out_FragColor/g.test(f)&&(u+=`layout(location = 0) out vec4 out_FragColor; `),u+=b,u+=r,n.webgl2?u=`#version 300 es ${u}`:u=WG(u,t),u}function Ws(e){e=g(e,g.EMPTY_OBJECT);let t=e.pickColorQualifier;this.defines=l(e.defines)?e.defines.slice(0):[],this.sources=l(e.sources)?e.sources.slice(0):[],this.pickColorQualifier=t,this.includeBuiltIns=g(e.includeBuiltIns,!0)}Ws.prototype.clone=function(){return new Ws({sources:this.sources,defines:this.defines,pickColorQualifier:this.pickColorQualifier,includeBuiltIns:this.includeBuiltIns})};Ws.replaceMain=function(e,t){return t=`void ${t}()`,e.replace(/void\\s+main\\s*\\(\\s*(?:void)?\\s*\\)/g,t)};Ws.prototype.getCacheKey=function(){let t=this.defines.slice().sort().join(\",\"),n=this.pickColorQualifier,i=this.includeBuiltIns,o=this.sources.join(` `);return`${t}:${n}:${i}:${o}`};Ws.prototype.createCombinedVertexShader=function(e){return mee(this,!1,e)};Ws.prototype.createCombinedFragmentShader=function(e){return mee(this,!0,e)};Ws._czmBuiltinsAndUniforms={};for(let e in ix)ix.hasOwnProperty(e)&&(Ws._czmBuiltinsAndUniforms[e]=ix[e]);for(let e in ap)if(ap.hasOwnProperty(e)){let t=ap[e];typeof t.getDeclaration==\"function\"&&(Ws._czmBuiltinsAndUniforms[e]=t.getDeclaration(e))}Ws.createPickVertexShaderSource=function(e){return`${Ws.replaceMain(e,\"czm_old_main\")} in vec4 pickColor; out vec4 czm_pickColor; void main() { czm_old_main(); czm_pickColor = pickColor; }`};Ws.createPickFragmentShaderSource=function(e,t){let n=Ws.replaceMain(e,\"czm_old_main\"),i=`${t} vec4 czm_pickColor; void main() { czm_old_main(); if (out_FragColor.a == 0.0) { discard; } out_FragColor = czm_pickColor; }`;return`${n} ${i}`};function uZe(e,t){let n=e.defines,i=n.length;for(let o=0;o<i;++o)if(n[o]===t)return!0;return!1}function hee(e,t){let n=e.sources,i=n.length;for(let o=0;o<i;++o)if(n[o].indexOf(t)!==-1)return!0;return!1}function fee(e,t){let n=t.length;for(let i=0;i<n;++i){let o=t[i];if(hee(e,o))return o}}var mZe=[\"v_normalEC\",\"v_normal\"];Ws.findNormalVarying=function(e){return hee(e,\"#ifdef HAS_NORMALS\")?uZe(e,\"HAS_NORMALS\")?\"v_normalEC\":void 0:fee(e,mZe)};var hZe=[\"v_positionEC\"];Ws.findPositionVarying=function(e){return fee(e,hZe)};var Ue=Ws;function gm(e){this._context=e,this._shaders={},this._numberOfShaders=0,this._shadersToRelease={}}Object.defineProperties(gm.prototype,{numberOfShaders:{get:function(){return this._numberOfShaders}}});gm.prototype.replaceShaderProgram=function(e){return l(e.shaderProgram)&&e.shaderProgram.destroy(),this.getShaderProgram(e)};function fZe(e){let t=Object.keys(e).sort();return JSON.stringify(e,t)}gm.prototype.getShaderProgram=function(e){let t=e.vertexShaderSource,n=e.fragmentShaderSource,i=e.attributeLocations;typeof t==\"string\"&&(t=new Ue({sources:[t]})),typeof n==\"string\"&&(n=new Ue({sources:[n]}));let o=t.getCacheKey(),r=n.getCacheKey(),s=l(i)?fZe(i):\"\",a=`${o}:${r}:${s}`,c;if(l(this._shaders[a]))c=this._shaders[a],delete this._shadersToRelease[a];else{let d=this._context,u=t.createCombinedVertexShader(d),m=n.createCombinedFragmentShader(d),p=new Ht({gl:d._gl,logShaderCompilation:d.logShaderCompilation,debugShaders:d.debugShaders,vertexShaderSource:t,vertexShaderText:u,fragmentShaderSource:n,fragmentShaderText:m,attributeLocations:i});c={cache:this,shaderProgram:p,keyword:a,derivedKeywords:[],count:0},p._cachedShader=c,this._shaders[a]=c,++this._numberOfShaders}return++c.count,c.shaderProgram};gm.prototype.replaceDerivedShaderProgram=function(e,t,n){let i=e._cachedShader,o=t+i.keyword,r=this._shaders[o];if(l(r)){SY(this,r);let s=i.derivedKeywords.indexOf(t);s>-1&&i.derivedKeywords.splice(s,1)}return this.createDerivedShaderProgram(e,t,n)};gm.prototype.getDerivedShaderProgram=function(e,t){let n=e._cachedShader,i=t+n.keyword,o=this._shaders[i];if(l(o))return o.shaderProgram};gm.prototype.createDerivedShaderProgram=function(e,t,n){let i=e._cachedShader,o=t+i.keyword,r=n.vertexShaderSource,s=n.fragmentShaderSource,a=n.attributeLocations;typeof r==\"string\"&&(r=new Ue({sources:[r]})),typeof s==\"string\"&&(s=new Ue({sources:[s]}));let c=this._context,d=r.createCombinedVertexShader(c),u=s.createCombinedFragmentShader(c),m=new Ht({gl:c._gl,logShaderCompilation:c.logShaderCompilation,debugShaders:c.debugShaders,vertexShaderSource:r,vertexShaderText:d,fragmentShaderSource:s,fragmentShaderText:u,attributeLocations:a}),p={cache:this,shaderProgram:m,keyword:o,derivedKeywords:[],count:0};return i.derivedKeywords.push(t),m._cachedShader=p,this._shaders[o]=p,m};function SY(e,t){let n=t.derivedKeywords,i=n.length;for(let o=0;o<i;++o){let r=n[o]+t.keyword,s=e._shaders[r];SY(e,s)}delete e._shaders[t.keyword],t.shaderProgram.finalDestroy()}gm.prototype.destroyReleasedShaderPrograms=function(){let e=this._shadersToRelease;for(let t in e)if(e.hasOwnProperty(t)){let n=e[t];SY(this,n),--this._numberOfShaders}this._shadersToRelease={}};gm.prototype.releaseShaderProgram=function(e){if(l(e)){let t=e._cachedShader;t&&--t.count===0&&(this._shadersToRelease[t.keyword]=t)}};gm.prototype.isDestroyed=function(){return!1};gm.prototype.destroy=function(){let e=this._shaders;for(let t in e)e.hasOwnProperty(t)&&e[t].shaderProgram.finalDestroy();return me(this)};var PG=gm;var $At=T(S(),1);function xm(e){e=g(e,g.EMPTY_OBJECT);let t=e.context,n=e.width,i=e.height,o=e.source;l(o)&&(l(n)||(n=g(o.videoWidth,o.width)),l(i)||(i=g(o.videoHeight,o.height)));let r=g(e.pixelFormat,at.RGBA),s=g(e.pixelDatatype,Qe.UNSIGNED_BYTE),a=at.toInternalFormat(r,s,t),c=at.isCompressedFormat(a),d=e.preMultiplyAlpha||r===at.RGB||r===at.LUMINANCE,u=g(e.flipY,!0),m=g(e.skipColorSpaceConversion,!1),p=!0,b=t._gl,f=b.TEXTURE_2D,x=b.createTexture();b.activeTexture(b.TEXTURE0),b.bindTexture(f,x);let _=4;if(l(o)&&l(o.arrayBufferView)&&!c&&(_=at.alignmentInBytes(r,s,n)),b.pixelStorei(b.UNPACK_ALIGNMENT,_),m?b.pixelStorei(b.UNPACK_COLORSPACE_CONVERSION_WEBGL,b.NONE):b.pixelStorei(b.UNPACK_COLORSPACE_CONVERSION_WEBGL,b.BROWSER_DEFAULT_WEBGL),l(o))if(l(o.arrayBufferView)){b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1);let V=o.arrayBufferView,L,R,G;if(c){if(b.compressedTexImage2D(f,0,a,n,i,0,V),l(o.mipLevels))for(R=n,G=i,L=0;L<o.mipLevels.length;++L)R=Math.floor(R/2)|0,R<1&&(R=1),G=Math.floor(G/2)|0,G<1&&(G=1),b.compressedTexImage2D(f,L+1,a,R,G,0,o.mipLevels[L])}else if(u&&(V=at.flipY(V,r,s,n,i)),b.texImage2D(f,0,a,n,i,0,r,Qe.toWebGLConstant(s,t),V),l(o.mipLevels))for(R=n,G=i,L=0;L<o.mipLevels.length;++L)R=Math.floor(R/2)|0,R<1&&(R=1),G=Math.floor(G/2)|0,G<1&&(G=1),b.texImage2D(f,L+1,a,R,G,0,r,Qe.toWebGLConstant(s,t),o.mipLevels[L])}else l(o.framebuffer)?(b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1),o.framebuffer!==t.defaultFramebuffer&&o.framebuffer._bind(),b.copyTexImage2D(f,0,a,o.xOffset,o.yOffset,n,i,0),o.framebuffer!==t.defaultFramebuffer&&o.framebuffer._unBind()):(b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,d),b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,u),b.texImage2D(f,0,a,r,Qe.toWebGLConstant(s,t),o));else b.texImage2D(f,0,a,n,i,0,r,Qe.toWebGLConstant(s,t),null),p=!1;b.bindTexture(f,null);let C;c?C=at.compressedTextureSizeInBytes(r,n,i):C=at.textureSizeInBytes(r,s,n,i),this._id=Bn(),this._context=t,this._textureFilterAnisotropic=t._textureFilterAnisotropic,this._textureTarget=f,this._texture=x,this._internalFormat=a,this._pixelFormat=r,this._pixelDatatype=s,this._width=n,this._height=i,this._dimensions=new D(n,i),this._hasMipmap=!1,this._sizeInBytes=C,this._preMultiplyAlpha=d,this._flipY=u,this._initialized=p,this._sampler=void 0,this.sampler=l(e.sampler)?e.sampler:new mn}xm.create=function(e){return new xm(e)};xm.fromFramebuffer=function(e){e=g(e,g.EMPTY_OBJECT);let t=e.context,n=t._gl,i=g(e.pixelFormat,at.RGB),o=g(e.framebufferXOffset,0),r=g(e.framebufferYOffset,0),s=g(e.width,n.drawingBufferWidth),a=g(e.height,n.drawingBufferHeight),c=e.framebuffer;return new xm({context:t,width:s,height:a,pixelFormat:i,source:{framebuffer:l(c)?c:t.defaultFramebuffer,xOffset:o,yOffset:r,width:s,height:a}})};Object.defineProperties(xm.prototype,{id:{get:function(){return this._id}},sampler:{get:function(){return this._sampler},set:function(e){let t=e.minificationFilter,n=e.magnificationFilter,i=this._context,o=this._pixelFormat,r=this._pixelDatatype,s=t===dn.NEAREST_MIPMAP_NEAREST||t===dn.NEAREST_MIPMAP_LINEAR||t===dn.LINEAR_MIPMAP_NEAREST||t===dn.LINEAR_MIPMAP_LINEAR;(r===Qe.FLOAT&&!i.textureFloatLinear||r===Qe.HALF_FLOAT&&!i.textureHalfFloatLinear)&&(t=s?dn.NEAREST_MIPMAP_NEAREST:dn.NEAREST,n=yi.NEAREST),i.webgl2&&at.isDepthFormat(o)&&(t=dn.NEAREST,n=yi.NEAREST);let a=i._gl,c=this._textureTarget;a.activeTexture(a.TEXTURE0),a.bindTexture(c,this._texture),a.texParameteri(c,a.TEXTURE_MIN_FILTER,t),a.texParameteri(c,a.TEXTURE_MAG_FILTER,n),a.texParameteri(c,a.TEXTURE_WRAP_S,e.wrapS),a.texParameteri(c,a.TEXTURE_WRAP_T,e.wrapT),l(this._textureFilterAnisotropic)&&a.texParameteri(c,this._textureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,e.maximumAnisotropy),a.bindTexture(c,null),this._sampler=e}},pixelFormat:{get:function(){return this._pixelFormat}},pixelDatatype:{get:function(){return this._pixelDatatype}},dimensions:{get:function(){return this._dimensions}},preMultiplyAlpha:{get:function(){return this._preMultiplyAlpha}},flipY:{get:function(){return this._flipY}},width:{get:function(){return this._width}},height:{get:function(){return this._height}},sizeInBytes:{get:function(){return this._hasMipmap?Math.floor(this._sizeInBytes*4/3):this._sizeInBytes}},_target:{get:function(){return this._textureTarget}}});xm.prototype.copyFrom=function(e){let t=g(e.xOffset,0),n=g(e.yOffset,0),i=e.source,o=this._context,r=o._gl,s=this._textureTarget;r.activeTexture(r.TEXTURE0),r.bindTexture(s,this._texture);let a=i.width,c=i.height,d=i.arrayBufferView,u=this._width,m=this._height,p=this._internalFormat,b=this._pixelFormat,f=this._pixelDatatype,x=this._preMultiplyAlpha,_=this._flipY,C=g(e.skipColorSpaceConversion,!1),V=4;l(d)&&(V=at.alignmentInBytes(b,f,a)),r.pixelStorei(r.UNPACK_ALIGNMENT,V),C?r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,r.NONE):r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,r.BROWSER_DEFAULT_WEBGL);let L=!1;if(!this._initialized){if(t===0&&n===0&&a===u&&c===m)l(d)?(r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1),_&&(d=at.flipY(d,b,f,u,m)),r.texImage2D(s,0,p,u,m,0,b,Qe.toWebGLConstant(f,o),d)):(r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,x),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,_),r.texImage2D(s,0,p,b,Qe.toWebGLConstant(f,o),i)),L=!0;else{r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1);let R=at.createTypedArray(b,f,u,m);r.texImage2D(s,0,p,u,m,0,b,Qe.toWebGLConstant(f,o),R)}this._initialized=!0}L||(l(d)?(r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1),_&&(d=at.flipY(d,b,f,a,c)),r.texSubImage2D(s,0,t,n,a,c,b,Qe.toWebGLConstant(f,o),d)):(r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,x),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,_),r.texSubImage2D(s,0,t,n,b,Qe.toWebGLConstant(f,o),i))),r.bindTexture(s,null)};xm.prototype.copyFromFramebuffer=function(e,t,n,i,o,r){e=g(e,0),t=g(t,0),n=g(n,0),i=g(i,0),o=g(o,this._width),r=g(r,this._height);let s=this._context._gl,a=this._textureTarget;s.activeTexture(s.TEXTURE0),s.bindTexture(a,this._texture),s.copyTexSubImage2D(a,0,e,t,n,i,o,r),s.bindTexture(a,null),this._initialized=!0};xm.prototype.generateMipmap=function(e){e=g(e,Kh.DONT_CARE),this._hasMipmap=!0;let t=this._context._gl,n=this._textureTarget;t.hint(t.GENERATE_MIPMAP_HINT,e),t.activeTexture(t.TEXTURE0),t.bindTexture(n,this._texture),t.generateMipmap(n),t.bindTexture(n,null)};xm.prototype.isDestroyed=function(){return!1};xm.prototype.destroy=function(){return this._context._gl.deleteTexture(this._texture),me(this)};var Ft=xm;var iMt=T(S(),1);function ox(){this._textures={},this._numberOfTextures=0,this._texturesToRelease={}}Object.defineProperties(ox.prototype,{numberOfTextures:{get:function(){return this._numberOfTextures}}});ox.prototype.getTexture=function(e){let t=this._textures[e];if(l(t))return delete this._texturesToRelease[e],++t.count,t.texture};ox.prototype.addTexture=function(e,t){let n={texture:t,count:1};t.finalDestroy=t.destroy;let i=this;t.destroy=function(){--n.count===0&&(i._texturesToRelease[e]=n)},this._textures[e]=n,++this._numberOfTextures};ox.prototype.destroyReleasedTextures=function(){let e=this._texturesToRelease;for(let t in e)if(e.hasOwnProperty(t)){let n=e[t];delete this._textures[t],n.texture.finalDestroy(),--this._numberOfTextures}this._texturesToRelease={}};ox.prototype.isDestroyed=function(){return!1};ox.prototype.destroy=function(){let e=this._textures;for(let t in e)e.hasOwnProperty(t)&&e[t].texture.finalDestroy();return me(this)};var vG=ox;var _5t=T(S(),1);var aMt=T(S(),1);function Jh(){this.high=h.clone(h.ZERO),this.low=h.clone(h.ZERO)}Jh.encode=function(e,t){l(t)||(t={high:0,low:0});let n;return e>=0?(n=Math.floor(e/65536)*65536,t.high=n,t.low=e-n):(n=Math.floor(-e/65536)*65536,t.high=-n,t.low=e+n),t};var bp={high:0,low:0};Jh.fromCartesian=function(e,t){l(t)||(t=new Jh);let n=t.high,i=t.low;return Jh.encode(e.x,bp),n.x=bp.high,i.x=bp.low,Jh.encode(e.y,bp),n.y=bp.high,i.y=bp.low,Jh.encode(e.z,bp),n.z=bp.high,i.z=bp.low,t};var CY=new Jh;Jh.writeElements=function(e,t,n){Jh.fromCartesian(e,CY);let i=CY.high,o=CY.low;t[n]=i.x,t[n+1]=i.y,t[n+2]=i.z,t[n+3]=o.x,t[n+4]=o.y,t[n+5]=o.z};var Yn=Jh;var FMt=T(S(),1);var XMt=T(S(),1);var TMt=T(S(),1);var hMt=T(S(),1);function Ps(e,t){this.normal=h.clone(e),this.distance=t}Ps.fromPointNormal=function(e,t,n){let i=-h.dot(t,e);return l(n)?(h.clone(t,n.normal),n.distance=i,n):new Ps(t,i)};var pZe=new h;Ps.fromCartesian4=function(e,t){let n=h.fromCartesian4(e,pZe),i=e.w;return l(t)?(h.clone(n,t.normal),t.distance=i,t):new Ps(n,i)};Ps.getPointDistance=function(e,t){return h.dot(e.normal,t)+e.distance};var bZe=new h;Ps.projectPointOntoPlane=function(e,t,n){l(n)||(n=new h);let i=Ps.getPointDistance(e,t),o=h.multiplyByScalar(e.normal,i,bZe);return h.subtract(t,o,n)};var yZe=new M,gZe=new se,xZe=new h;Ps.transform=function(e,t,n){let i=e.normal,o=e.distance,r=M.inverseTranspose(t,yZe),s=se.fromElements(i.x,i.y,i.z,o,gZe);s=M.multiplyByVector(r,s,s);let a=h.fromCartesian4(s,xZe);return s=se.divideByScalar(s,h.magnitude(a),s),Ps.fromCartesian4(s,n)};Ps.clone=function(e,t){return l(t)?(h.clone(e.normal,t.normal),t.distance=e.distance,t):new Ps(e.normal,e.distance)};Ps.equals=function(e,t){return e.distance===t.distance&&h.equals(e.normal,t.normal)};Ps.ORIGIN_XY_PLANE=Object.freeze(new Ps(h.UNIT_Z,0));Ps.ORIGIN_YZ_PLANE=Object.freeze(new Ps(h.UNIT_X,0));Ps.ORIGIN_ZX_PLANE=Object.freeze(new Ps(h.UNIT_Y,0));var an=Ps;function ru(e){this.planes=g(e,[])}var wG=[new h,new h,new h];h.clone(h.UNIT_X,wG[0]);h.clone(h.UNIT_Y,wG[1]);h.clone(h.UNIT_Z,wG[2]);var Rb=new h,_Ze=new h,pee=new an(new h(1,0,0),0);ru.fromBoundingSphere=function(e,t){l(t)||(t=new ru);let n=wG.length,i=t.planes;i.length=2*n;let o=e.center,r=e.radius,s=0;for(let a=0;a<n;++a){let c=wG[a],d=i[s],u=i[s+1];l(d)||(d=i[s]=new se),l(u)||(u=i[s+1]=new se),h.multiplyByScalar(c,-r,Rb),h.add(o,Rb,Rb),d.x=c.x,d.y=c.y,d.z=c.z,d.w=-h.dot(c,Rb),h.multiplyByScalar(c,r,Rb),h.add(o,Rb,Rb),u.x=-c.x,u.y=-c.y,u.z=-c.z,u.w=-h.dot(h.negate(c,_Ze),Rb),s+=2}return t};ru.prototype.computeVisibility=function(e){let t=this.planes,n=!1;for(let i=0,o=t.length;i<o;++i){let r=e.intersectPlane(an.fromCartesian4(t[i],pee));if(r===nn.OUTSIDE)return nn.OUTSIDE;r===nn.INTERSECTING&&(n=!0)}return n?nn.INTERSECTING:nn.INSIDE};ru.prototype.computeVisibilityWithPlaneMask=function(e,t){if(t===ru.MASK_OUTSIDE||t===ru.MASK_INSIDE)return t;let n=ru.MASK_INSIDE,i=this.planes;for(let o=0,r=i.length;o<r;++o){let s=o<31?1<<o:0;if(o<31&&!(t&s))continue;let a=e.intersectPlane(an.fromCartesian4(i[o],pee));if(a===nn.OUTSIDE)return ru.MASK_OUTSIDE;a===nn.INTERSECTING&&(n|=s)}return n};ru.MASK_OUTSIDE=4294967295;ru.MASK_INSIDE=0;ru.MASK_INDETERMINATE=2147483647;var os=ru;function Qh(e){e=g(e,g.EMPTY_OBJECT),this.left=e.left,this._left=void 0,this.right=e.right,this._right=void 0,this.top=e.top,this._top=void 0,this.bottom=e.bottom,this._bottom=void 0,this.near=g(e.near,1),this._near=this.near,this.far=g(e.far,5e8),this._far=this.far,this._cullingVolume=new os,this._orthographicMatrix=new M}function bee(e){(e.top!==e._top||e.bottom!==e._bottom||e.left!==e._left||e.right!==e._right||e.near!==e._near||e.far!==e._far)&&(e._left=e.left,e._right=e.right,e._top=e.top,e._bottom=e.bottom,e._near=e.near,e._far=e.far,e._orthographicMatrix=M.computeOrthographicOffCenter(e.left,e.right,e.bottom,e.top,e.near,e.far,e._orthographicMatrix))}Object.defineProperties(Qh.prototype,{projectionMatrix:{get:function(){return bee(this),this._orthographicMatrix}}});var TZe=new h,SZe=new h,CZe=new h,VY=new h;Qh.prototype.computeCullingVolume=function(e,t,n){let i=this._cullingVolume.planes,o=this.top,r=this.bottom,s=this.right,a=this.left,c=this.near,d=this.far,u=h.cross(t,n,TZe);h.normalize(u,u);let m=SZe;h.multiplyByScalar(t,c,m),h.add(e,m,m);let p=CZe;h.multiplyByScalar(u,a,p),h.add(m,p,p);let b=i[0];return l(b)||(b=i[0]=new se),b.x=u.x,b.y=u.y,b.z=u.z,b.w=-h.dot(u,p),h.multiplyByScalar(u,s,p),h.add(m,p,p),b=i[1],l(b)||(b=i[1]=new se),b.x=-u.x,b.y=-u.y,b.z=-u.z,b.w=-h.dot(h.negate(u,VY),p),h.multiplyByScalar(n,r,p),h.add(m,p,p),b=i[2],l(b)||(b=i[2]=new se),b.x=n.x,b.y=n.y,b.z=n.z,b.w=-h.dot(n,p),h.multiplyByScalar(n,o,p),h.add(m,p,p),b=i[3],l(b)||(b=i[3]=new se),b.x=-n.x,b.y=-n.y,b.z=-n.z,b.w=-h.dot(h.negate(n,VY),p),b=i[4],l(b)||(b=i[4]=new se),b.x=t.x,b.y=t.y,b.z=t.z,b.w=-h.dot(t,m),h.multiplyByScalar(t,d,p),h.add(e,p,p),b=i[5],l(b)||(b=i[5]=new se),b.x=-t.x,b.y=-t.y,b.z=-t.z,b.w=-h.dot(h.negate(t,VY),p),this._cullingVolume};Qh.prototype.getPixelDimensions=function(e,t,n,i,o){bee(this);let r=this.right-this.left,s=this.top-this.bottom,a=i*r/e,c=i*s/t;return o.x=a,o.y=c,o};Qh.prototype.clone=function(e){return l(e)||(e=new Qh),e.left=this.left,e.right=this.right,e.top=this.top,e.bottom=this.bottom,e.near=this.near,e.far=this.far,e._left=void 0,e._right=void 0,e._top=void 0,e._bottom=void 0,e._near=void 0,e._far=void 0,e};Qh.prototype.equals=function(e){return l(e)&&e instanceof Qh&&this.right===e.right&&this.left===e.left&&this.top===e.top&&this.bottom===e.bottom&&this.near===e.near&&this.far===e.far};Qh.prototype.equalsEpsilon=function(e,t,n){return e===this||l(e)&&e instanceof Qh&&P.equalsEpsilon(this.right,e.right,t,n)&&P.equalsEpsilon(this.left,e.left,t,n)&&P.equalsEpsilon(this.top,e.top,t,n)&&P.equalsEpsilon(this.bottom,e.bottom,t,n)&&P.equalsEpsilon(this.near,e.near,t,n)&&P.equalsEpsilon(this.far,e.far,t,n)};var Vr=Qh;function xl(e){e=g(e,g.EMPTY_OBJECT),this._offCenterFrustum=new Vr,this.width=e.width,this._width=void 0,this.aspectRatio=e.aspectRatio,this._aspectRatio=void 0,this.near=g(e.near,1),this._near=this.near,this.far=g(e.far,5e8),this._far=this.far}xl.packedLength=4;xl.pack=function(e,t,n){return n=g(n,0),t[n++]=e.width,t[n++]=e.aspectRatio,t[n++]=e.near,t[n]=e.far,t};xl.unpack=function(e,t,n){return t=g(t,0),l(n)||(n=new xl),n.width=e[t++],n.aspectRatio=e[t++],n.near=e[t++],n.far=e[t],n};function Gb(e){let t=e._offCenterFrustum;if(e.width!==e._width||e.aspectRatio!==e._aspectRatio||e.near!==e._near||e.far!==e._far){e._aspectRatio=e.aspectRatio,e._width=e.width,e._near=e.near,e._far=e.far;let n=1/e.aspectRatio;t.right=e.width*.5,t.left=-t.right,t.top=n*t.right,t.bottom=-t.top,t.near=e.near,t.far=e.far}}Object.defineProperties(xl.prototype,{projectionMatrix:{get:function(){return Gb(this),this._offCenterFrustum.projectionMatrix}},offCenterFrustum:{get:function(){return Gb(this),this._offCenterFrustum}}});xl.prototype.computeCullingVolume=function(e,t,n){return Gb(this),this._offCenterFrustum.computeCullingVolume(e,t,n)};xl.prototype.getPixelDimensions=function(e,t,n,i,o){return Gb(this),this._offCenterFrustum.getPixelDimensions(e,t,n,i,o)};xl.prototype.clone=function(e){return l(e)||(e=new xl),e.aspectRatio=this.aspectRatio,e.width=this.width,e.near=this.near,e.far=this.far,e._aspectRatio=void 0,e._width=void 0,e._near=void 0,e._far=void 0,this._offCenterFrustum.clone(e._offCenterFrustum),e};xl.prototype.equals=function(e){return!l(e)||!(e instanceof xl)?!1:(Gb(this),Gb(e),this.width===e.width&&this.aspectRatio===e.aspectRatio&&this._offCenterFrustum.equals(e._offCenterFrustum))};xl.prototype.equalsEpsilon=function(e,t,n){return!l(e)||!(e instanceof xl)?!1:(Gb(this),Gb(e),P.equalsEpsilon(this.width,e.width,t,n)&&P.equalsEpsilon(this.aspectRatio,e.aspectRatio,t,n)&&this._offCenterFrustum.equalsEpsilon(e._offCenterFrustum,t,n))};var rn=xl;var OMt=T(S(),1);var LY={};function VZe(e){let t=6.239996+.0172019696544*e;return .001657*Math.sin(t+.01671*Math.sin(t))}var LZe=32.184,ZZe=2451545;function wee(e,t){t=te.addSeconds(e,LZe,t);let n=te.totalDays(t)-ZZe;return t=te.addSeconds(t,VZe(n),t),t}var l5=new te(2451545,0,zn.TAI),RZe=1e3,su=P.RADIANS_PER_DEGREE,id=P.RADIANS_PER_ARCSECOND,Ca=14959787e4,yee=new $;function Fee(e,t,n,i,o,r,s){n<0&&(n=-n,o+=P.PI);let a=e*(1-t),c=i-o,d=o,u=EZe(r-i,t),m=GZe(t,0);vZe(c,n,d,yee);let p=a*(1+t),b=Math.cos(u),f=Math.sin(u),x=1+t*b,_=p/x;return l(s)?(s.x=_*b,s.y=_*f,s.z=0):s=new h(_*b,_*f,0),$.multiplyByVector(yee,s,s)}function GZe(e,t){return e<=t?\"Circular\":e<1-t?\"Elliptical\":e<=1+t?\"Parabolic\":\"Hyperbolic\"}function EZe(e,t){let n=WZe(e,t);return PZe(n,t)}var XZe=50,IZe=P.EPSILON8;function WZe(e,t){let n=Math.floor(e/P.TWO_PI);e-=n*P.TWO_PI;let i=e+t*Math.sin(e)/(1-Math.sin(e+t)+Math.sin(e)),o=Number.MAX_VALUE,r;for(r=0;r<XZe&&Math.abs(o-i)>IZe;++r){o=i;let s=o-t*Math.sin(o)-e,a=1-t*Math.cos(o);i=o-s/a}return o=i+n*P.TWO_PI,o}function PZe(e,t){let n=Math.floor(e/P.TWO_PI);e-=n*P.TWO_PI;let i=Math.cos(e)-t,o=Math.sin(e)*Math.sqrt(1-t*t),r=Math.atan2(o,i);return r=P.zeroToTwoPi(r),e<0&&(r-=P.TWO_PI),r+=n*P.TWO_PI,r}function vZe(e,t,n,i){let o=Math.cos(e),r=Math.sin(e),s=Math.cos(t),a=Math.sin(t),c=Math.cos(n),d=Math.sin(n);return l(i)?(i[0]=c*o-d*r*s,i[1]=d*o+c*r*s,i[2]=r*a,i[3]=-c*r-d*o*s,i[4]=-d*r+c*o*s,i[5]=o*a,i[6]=d*a,i[7]=-c*a,i[8]=s):i=new $(c*o-d*r*s,-c*r-d*o*s,d*a,d*o+c*r*s,-d*r+c*o*s,-c*a,r*a,o*a,s),i}var wZe=1.0000010178*Ca,FZe=100.46645683*su,AZe=129597742283429e-5*id,gee=16002,xee=21863,_ee=32004,Tee=10931,See=14529,Cee=16368,Vee=15318,Lee=32794,MZe=64*1e-7*Ca,NZe=-152*1e-7*Ca,kZe=62*1e-7*Ca,UZe=-8*1e-7*Ca,DZe=32*1e-7*Ca,BZe=-41*1e-7*Ca,YZe=19*1e-7*Ca,OZe=-11*1e-7*Ca,zZe=-150*1e-7*Ca,HZe=-46*1e-7*Ca,KZe=68*1e-7*Ca,JZe=54*1e-7*Ca,QZe=14*1e-7*Ca,jZe=24*1e-7*Ca,qZe=-28*1e-7*Ca,$Ze=22*1e-7*Ca,Zee=10,Ree=16002,Gee=21863,Eee=10931,Xee=1473,Iee=32004,Wee=4387,Pee=73,eRe=-325*1e-7,tRe=-322*1e-7,nRe=-79*1e-7,iRe=232*1e-7,oRe=-52*1e-7,rRe=97*1e-7,sRe=55*1e-7,aRe=-41*1e-7,cRe=-105*1e-7,lRe=-137*1e-7,dRe=258*1e-7,uRe=35*1e-7,mRe=-116*1e-7,hRe=-88*1e-7,fRe=-112*1e-7,pRe=-80*1e-7,NS=new te(0,0,zn.TAI);function bRe(e,t){wee(e,NS);let i=(NS.dayNumber-l5.dayNumber+(NS.secondsOfDay-l5.secondsOfDay)/Hn.SECONDS_PER_DAY)/(Hn.DAYS_PER_JULIAN_CENTURY*10),o=.3595362*i,r=wZe+MZe*Math.cos(gee*o)+zZe*Math.sin(gee*o)+NZe*Math.cos(xee*o)+HZe*Math.sin(xee*o)+kZe*Math.cos(_ee*o)+KZe*Math.sin(_ee*o)+UZe*Math.cos(Tee*o)+JZe*Math.sin(Tee*o)+DZe*Math.cos(See*o)+QZe*Math.sin(See*o)+BZe*Math.cos(Cee*o)+jZe*Math.sin(Cee*o)+YZe*Math.cos(Vee*o)+qZe*Math.sin(Vee*o)+OZe*Math.cos(Lee*o)+$Ze*Math.sin(Lee*o),s=FZe+AZe*i+eRe*Math.cos(Zee*o)+cRe*Math.sin(Zee*o)+tRe*Math.cos(Ree*o)+lRe*Math.sin(Ree*o)+nRe*Math.cos(Gee*o)+dRe*Math.sin(Gee*o)+iRe*Math.cos(Eee*o)+uRe*Math.sin(Eee*o)+oRe*Math.cos(Xee*o)+mRe*Math.sin(Xee*o)+rRe*Math.cos(Iee*o)+hRe*Math.sin(Iee*o)+sRe*Math.cos(Wee*o)+fRe*Math.sin(Wee*o)+aRe*Math.cos(Pee*o)+pRe*Math.sin(Pee*o),a=.0167086342-.0004203654*i,c=102.93734808*su+11612.3529*id*i,d=469.97289*id*i,u=174.87317577*su-8679.27034*id*i;return Fee(r,a,d,c,u,s,t)}function Aee(e,t){wee(e,NS);let i=(NS.dayNumber-l5.dayNumber+(NS.secondsOfDay-l5.secondsOfDay)/Hn.SECONDS_PER_DAY)/Hn.DAYS_PER_JULIAN_CENTURY,o=i*i,r=o*i,s=r*i,a=383397.7725+.004*i,c=.055545526-16e-9*i,d=5.15668983*su,u=-8e-5*i+.02966*o-42e-6*r-13e-8*s,m=83.35324312*su,p=146434202669e-4*i-38.2702*o-.045047*r+21301e-8*s,b=125.04455501*su,f=-69679193631e-4*i+6.3602*o+.007625*r-3586e-8*s,x=218.31664563*su,_=17325593434847e-4*i-6.391*o+.006588*r-3169e-8*s,C=297.85019547*su+id*(1602961601209e-3*i-6.3706*o+.006593*r-3169e-8*s),V=93.27209062*su+id*(17395272628478e-4*i-12.7512*o-.001037*r+417e-8*s),L=134.96340251*su+id*(17179159232178e-4*i+31.8792*o+.051635*r-2447e-7*s),R=357.52910918*su+id*(1295965810481e-4*i-.5532*o+136e-6*r-1149e-8*s),G=310.17137918*su-id*(6967051436e-3*i+6.2068*o+.007618*r-3219e-8*s),X=2*C,v=4*C,W=6*C,F=2*L,A=3*L,y=4*L,Z=2*V;a+=3400.4*Math.cos(X)-635.6*Math.cos(X-L)-235.6*Math.cos(L)+218.1*Math.cos(X-R)+181*Math.cos(X+L),c+=.014216*Math.cos(X-L)+.008551*Math.cos(X-F)-.001383*Math.cos(L)+.001356*Math.cos(X+L)-.001147*Math.cos(v-A)-914e-6*Math.cos(v-F)+869e-6*Math.cos(X-R-L)-627e-6*Math.cos(X)-394e-6*Math.cos(v-y)+282e-6*Math.cos(X-R-F)-279e-6*Math.cos(C-L)-236e-6*Math.cos(F)+231e-6*Math.cos(v)+229e-6*Math.cos(W-y)-201e-6*Math.cos(F-Z),u+=486.26*Math.cos(X-Z)-40.13*Math.cos(X)+37.51*Math.cos(Z)+25.73*Math.cos(F-Z)+19.97*Math.cos(X-R-Z),p+=-55609*Math.sin(X-L)-34711*Math.sin(X-F)-9792*Math.sin(L)+9385*Math.sin(v-A)+7505*Math.sin(v-F)+5318*Math.sin(X+L)+3484*Math.sin(v-y)-3417*Math.sin(X-R-L)-2530*Math.sin(W-y)-2376*Math.sin(X)-2075*Math.sin(X-A)-1883*Math.sin(F)-1736*Math.sin(W-5*L)+1626*Math.sin(R)-1370*Math.sin(W-A),f+=-5392*Math.sin(X-Z)-540*Math.sin(R)-441*Math.sin(X)+423*Math.sin(Z)-288*Math.sin(F-Z),_+=-3332.9*Math.sin(X)+1197.4*Math.sin(X-L)-662.5*Math.sin(R)+396.3*Math.sin(L)-218*Math.sin(X-R);let E=2*G,I=3*G;u+=46.997*Math.cos(G)*i-.614*Math.cos(X-Z+G)*i+.614*Math.cos(X-Z-G)*i-.0297*Math.cos(E)*o-.0335*Math.cos(G)*o+.0012*Math.cos(X-Z+E)*o-16e-5*Math.cos(G)*r+4e-5*Math.cos(I)*r+4e-5*Math.cos(E)*r;let w=2.116*Math.sin(G)*i-.111*Math.sin(X-Z-G)*i-.0015*Math.sin(G)*o;p+=w,_+=w,f+=-520.77*Math.sin(G)*i+13.66*Math.sin(X-Z+G)*i+1.12*Math.sin(X-G)*i-1.06*Math.sin(Z-G)*i+.66*Math.sin(E)*o+.371*Math.sin(G)*o-.035*Math.sin(X-Z+E)*o-.015*Math.sin(X-Z+G)*o+.0014*Math.sin(G)*r-.0011*Math.sin(I)*r-9e-4*Math.sin(E)*r,a*=RZe;let k=d+u*id,B=m+p*id,U=x+_*id,Y=b+f*id;return Fee(a,c,k,B,Y,U,t)}var vee=.012300034,yRe=vee/(vee+1)*-1;function gRe(e,t){return t=Aee(e,t),h.multiplyByScalar(t,yRe,t)}var Mee=new $(1.0000000000000002,5619723173785822e-31,4690511510146299e-34,-5154129427414611e-31,.9174820620691819,-.39777715593191376,-223970096136568e-30,.39777715593191376,.9174820620691819),FG=new h;LY.computeSunPositionInEarthInertialFrame=function(e,t){return l(e)||(e=te.now()),l(t)||(t=new h),FG=bRe(e,FG),t=h.negate(FG,t),gRe(e,FG),h.subtract(t,FG,t),$.multiplyByVector(Mee,t,t),t};LY.computeMoonPositionInEarthInertialFrame=function(e,t){return l(e)||(e=te.now()),t=Aee(e,t),$.multiplyByVector(Mee,t,t),t};var Eb=LY;var HMt=T(S(),1),d5={MORPHING:0,COLUMBUS_VIEW:1,SCENE2D:2,SCENE3D:3};d5.getMorphTime=function(e){return e===d5.SCENE3D?1:e===d5.MORPHING?void 0:0};var ie=Object.freeze(d5);var JMt=T(S(),1),xRe={LEFT_RIGHT:1,UP_DOWN:-1},Xb=Object.freeze(xRe);var $Mt=T(S(),1);function _Re(e){e=g(e,g.EMPTY_OBJECT),this.color=O.clone(g(e.color,O.WHITE)),this.intensity=g(e.intensity,2)}var yp=_Re;function kS(){this.globeDepthTexture=void 0,this.gamma=void 0,this._viewport=new ze,this._viewportCartesian4=new se,this._viewportDirty=!1,this._viewportOrthographicMatrix=M.clone(M.IDENTITY),this._viewportTransformation=M.clone(M.IDENTITY),this._model=M.clone(M.IDENTITY),this._view=M.clone(M.IDENTITY),this._inverseView=M.clone(M.IDENTITY),this._projection=M.clone(M.IDENTITY),this._infiniteProjection=M.clone(M.IDENTITY),this._entireFrustum=new D,this._currentFrustum=new D,this._frustumPlanes=new se,this._farDepthFromNearPlusOne=void 0,this._log2FarDepthFromNearPlusOne=void 0,this._oneOverLog2FarDepthFromNearPlusOne=void 0,this._frameState=void 0,this._temeToPseudoFixed=$.clone(M.IDENTITY),this._view3DDirty=!0,this._view3D=new M,this._inverseView3DDirty=!0,this._inverseView3D=new M,this._inverseModelDirty=!0,this._inverseModel=new M,this._inverseTransposeModelDirty=!0,this._inverseTransposeModel=new $,this._viewRotation=new $,this._inverseViewRotation=new $,this._viewRotation3D=new $,this._inverseViewRotation3D=new $,this._inverseProjectionDirty=!0,this._inverseProjection=new M,this._modelViewDirty=!0,this._modelView=new M,this._modelView3DDirty=!0,this._modelView3D=new M,this._modelViewRelativeToEyeDirty=!0,this._modelViewRelativeToEye=new M,this._inverseModelViewDirty=!0,this._inverseModelView=new M,this._inverseModelView3DDirty=!0,this._inverseModelView3D=new M,this._viewProjectionDirty=!0,this._viewProjection=new M,this._inverseViewProjectionDirty=!0,this._inverseViewProjection=new M,this._modelViewProjectionDirty=!0,this._modelViewProjection=new M,this._inverseModelViewProjectionDirty=!0,this._inverseModelViewProjection=new M,this._modelViewProjectionRelativeToEyeDirty=!0,this._modelViewProjectionRelativeToEye=new M,this._modelViewInfiniteProjectionDirty=!0,this._modelViewInfiniteProjection=new M,this._normalDirty=!0,this._normal=new $,this._normal3DDirty=!0,this._normal3D=new $,this._inverseNormalDirty=!0,this._inverseNormal=new $,this._inverseNormal3DDirty=!0,this._inverseNormal3D=new $,this._encodedCameraPositionMCDirty=!0,this._encodedCameraPositionMC=new Yn,this._cameraPosition=new h,this._sunPositionWC=new h,this._sunPositionColumbusView=new h,this._sunDirectionWC=new h,this._sunDirectionEC=new h,this._moonDirectionEC=new h,this._lightDirectionWC=new h,this._lightDirectionEC=new h,this._lightColor=new h,this._lightColorHdr=new h,this._pass=void 0,this._mode=void 0,this._mapProjection=void 0,this._ellipsoid=void 0,this._cameraDirection=new h,this._cameraRight=new h,this._cameraUp=new h,this._frustum2DWidth=0,this._eyeHeight=0,this._eyeHeight2D=new D,this._eyeEllipsoidNormalEC=new h,this._eyeEllipsoidCurvature=new D,this._modelToEnu=new M,this._enuToModel=new M,this._pixelRatio=1,this._orthographicIn3D=!1,this._backgroundColor=new O,this._brdfLut=void 0,this._environmentMap=void 0,this._sphericalHarmonicCoefficients=void 0,this._specularEnvironmentMaps=void 0,this._specularEnvironmentMapsDimensions=new D,this._specularEnvironmentMapsMaximumLOD=void 0,this._fogDensity=void 0,this._fogMinimumBrightness=void 0,this._atmosphereHsbShift=void 0,this._atmosphereLightIntensity=void 0,this._atmosphereRayleighCoefficient=new h,this._atmosphereRayleighScaleHeight=new h,this._atmosphereMieCoefficient=new h,this._atmosphereMieScaleHeight=void 0,this._atmosphereMieAnisotropy=void 0,this._atmosphereDynamicLighting=void 0,this._invertClassificationColor=void 0,this._splitMode=Xb.LEFT_RIGHT,this._splitPosition=0,this._pixelSizePerMeter=void 0,this._geometricToleranceOverMeter=void 0,this._minimumDisableDepthTestDistance=void 0}Object.defineProperties(kS.prototype,{frameState:{get:function(){return this._frameState}},viewport:{get:function(){return this._viewport},set:function(e){if(!ze.equals(e,this._viewport)){ze.clone(e,this._viewport);let t=this._viewport,n=this._viewportCartesian4;n.x=t.x,n.y=t.y,n.z=t.width,n.w=t.height,this._viewportDirty=!0}}},viewportCartesian4:{get:function(){return this._viewportCartesian4}},viewportOrthographic:{get:function(){return kee(this),this._viewportOrthographicMatrix}},viewportTransformation:{get:function(){return kee(this),this._viewportTransformation}},model:{get:function(){return this._model},set:function(e){M.clone(e,this._model),this._modelView3DDirty=!0,this._inverseModelView3DDirty=!0,this._inverseModelDirty=!0,this._inverseTransposeModelDirty=!0,this._modelViewDirty=!0,this._inverseModelViewDirty=!0,this._modelViewRelativeToEyeDirty=!0,this._inverseModelViewDirty=!0,this._modelViewProjectionDirty=!0,this._inverseModelViewProjectionDirty=!0,this._modelViewProjectionRelativeToEyeDirty=!0,this._modelViewInfiniteProjectionDirty=!0,this._normalDirty=!0,this._inverseNormalDirty=!0,this._normal3DDirty=!0,this._inverseNormal3DDirty=!0,this._encodedCameraPositionMCDirty=!0}},inverseModel:{get:function(){return this._inverseModelDirty&&(this._inverseModelDirty=!1,M.inverse(this._model,this._inverseModel)),this._inverseModel}},inverseTransposeModel:{get:function(){let e=this._inverseTransposeModel;return this._inverseTransposeModelDirty&&(this._inverseTransposeModelDirty=!1,M.getMatrix3(this.inverseModel,e),$.transpose(e,e)),e}},view:{get:function(){return this._view}},view3D:{get:function(){return ZY(this),this._view3D}},viewRotation:{get:function(){return ZY(this),this._viewRotation}},viewRotation3D:{get:function(){return ZY(this),this._viewRotation3D}},inverseView:{get:function(){return this._inverseView}},inverseView3D:{get:function(){return Bee(this),this._inverseView3D}},inverseViewRotation:{get:function(){return this._inverseViewRotation}},inverseViewRotation3D:{get:function(){return Bee(this),this._inverseViewRotation3D}},projection:{get:function(){return this._projection}},inverseProjection:{get:function(){return IRe(this),this._inverseProjection}},infiniteProjection:{get:function(){return this._infiniteProjection}},modelView:{get:function(){return WRe(this),this._modelView}},modelView3D:{get:function(){return PRe(this),this._modelView3D}},modelViewRelativeToEye:{get:function(){return NRe(this),this._modelViewRelativeToEye}},inverseModelView:{get:function(){return vRe(this),this._inverseModelView}},inverseModelView3D:{get:function(){return wRe(this),this._inverseModelView3D}},viewProjection:{get:function(){return FRe(this),this._viewProjection}},inverseViewProjection:{get:function(){return ARe(this),this._inverseViewProjection}},modelViewProjection:{get:function(){return MRe(this),this._modelViewProjection}},inverseModelViewProjection:{get:function(){return kRe(this),this._inverseModelViewProjection}},modelViewProjectionRelativeToEye:{get:function(){return URe(this),this._modelViewProjectionRelativeToEye}},modelViewInfiniteProjection:{get:function(){return DRe(this),this._modelViewInfiniteProjection}},normal:{get:function(){return BRe(this),this._normal}},normal3D:{get:function(){return YRe(this),this._normal3D}},inverseNormal:{get:function(){return ORe(this),this._inverseNormal}},inverseNormal3D:{get:function(){return zRe(this),this._inverseNormal3D}},entireFrustum:{get:function(){return this._entireFrustum}},currentFrustum:{get:function(){return this._currentFrustum}},frustumPlanes:{get:function(){return this._frustumPlanes}},farDepthFromNearPlusOne:{get:function(){return this._farDepthFromNearPlusOne}},log2FarDepthFromNearPlusOne:{get:function(){return this._log2FarDepthFromNearPlusOne}},oneOverLog2FarDepthFromNearPlusOne:{get:function(){return this._oneOverLog2FarDepthFromNearPlusOne}},eyeHeight:{get:function(){return this._eyeHeight}},eyeHeight2D:{get:function(){return this._eyeHeight2D}},eyeEllipsoidNormalEC:{get:function(){return this._eyeEllipsoidNormalEC}},eyeEllipsoidCurvature:{get:function(){return this._eyeEllipsoidCurvature}},modelToEnu:{get:function(){return this._modelToEnu}},enuToModel:{get:function(){return this._enuToModel}},sunPositionWC:{get:function(){return this._sunPositionWC}},sunPositionColumbusView:{get:function(){return this._sunPositionColumbusView}},sunDirectionWC:{get:function(){return this._sunDirectionWC}},sunDirectionEC:{get:function(){return this._sunDirectionEC}},moonDirectionEC:{get:function(){return this._moonDirectionEC}},lightDirectionWC:{get:function(){return this._lightDirectionWC}},lightDirectionEC:{get:function(){return this._lightDirectionEC}},lightColor:{get:function(){return this._lightColor}},lightColorHdr:{get:function(){return this._lightColorHdr}},encodedCameraPositionMCHigh:{get:function(){return Dee(this),this._encodedCameraPositionMC.high}},encodedCameraPositionMCLow:{get:function(){return Dee(this),this._encodedCameraPositionMC.low}},temeToPseudoFixedMatrix:{get:function(){return this._temeToPseudoFixed}},pixelRatio:{get:function(){return this._pixelRatio}},fogDensity:{get:function(){return this._fogDensity}},fogMinimumBrightness:{get:function(){return this._fogMinimumBrightness}},atmosphereHsbShift:{get:function(){return this._atmosphereHsbShift}},atmosphereLightIntensity:{get:function(){return this._atmosphereLightIntensity}},atmosphereRayleighCoefficient:{get:function(){return this._atmosphereRayleighCoefficient}},atmosphereRayleighScaleHeight:{get:function(){return this._atmosphereRayleighScaleHeight}},atmosphereMieCoefficient:{get:function(){return"
}