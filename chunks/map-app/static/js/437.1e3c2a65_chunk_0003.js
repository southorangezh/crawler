{
  "metadata": {
    "source_file": "map-app\\static\\js\\437.1e3c2a65.js",
    "chunk_index": 3,
    "total_chunks": 52,
    "chunk_size": 56138,
    "word_count": 800,
    "model_kwargs": {
      "model": "text-embedding-3-large",
      "dimensions": 3072,
      "encoding_format": "float"
    },
    "text_splitter": {
      "split_by": "word",
      "chunk_size": 800,
      "chunk_overlap": 200
    },
    "created_at": "2025-12-17T23:57:49.893Z"
  },
  "content": "n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function r(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach(function(e){var n,i,o;n=t,i=e,o=r[e],i in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var i,o={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:\"\",container:\"body\",filter:null,fullscreen:!0,inheritedAttributes:[\"crossOrigin\",\"decoding\",\"isMap\",\"loading\",\"referrerPolicy\",\"sizes\",\"srcset\",\"useMap\"],initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:\"src\",useLayoutImageSizeOnInit:!1,heightRatio:.9,widthRatio:.9,movableLimit:!1,useLayoutSizeAfterInit:!1,zoomRatioToOne:!1,smoothZoomOnTouch:!1,isResetWhenResize:!0,ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},a=\"undefined\"!=typeof window&&void 0!==window.document,s=a?window:{},u=!!a&&!!s.document.documentElement&&\"ontouchstart\"in s.document.documentElement,l=!!a&&\"PointerEvent\"in s,c=\"viewer\",f=\"move\",h=\"switch\",p=\"zoom\",d=\"\".concat(c,\"-active\"),g=\"\".concat(c,\"-close\"),m=\"\".concat(c,\"-fade\"),y=\"\".concat(c,\"-fixed\"),_=\"\".concat(c,\"-fullscreen\"),b=\"\".concat(c,\"-fullscreen-exit\"),x=\"\".concat(c,\"-hide\"),E=\"\".concat(c,\"-hide-md-down\"),w=\"\".concat(c,\"-hide-sm-down\"),C=\"\".concat(c,\"-hide-xs-down\"),S=\"\".concat(c,\"-in\"),D=\"\".concat(c,\"-invisible\"),I=\"\".concat(c,\"-loading\"),A=\"\".concat(c,\"-move\"),N=\"\".concat(c,\"-open\"),O=\"\".concat(c,\"-show\"),T=\"\".concat(c,\"-transition\"),M=\"click\",P=\"dblclick\",L=\"dragstart\",F=\"focusin\",R=\"keydown\",k=\"load\",B=u?\"touchend touchcancel\":\"mouseup\",z=u?\"touchmove\":\"mousemove\",j=u?\"touchstart\":\"mousedown\",$=l?\"pointerdown\":j,U=l?\"pointermove\":z,H=l?\"pointerup pointercancel\":B,W=\"resize\",V=\"transitionend\",G=\"wheel\",q=\"ready\",Z=\"show\",X=\"shown\",Y=\"hide\",K=\"hidden\",J=\"view\",Q=\"viewed\",tt=\"move\",te=\"moved\",tn=\"rotate\",tr=\"rotated\",ti=\"scale\",to=\"scaled\",ta=\"zoom\",ts=\"zoomed\",tu=\"play\",tl=\"stop\",tc=\"\".concat(c,\"Action\"),tf=/\\s\\s*/,th=[\"zoom-in\",\"zoom-out\",\"one-to-one\",\"reset\",\"prev\",\"play\",\"next\",\"rotate-left\",\"rotate-right\",\"flip-horizontal\",\"flip-vertical\"];function tp(t){return\"string\"==typeof t}var td=Number.isNaN||s.isNaN;function tg(t){return\"number\"==typeof t&&!td(t)}function tm(t){return void 0===t}function ty(e){return\"object\"===t(e)&&null!==e}var tv=Object.prototype.hasOwnProperty;function t_(t){if(!ty(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&tv.call(n,\"isPrototypeOf\")}catch(t){return!1}}function tb(t){return\"function\"==typeof t}function tx(t,e){if(t&&tb(e)){if(Array.isArray(t)||tg(t.length)){var n,r=t.length;for(n=0;n<r&&!1!==e.call(t,t[n],n,t);n+=1);}else ty(t)&&Object.keys(t).forEach(function(n){e.call(t,t[n],n,t)})}return t}var tE=Object.assign||function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return ty(t)&&n.length>0&&n.forEach(function(e){ty(e)&&Object.keys(e).forEach(function(n){t[n]=e[n]})}),t},tw=/^(?:width|height|left|top|marginLeft|marginTop)$/;function tC(t,e){var n=t.style;tx(e,function(t,e){tw.test(e)&&tg(t)&&(t+=\"px\"),n[e]=t})}function tS(t,e){return!!t&&!!e&&(t.classList?t.classList.contains(e):t.className.indexOf(e)>-1)}function tD(t,e){if(!!t&&!!e){if(tg(t.length)){tx(t,function(t){tD(t,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?0>n.indexOf(e)&&(t.className=\"\".concat(n,\" \").concat(e)):t.className=e}}function tI(t,e){if(!!t&&!!e){if(tg(t.length)){tx(t,function(t){tI(t,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,\"\"))}}function tA(t,e,n){if(!!e){if(tg(t.length)){tx(t,function(t){tA(t,e,n)});return}n?tD(t,e):tI(t,e)}}var tN=/([a-z\\d])([A-Z])/g;function tO(t){return t.replace(tN,\"$1-$2\").toLowerCase()}function tT(t,e){return ty(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute(\"data-\".concat(tO(e)))}function tM(t,e,n){ty(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute(\"data-\".concat(tO(e)),n)}var tP=function(){var t=!1;if(a){var e=!1,n=function(){},r=Object.defineProperty({},\"once\",{get:function(){return t=!0,e},set:function(t){e=t}});s.addEventListener(\"test\",n,r),s.removeEventListener(\"test\",n,r)}return t}();function tL(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n;e.trim().split(tf).forEach(function(e){if(!tP){var o=t.listeners;o&&o[e]&&o[e][n]&&(i=o[e][n],delete o[e][n],0===Object.keys(o[e]).length&&delete o[e],0===Object.keys(o).length&&delete t.listeners)}t.removeEventListener(e,i,r)})}function tF(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n;e.trim().split(tf).forEach(function(e){if(r.once&&!tP){var o=t.listeners,a=void 0===o?{}:o;i=function(){delete a[e][n],t.removeEventListener(e,i,r);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];n.apply(t,s)},!a[e]&&(a[e]={}),a[e][n]&&t.removeEventListener(e,a[e][n],r),a[e][n]=i,t.listeners=a}t.addEventListener(e,i,r)})}function tR(t,e,n,i){var o;return tb(Event)&&tb(CustomEvent)?o=new CustomEvent(e,r({bubbles:!0,cancelable:!0,detail:n},i)):(o=document.createEvent(\"CustomEvent\")).initCustomEvent(e,!0,!0,n),t.dispatchEvent(o)}function tk(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,i=t.translateX,o=t.translateY,a=[];tg(i)&&0!==i&&a.push(\"translateX(\".concat(i,\"px)\")),tg(o)&&0!==o&&a.push(\"translateY(\".concat(o,\"px)\")),tg(e)&&0!==e&&a.push(\"rotate(\".concat(e,\"deg)\")),tg(n)&&1!==n&&a.push(\"scaleX(\".concat(n,\")\")),tg(r)&&1!==r&&a.push(\"scaleY(\".concat(r,\")\"));var s=a.length?a.join(\" \"):\"none\";return{WebkitTransform:s,msTransform:s,transform:s}}var tB=s.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(s.navigator.userAgent);function tz(t,e,n){var r=document.createElement(\"img\");if(t.naturalWidth&&!tB)return n(t.naturalWidth,t.naturalHeight),r;var i=document.body||document.documentElement;return r.onload=function(){n(r.width,r.height),!tB&&i.removeChild(r)},tx(e.inheritedAttributes,function(e){var n=t.getAttribute(e);null!==n&&r.setAttribute(e,n)}),r.src=t.src,!tB&&(r.style.cssText=\"left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;\",i.appendChild(r)),r}function tj(t){switch(t){case 2:return C;case 3:return w;case 4:return E;default:return\"\"}}function t$(t,e){var n=t.pageX,i=t.pageY,o={endX:n,endY:i};return e?o:r({timeStamp:Date.now(),startX:n,startY:i},o)}function tU(t,e,n){if(n>e){if(t<0||t+e>n)return!0}else if(t+e<n||t>0)return!0;return!1}function tH(t,e,n,r){if(0===t)return!1;var i=-e,o=r-e-n;if(t>0){if(n<r)return!!(t>o)&&o;return!!(t>i)&&i}if(t<0){if(n<r)return!!(i>t)&&i;return!!(o>t)&&o}}var tW=s.Viewer;var tV=(i=-1,function(){return i+=1}),tG=function(){var t,n,r;function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!function(t,e){if(!(t instanceof e))throw TypeError(\"Cannot call a class as a function\")}(this,i),!t||1!==t.nodeType)throw Error(\"The first argument is required and must be an element.\");this.element=t,this.options=tE({},o,t_(e)&&e),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.wheelEventNumber=0,this.lastZoomExecuteTime=0,this.zoomOnTouchContinuousExecuteNumber=0,this.id=tV(),this.init()}return t=i,n=[{key:\"init\",value:function(){var t=this,e=this.element,n=this.options;if(!e[c]){e[c]=this,n.focus&&!n.keyboard&&(n.focus=!1);var r=\"img\"===e.localName,i=[];if(tx(r?[e]:e.querySelectorAll(\"img\"),function(e){tb(n.filter)?n.filter.call(t,e)&&i.push(e):t.getImageURL(e)&&i.push(e)}),this.isImg=r,this.length=i.length,this.images=i,this.initBody(),tm(document.createElement(c).style.transition)&&(n.transition=!1),n.inline){var o=0,a=function(){if((o+=1)===t.length){var e;t.initializing=!1,t.delaying={abort:function(){clearTimeout(e)}},e=setTimeout(function(){t.delaying=!1,t.build()},0)}};this.initializing={abort:function(){tx(i,function(t){!t.complete&&tL(t,k,a)})}},tx(i,function(t){t.complete?a():tF(t,k,a,{once:!0})})}else tF(e,M,this.onStart=function(e){var r=e.target;\"img\"===r.localName&&(!tb(n.filter)||n.filter.call(t,r))&&t.view(t.images.indexOf(r))})}}},{key:\"build\",value:function(){if(!this.ready){var t=this.element,e=this.options,n=t.parentNode,r=document.createElement(\"div\");r.innerHTML='<div class=\"viewer-container\" tabindex=\"-1\" touch-action=\"none\"><div class=\"viewer-canvas\"></div><div class=\"viewer-footer\"><div class=\"viewer-title\"></div><div class=\"viewer-toolbar\"></div><div class=\"viewer-navbar\"><ul class=\"viewer-list\" role=\"navigation\"></ul></div></div><div class=\"viewer-tooltip\" role=\"alert\" aria-hidden=\"true\"></div><div class=\"viewer-button\" data-viewer-action=\"mix\" role=\"button\"></div><div class=\"viewer-player\"></div></div>';var i=r.querySelector(\".\".concat(c,\"-container\")),o=i.querySelector(\".\".concat(c,\"-title\")),a=i.querySelector(\".\".concat(c,\"-toolbar\")),s=i.querySelector(\".\".concat(c,\"-navbar\")),u=i.querySelector(\".\".concat(c,\"-button\")),l=i.querySelector(\".\".concat(c,\"-canvas\"));if(this.parent=n,this.viewer=i,this.title=o,this.toolbar=a,this.navbar=s,this.button=u,this.canvas=l,this.footer=i.querySelector(\".\".concat(c,\"-footer\")),this.tooltipBox=i.querySelector(\".\".concat(c,\"-tooltip\")),this.player=i.querySelector(\".\".concat(c,\"-player\")),this.list=i.querySelector(\".\".concat(c,\"-list\")),i.id=\"\".concat(c).concat(this.id),o.id=\"\".concat(c,\"Title\").concat(this.id),tD(o,e.title?tj(Array.isArray(e.title)?e.title[0]:e.title):x),tD(s,e.navbar?tj(e.navbar):x),tA(u,x,!e.button),e.keyboard&&u.setAttribute(\"tabindex\",0),e.backdrop&&(tD(i,\"\".concat(c,\"-backdrop\")),!e.inline&&\"static\"!==e.backdrop&&tM(l,tc,\"hide\")),tp(e.className)&&e.className&&e.className.split(tf).forEach(function(t){tD(i,t)}),e.toolbar){var f=document.createElement(\"ul\"),h=t_(e.toolbar),p=th.slice(0,3),d=th.slice(7,9),b=th.slice(9);!h&&tD(a,tj(e.toolbar)),tx(h?e.toolbar:th,function(t,n){var r=h&&t_(t),i=h?tO(n):t,o=r&&!tm(t.show)?t.show:t;if(!!o&&(!!e.zoomable||-1===p.indexOf(i))&&(!!e.rotatable||-1===d.indexOf(i))&&(!!e.scalable||-1===b.indexOf(i))){var a=r&&!tm(t.size)?t.size:t,s=r&&!tm(t.click)?t.click:t,u=document.createElement(\"li\");e.keyboard&&u.setAttribute(\"tabindex\",0),u.setAttribute(\"role\",\"button\"),tD(u,\"\".concat(c,\"-\").concat(i)),!tb(s)&&tM(u,tc,i),tg(o)&&tD(u,tj(o)),-1!==[\"small\",\"large\"].indexOf(a)?tD(u,\"\".concat(c,\"-\").concat(a)):\"play\"===i&&tD(u,\"\".concat(c,\"-large\")),tb(s)&&tF(u,M,s),f.appendChild(u)}}),a.appendChild(f)}else tD(a,x);if(!e.rotatable){var E=a.querySelectorAll('li[class*=\"rotate\"]');tD(E,D),tx(E,function(t){a.appendChild(t)})}if(e.inline)tD(u,_),tC(i,{zIndex:e.zIndexInline}),\"static\"===window.getComputedStyle(n).position&&tC(n,{position:\"relative\"}),n.insertBefore(i,t.nextSibling);else{tD(u,g),tD(i,y),tD(i,m),tD(i,x),tC(i,{zIndex:e.zIndex});var w=e.container;tp(w)&&(w=t.ownerDocument.querySelector(w)),!w&&(w=this.body),w.appendChild(i)}if(e.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,tb(e.ready)&&tF(t,q,e.ready,{once:!0}),!1===tR(t,q)){this.ready=!1;return}this.ready&&e.inline&&this.view(this.index)}}}],r=[{key:\"noConflict\",value:function(){return window.Viewer=tW,i}},{key:\"setDefaults\",value:function(t){tE(o,t_(t)&&t)}}],n&&e(t.prototype,n),r&&e(t,r),i}();return tE(tG.prototype,{render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var t=this.element.ownerDocument,e=t.body||t.documentElement;this.body=e,this.scrollbarWidth=window.innerWidth-t.documentElement.clientWidth,this.initialBodyPaddingRight=e.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(e).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var t,e=this.options,n=this.parent;e.inline&&(t={width:Math.max(n.offsetWidth,e.minWidth),height:Math.max(n.offsetHeight,e.minHeight)},this.parentData=t),(this.fulled||!t)&&(t=this.containerData),this.viewerData=tE({},t)},renderViewer:function(){this.options.inline&&!this.fulled&&tC(this.viewer,this.viewerData)},initList:function(){var t=this,e=this.element,n=this.options,r=this.list,i=[];r.innerHTML=\"\",tx(this.images,function(e,o){var a,s=e.src;var u=e.alt||(tp(a=s)?decodeURIComponent(a.replace(/^.*\\//,\"\").replace(/[?&#].*$/,\"\")):\"\"),l=t.getImageURL(e);if(s||l){var c=document.createElement(\"li\"),f=document.createElement(\"img\");tx(n.inheritedAttributes,function(t){var n=e.getAttribute(t);null!==n&&f.setAttribute(t,n)}),f.src=s||l,f.alt=u,f.setAttribute(\"data-original-url\",l||s),c.setAttribute(\"data-index\",o),c.setAttribute(\"data-viewer-action\",\"view\"),c.setAttribute(\"role\",\"button\"),n.keyboard&&c.setAttribute(\"tabindex\",0),c.appendChild(f),r.appendChild(c),i.push(c)}}),this.items=i,tx(i,function(e){var r=e.firstElementChild;tM(r,\"filled\",!0),n.loading&&tD(e,I),tF(r,k,function(r){n.loading&&tI(e,I),t.loadImage(r)},{once:!0})}),n.transition&&tF(e,Q,function(){tD(r,T)},{once:!0})},renderList:function(t){var e=t||this.index,n=this.items[e].offsetWidth||30,r=n+1;tC(this.list,tE({width:r*this.length},tk({translateX:(this.viewerData.width-n)/2-r*e})))},resetList:function(){var t=this.list;t.innerHTML=\"\",tI(t,T),tC(t,tk({translateX:0}))},initImage:function(t){var e,n=this,r=this.options,i=this.image,o=this.viewerData,a=this.footer.offsetHeight,s=o.width,u=Math.max(o.height-a,a),l=this.imageData||{};this.imageInitializing={abort:function(){e.onload=null}},e=tz(i,r,function(e,i){var o=e/i,a=s,c=u;n.imageInitializing=!1,u*o>s?c=s/o:a=u*o;var f=r.widthRatio||.9,h=r.heightRatio||.9;r.useLayoutSizeAfterInit?(a*=f,c*=h):(a=Math.min(a*f,e),c=Math.min(c*h,i));var p=(s-a)/2,d=(u-c)/2,g={left:p,top:d,x:p,y:d,width:a,height:c,ratio:a/e,aspectRatio:o,naturalWidth:e,naturalHeight:i},m=tE({},g);r.rotatable&&(g.rotate=l.rotate||0,m.rotate=0),r.scalable&&(g.scaleX=l.scaleX||1,g.scaleY=l.scaleY||1,m.scaleX=1,m.scaleY=1),n.imageData=g,n.initialImageData=m,t&&t()})},renderImage:function(t){var e=this,n=this.image,r=this.imageData;if(tC(n,tE({width:r.width,height:r.height,marginLeft:r.x,marginTop:r.y},tk(r))),t){if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&tS(n,T)){var i=function(){e.imageRendering=!1,t()};this.imageRendering={abort:function(){tL(n,V,i)}},tF(n,V,i,{once:!0})}else t()}},resetImage:function(){if(this.viewing||this.viewed){var t=this.image;this.viewing&&this.viewing.abort(),t.parentNode.removeChild(t),this.image=null}}},{bind:function(){var t=this.options,e=this.viewer,n=this.canvas,r=this.element.ownerDocument;tF(e,M,this.onClick=this.click.bind(this)),tF(e,L,this.onDragStart=this.dragstart.bind(this)),tF(n,$,this.onPointerDown=this.pointerdown.bind(this)),tF(r,U,this.onPointerMove=this.pointermove.bind(this)),tF(r,H,this.onPointerUp=this.pointerup.bind(this)),tF(r,R,this.onKeyDown=this.keydown.bind(this)),tF(window,W,this.onResize=this.resize.bind(this)),t.zoomable&&t.zoomOnWheel&&tF(e,G,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleOnDblclick&&tF(n,P,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var t=this.options,e=this.viewer,n=this.canvas,r=this.element.ownerDocument;tL(e,M,this.onClick),tL(e,L,this.onDragStart),tL(n,$,this.onPointerDown),tL(r,U,this.onPointerMove),tL(r,H,this.onPointerUp),tL(r,R,this.onKeyDown),tL(window,W,this.onResize),t.zoomable&&t.zoomOnWheel&&tL(e,G,this.onWheel,{passive:!1,capture:!0}),t.toggleOnDblclick&&tL(n,P,this.onDblclick)}},{click:function(t){var e=this.options,n=this.imageData,r=t.target,i=tT(r,tc);switch(!i&&\"img\"===r.localName&&\"li\"===r.parentElement.localName&&(i=tT(r=r.parentElement,tc)),u&&t.isTrusted&&r===this.canvas&&clearTimeout(this.clickCanvasTimeout),i){case\"mix\":this.played?this.stop():e.inline?this.fulled?this.exit():this.full():this.hide();break;case\"hide\":this.hide();break;case\"view\":this.view(tT(r,\"index\"));break;case\"zoom-in\":this.zoom(.1,!0);break;case\"zoom-out\":this.zoom(-.1,!0);break;case\"one-to-one\":this.toggle();break;case\"reset\":this.reset();break;case\"prev\":this.prev(e.loop);break;case\"play\":this.play(e.fullscreen);break;case\"next\":this.next(e.loop);break;case\"rotate-left\":this.rotate(-90);break;case\"rotate-right\":this.rotate(90);break;case\"flip-horizontal\":this.scaleX(-n.scaleX||-1);break;case\"flip-vertical\":this.scaleY(-n.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(t){t.preventDefault(),this.viewed&&t.target===this.image&&(u&&t.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle())},load:function(){var t=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var e=this.element,n=this.options,r=this.image,i=this.index,o=this.viewerData;if(tI(r,D),n.loading&&tI(this.canvas,I),n.useLayoutImageSizeOnInit){var a=r.width,s=r.height;r.style.cssText=\"\"+\"height:\".concat(s,\"px;\")+\"width:\".concat(a,\"px;\")+\"margin-left:\".concat((o.width-a)/2,\"px;\")+\"margin-top:\".concat((o.height-s)/2,\"px;\")+\"max-width:none!important;position:absolute;\"}else r.style.cssText=\"height:0;\"+\"margin-left:\".concat(o.width/2,\"px;\")+\"margin-top:\".concat(o.height/2,\"px;\")+\"max-width:none!important;position:absolute;width:0;\";this.initImage(function(){tA(r,A,n.movable),tA(r,T,n.transition),t.renderImage(function(){t.viewed=!0,t.viewing=!1,tb(n.viewed)&&tF(e,Q,n.viewed,{once:!0}),tR(e,Q,{originalImage:t.images[i],index:i,image:r},{cancelable:!1})})})},loadImage:function(t){var e=t.target,n=e.parentNode,r=n.offsetWidth||30,i=n.offsetHeight||50,o=!!tT(e,\"filled\");tz(e,this.options,function(t,n){var a=t/n,s=r,u=i;i*a>r?o?s=i*a:u=r/a:o?u=r/a:s=i*a,tC(e,tE({width:s,height:u},tk({translateX:(r-s)/2,translateY:(i-u)/2})))})},keydown:function(t){var e=this.options;if(!e.keyboard)return;var n=t.keyCode||t.which||t.charCode;if(13===n)this.viewer.contains(t.target)&&this.click(t);if(!!this.fulled)switch(n){case 27:this.played?this.stop():e.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.prev(e.loop);break;case 38:t.preventDefault(),this.zoom(e.zoomRatio,!0);break;case 39:this.next(e.loop);break;case 40:t.preventDefault(),this.zoom(-e.zoomRatio,!0);break;case 48:case 49:t.ctrlKey&&(t.preventDefault(),this.toggle())}},dragstart:function(t){\"img\"===t.target.localName&&t.preventDefault()},pointerdown:function(t){var e=this.options,n=this.pointers,r=t.buttons,i=t.button;if(!(!this.viewed||this.showing||this.viewing||this.hiding||(\"mousedown\"===t.type||\"pointerdown\"===t.type&&\"mouse\"===t.pointerType)&&(tg(r)&&1!==r||tg(i)&&0!==i||t.ctrlKey))){t.preventDefault(),t.changedTouches?tx(t.changedTouches,function(t){n[t.identifier]=t$(t)}):n[t.pointerId||0]=t$(t);var o=!!e.movable&&f;e.zoomOnTouch&&e.zoomable&&Object.keys(n).length>1?o=p:e.slideOnTouch&&(\"touch\"===t.pointerType||\"touchstart\"===t.type)&&this.isSwitchable()&&(o=h),e.transition&&(o===f||o===p)&&tI(this.image,T),this.action=o}},pointermove:function(t){var e=this.pointers,n=this.action;if(!!this.viewed&&!!n)t.preventDefault(),t.changedTouches?tx(t.changedTouches,function(t){tE(e[t.identifier]||{},t$(t,!0))}):tE(e[t.pointerId||0]||{},t$(t,!0)),this.change(t)},pointerup:function(t){var e,n=this,r=this.options,i=this.action,o=this.pointers;if(t.changedTouches?tx(t.changedTouches,function(t){e=o[t.identifier],delete o[t.identifier]}):(e=o[t.pointerId||0],delete o[t.pointerId||0]),!!i)t.preventDefault(),r.transition&&(i===f||i===p)&&tD(this.image,T),this.action=!1,u&&i!==p&&e&&Date.now()-e.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),r.toggleOnDblclick&&this.viewed&&t.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){tR(n.image,P)},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){n.imageClicked=!1},500)):(this.imageClicked=!1,r.backdrop&&\"static\"!==r.backdrop&&t.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){tR(n.canvas,M)},50))))},resize:function(){var t=this;if(!!this.isShown&&!this.hiding&&!!this.options.isResetWhenResize){if(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){t.renderImage()}),this.played){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}tx(this.player.getElementsByTagName(\"img\"),function(e){tF(e,k,t.loadImage.bind(t),{once:!0}),tR(e,k)})}}},wheel:function(t){var e=this;if(!this.viewed)return;if(t.preventDefault(),this.wheelEventNumber+=1,!this.wheeling){this.wheeling=!0,setTimeout(function(){e.wheeling=!1},100);var n=Number(this.options.zoomRatio)||.1,r=1;if(this.options.smoothZoomOnTouch){var i=new Date().getTime();if(i-this.lastZoomExecuteTime<=150&&this.wheelEventNumber>5?this.zoomOnTouchContinuousExecuteNumber+=1:this.zoomOnTouchContinuousExecuteNumber=0,this.lastZoomExecuteTime=i,this.zoomOnTouchContinuousExecuteNumber>0){var o=this.zoomOnTouchContinuousExecuteNumber;n*=Math.pow(.5,o>3?3:o)}}this.wheelEventNumber=0,t.deltaY?r=t.deltaY>0?1:-1:t.wheelDelta?r=-t.wheelDelta/120:t.detail&&(r=t.detail>0?1:-1),this.zoom(-r*n,!0,t)}}},{show:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.element,n=this.options;if(n.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(t),this;if(tb(n.show)&&tF(e,Z,n.show,{once:!0}),!1===tR(e,Z)||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var r=this.viewer;if(tI(r,x),r.setAttribute(\"role\",\"dialog\"),r.setAttribute(\"aria-labelledby\",this.title.id),r.setAttribute(\"aria-modal\",!0),r.removeAttribute(\"aria-hidden\"),n.transition&&!t){var i=this.shown.bind(this);this.transitioning={abort:function(){tL(r,V,i),tI(r,S)}},tD(r,T),r.initialOffsetWidth=r.offsetWidth,tF(r,V,i,{once:!0}),tD(r,S)}else tD(r,S),this.shown();return this},hide:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.element,r=this.options;if(r.inline||this.hiding||!(this.isShown||this.showing))return this;if(tb(r.hide)&&tF(n,Y,r.hide,{once:!0}),!1===tR(n,Y))return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var i=this.viewer,o=this.image,a=function(){tI(i,S),t.hidden()};if(r.transition&&!e){var s=function e(n){n&&n.target===i&&(tL(i,V,e),t.hidden())},u=function(){tS(i,T)?(tF(i,V,s),tI(i,S)):a()};this.transitioning={abort:function(){t.viewed&&tS(o,T)?tL(o,V,u):tS(i,T)&&tL(i,V,s)}},this.viewed&&tS(o,T)?(tF(o,V,u,{once:!0}),this.zoomTo(0,!1,!1,!0)):u()}else a();return this},view:function(){var t,e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.initialViewIndex;if(n=Number(n)||0,this.hiding||this.played||n<0||n>=this.length||this.viewed&&n===this.index)return this;if(!this.isShown)return this.index=n,this.show();this.viewing&&this.viewing.abort();var r=this.element,i=this.options,o=this.title,a=this.canvas,s=this.items[n],u=s.querySelector(\"img\"),l=tT(u,\"originalUrl\"),c=u.getAttribute(\"alt\"),f=document.createElement(\"img\");if(tx(i.inheritedAttributes,function(t){var e=u.getAttribute(t);null!==e&&f.setAttribute(t,e)}),f.src=l,f.alt=c,tb(i.view)&&tF(r,J,i.view,{once:!0}),!1===tR(r,J,{originalImage:this.images[n],index:n,image:f})||!this.isShown||this.hiding||this.played)return this;var h=this.items[this.index];tI(h,d),h.removeAttribute(\"aria-selected\"),tD(s,d),s.setAttribute(\"aria-selected\",!0),i.focus&&s.focus(),this.image=f,this.viewed=!1,this.index=n,this.imageData={},tD(f,D),i.loading&&tD(a,I),a.innerHTML=\"\",a.appendChild(f),this.renderList(),o.innerHTML=\"\";var p=function(){var t,n=e.imageData,r=Array.isArray(i.title)?i.title[1]:i.title;o.innerHTML=tp(t=tb(r)?r.call(e,f,n):\"\".concat(c,\" (\").concat(n.naturalWidth,\" \\xd7 \").concat(n.naturalHeight,\")\"))?t.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,\"&amp;\").replace(/\"/g,\"&quot;\").replace(/'/g,\"&#39;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\"):t};return tF(r,Q,p,{once:!0}),this.viewing={abort:function(){tL(r,Q,p),f.complete?e.imageRendering?e.imageRendering.abort():e.imageInitializing&&e.imageInitializing.abort():(f.src=\"\",tL(f,k,t),e.timeout&&clearTimeout(e.timeout))}},f.complete?this.load():(tF(f,k,t=this.load.bind(this),{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){tI(f,D),e.timeout=!1},1e3)),this},prev:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.index-1;return e<0&&(e=t?this.length-1:0),this.view(e),this},next:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.length-1,n=this.index+1;return n>e&&(n=t?0:e),this.view(n),this},move:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.imageData;return this.moveTo(tm(t)?t:n.x+Number(t),tm(e)?e:n.y+Number(e)),this},moveTo:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.element,o=this.options,a=this.imageData;if(t=Number(t),n=Number(n),this.viewed&&!this.played&&o.movable){var s=a.x,u=a.y,l=!1;if(tg(t)?l=!0:t=s,tg(n)?l=!0:n=u,l){if(tb(o.move)&&tF(i,tt,o.move,{once:!0}),!1===tR(i,tt,{x:t,y:n,oldX:s,oldY:u,originalEvent:r}))return this;a.x=t,a.y=n,a.left=t,a.top=n,this.moving=!0,this.renderImage(function(){e.moving=!1,tb(o.moved)&&tF(i,te,o.moved,{once:!0}),tR(i,te,{x:t,y:n,oldX:s,oldY:u,originalEvent:r},{cancelable:!1})})}}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t)),this},rotateTo:function(t){var e=this,n=this.element,r=this.options,i=this.imageData;if(tg(t=Number(t))&&this.viewed&&!this.played&&r.rotatable){var o=i.rotate;if(tb(r.rotate)&&tF(n,tn,r.rotate,{once:!0}),!1===tR(n,tn,{degree:t,oldDegree:o}))return this;i.rotate=t,this.rotating=!0,this.renderImage(function(){e.rotating=!1,tb(r.rotated)&&tF(n,tr,r.rotated,{once:!0}),tR(n,tr,{degree:t,oldDegree:o},{cancelable:!1})})}return this},scaleX:function(t){return this.scale(t,this.imageData.scaleY),this},scaleY:function(t){return this.scale(this.imageData.scaleX,t),this},scale:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=this.element,i=this.options,o=this.imageData;if(t=Number(t),n=Number(n),this.viewed&&!this.played&&i.scalable){var a=o.scaleX,s=o.scaleY,u=!1;if(tg(t)?u=!0:t=a,tg(n)?u=!0:n=s,u){if(tb(i.scale)&&tF(r,ti,i.scale,{once:!0}),!1===tR(r,ti,{scaleX:t,scaleY:n,oldScaleX:a,oldScaleY:s}))return this;o.scaleX=t,o.scaleY=n,this.scaling=!0,this.renderImage(function(){e.scaling=!1,tb(i.scaled)&&tF(r,to,i.scaled,{once:!0}),tR(r,to,{scaleX:t,scaleY:n,oldScaleX:a,oldScaleY:s},{cancelable:!1})})}}return this},zoom:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.imageData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(r.width*t/r.naturalWidth,e,n),this},zoomTo:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.element,a=this.options,s=this.pointers,u=this.imageData,l=u.x,c=u.y,f=u.width,h=u.height,p=u.naturalWidth,d=u.naturalHeight;if(tg(t=Math.max(0,t))&&this.viewed&&!this.played&&(i||a.zoomable)){if(!i){var g=Math.max(.01,a.minZoomRatio),m=Math.min(100,a.maxZoomRatio);t=Math.min(Math.max(t,g),m)}r&&a.zoomRatio>=.055&&t>.95&&t<1.05&&(t=1);var y=f/p;this.options.zoomRatioToOne&&(y<1&&t>1||y>1&&t<1)&&(t=1);var _=p*t,b=d*t,x=_-f,E=b-h;if(tb(a.zoom)&&tF(o,ta,a.zoom,{once:!0}),!1===tR(o,ta,{ratio:t,oldRatio:y,originalEvent:r}))return this;if(this.zooming=!0,r){var w,C,S,D,I={left:(w=this.viewer.getBoundingClientRect()).left+(window.pageXOffset-document.documentElement.clientLeft),top:w.top+(window.pageYOffset-document.documentElement.clientTop)};var A=s&&Object.keys(s).length?(C=0,S=0,D=0,tx(s,function(t){var e=t.startX,n=t.startY;C+=e,S+=n,D+=1}),C/=D,S/=D,{pageX:C,pageY:S}):{pageX:r.pageX,pageY:r.pageY};u.x-=x*((A.pageX-I.left-l)/f),u.y-=E*((A.pageY-I.top-c)/h)}else{var N=u.x-x/2;tU(N,_,this.viewerData.width)&&(N=(this.viewerData.width-_)/2);var O=u.y-E/2;tU(O,b,this.viewerData.height)&&(O=(this.viewerData.height-b)/2),u.x=N,u.y=O}u.left=u.x,u.top=u.y,u.width=_,u.height=b,u.ratio=t,this.renderImage(function(){e.zooming=!1,tb(a.zoomed)&&tF(o,ts,a.zoomed,{once:!0}),tR(o,ts,{ratio:t,oldRatio:y,originalEvent:r},{cancelable:!1})}),n&&this.tooltip()}return this},play:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isShown||this.played)return this;var n=this.element,r=this.options;if(tb(r.play)&&tF(n,tu,r.play,{once:!0}),!1===tR(n,tu))return this;var i=this.player,o=this.loadImage.bind(this),a=[],s=0,u=0;return this.played=!0,this.onLoadWhenPlay=o,e&&this.requestFullscreen(),tD(i,O),tx(this.items,function(t,e){var n=t.querySelector(\"img\"),l=document.createElement(\"img\");l.src=tT(n,\"originalUrl\"),l.alt=n.getAttribute(\"alt\"),l.referrerPolicy=n.referrerPolicy,s+=1,tD(l,m),tA(l,T,r.transition),tS(t,d)&&(tD(l,S),u=e),a.push(l),tF(l,k,o,{once:!0}),i.appendChild(l)}),tg(r.interval)&&r.interval>0&&s>1&&!function e(){t.playing=setTimeout(function(){tI(a[u],S),u+=1,tD(a[u=u<s?u:0],S),e()},r.interval)}(),this},stop:function(){var t=this;if(!this.played)return this;var e=this.element,n=this.options;if(tb(n.stop)&&tF(e,tl,n.stop,{once:!0}),!1===tR(e,tl))return this;var r=this.player;return this.played=!1,clearTimeout(this.playing),tx(r.getElementsByTagName(\"img\"),function(e){tL(e,k,t.onLoadWhenPlay)}),tI(r,O),r.innerHTML=\"\",this.exitFullscreen(),this},full:function(){var t=this,e=this.options,n=this.viewer,r=this.image,i=this.list;return!this.isShown||this.played||this.fulled||!e.inline?this:(this.fulled=!0,this.open(),tD(this.button,b),e.transition&&(tI(i,T),this.viewed&&tI(r,T)),tD(n,y),n.setAttribute(\"role\",\"dialog\"),n.setAttribute(\"aria-labelledby\",this.title.id),n.setAttribute(\"aria-modal\",!0),n.removeAttribute(\"style\"),tC(n,{zIndex:e.zIndex}),e.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=tE({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){t.renderImage(function(){e.transition&&setTimeout(function(){tD(r,T),tD(i,T)},0)})}),this)},exit:function(){var t=this,e=this.options,n=this.viewer,r=this.image,i=this.list;return this.isShown&&!this.played&&this.fulled&&e.inline?(this.fulled=!1,this.close(),tI(this.button,b),e.transition&&(tI(i,T),this.viewed&&tI(r,T)),e.focus&&this.clearEnforceFocus(),n.removeAttribute(\"role\"),n.removeAttribute(\"aria-labelledby\"),n.removeAttribute(\"aria-modal\"),tI(n,y),tC(n,{zIndex:e.zIndexInline}),this.viewerData=tE({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){t.renderImage(function(){e.transition&&setTimeout(function(){tD(r,T),tD(i,T)},0)})}),this):this},tooltip:function(){var t=this,e=this.options,n=this.tooltipBox,r=this.imageData;return this.viewed&&!this.played&&e.tooltip?(n.textContent=\"\".concat(Math.round(100*r.ratio),\"%\"),this.tooltipping?clearTimeout(this.tooltipping):e.transition?(this.fading&&tR(n,V),tD(n,O),tD(n,m),tD(n,T),n.removeAttribute(\"aria-hidden\"),n.initialOffsetWidth=n.offsetWidth,tD(n,S)):(tD(n,O),n.removeAttribute(\"aria-hidden\")),this.tooltipping=setTimeout(function(){e.transition?(tF(n,V,function(){tI(n,O),tI(n,m),tI(n,T),n.setAttribute(\"aria-hidden\",!0),t.fading=!1},{once:!0}),tI(n,S),t.fading=!0):(tI(n,O),n.setAttribute(\"aria-hidden\",!0)),t.tooltipping=!1},1e3),this):this},toggle:function(){return 1===this.imageData.ratio?this.zoomTo(this.initialImageData.ratio,!0):this.zoomTo(1,!0),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=tE({},this.initialImageData),this.renderImage()),this},setPosition:function(t){return this.viewed&&!this.played&&(this.imageData=tE({},this.initialImageData,this.imageData,t),this.renderImage()),this},getPosition:function(){return this.imageData},update:function(){var t=this,e=this.element,n=this.options,r=this.isImg;if(r&&!e.parentNode)return this.destroy();var i=[];if(tx(r?[e]:e.querySelectorAll(\"img\"),function(e){tb(n.filter)?n.filter.call(t,e)&&i.push(e):t.getImageURL(e)&&i.push(e)}),!i.length)return this;if(this.images=i,this.length=i.length,this.ready){var o=[];if(tx(this.items,function(t,e){var n=t.querySelector(\"img\"),r=i[e];r&&n?(r.src!==n.src||r.alt!==n.alt)&&o.push(e):o.push(e)}),tC(this.list,{width:\"auto\"}),this.initList(),this.isShown){if(this.length){if(this.viewed){var a=o.indexOf(this.index);if(a>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-a,this.length-1),0));else{var s=this.items[this.index];tD(s,d),s.setAttribute(\"aria-selected\",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML=\"\",this.title.innerHTML=\"\"}}else this.build();return this},destroy:function(){var t=this.element,e=this.options;return t[c]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),e.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):e.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),!e.inline&&tL(t,M,this.onStart),t[c]=void 0,this):this}},{getImageURL:function(t){var e=this.options.url;return e=tp(e)?t.getAttribute(e):tb(e)?e.call(this,t):\"\"},enforceFocus:function(){var t=this;this.clearEnforceFocus(),tF(document,F,this.onFocusin=function(e){var n=e.target,r=t.viewer;n!==document&&n!==r&&!r.contains(n)&&r.focus()})},clearEnforceFocus:function(){this.onFocusin&&(tL(document,F,this.onFocusin),this.onFocusin=null)},open:function(){var t=this.body;tD(t,N),t.style.paddingRight=\"\".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),\"px\")},close:function(){var t=this.body;tI(t,N),t.style.paddingRight=this.initialBodyPaddingRight},shown:function(){var t=this.element,e=this.options,n=this.viewer;if(this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,e.focus&&(n.focus(),this.enforceFocus()),tb(e.shown)&&tF(t,X,e.shown,{once:!0}),!1!==tR(t,X))this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var t=this.element,e=this.options,n=this.viewer;e.fucus&&this.clearEnforceFocus(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.close(),this.unbind(),tD(n,x),n.removeAttribute(\"role\"),n.removeAttribute(\"aria-labelledby\"),n.removeAttribute(\"aria-modal\"),n.setAttribute(\"aria-hidden\",!0),this.resetList(),this.resetImage(),this.hiding=!1,!this.destroyed&&(tb(e.hidden)&&tF(t,K,e.hidden,{once:!0}),tR(t,K,null,{cancelable:!1}))},requestFullscreen:function(){var t=this.element.ownerDocument;if(this.fulled&&!(t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement)){var e=t.documentElement;e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()}},exitFullscreen:function(){var t=this.element.ownerDocument;this.fulled&&(t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement)&&(t.exitFullscreen?t.exitFullscreen():t.webkitExitFullscreen?t.webkitExitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.msExitFullscreen&&t.msExitFullscreen())},change:function(t){var e,n,i,o,a=this.options,s=this.pointers,u=s[Object.keys(s)[0]];if(!!u){var l=u.endX-u.startX,c=u.endY-u.startY;switch(this.action){case f:a.movableLimit&&(\"number\"==typeof(o=tH(l,this.imageData.left,this.imageData.width,this.viewerData.width))&&(l=o),\"number\"==typeof(o=tH(c,this.imageData.top,this.imageData.height,this.viewerData.height))&&(c=o)),this.move(l,c,t);break;case p:;this.zoom((n=r({},e=s),i=[],tx(e,function(t,e){delete n[e],tx(n,function(e){var n=Math.abs(t.startX-e.startX),r=Math.abs(t.startY-e.startY),o=Math.abs(t.endX-e.endX),a=Math.abs(t.endY-e.endY),s=Math.sqrt(n*n+r*r),u=Math.sqrt(o*o+a*a);i.push((u-s)/s)})}),i.sort(function(t,e){return Math.abs(t)<Math.abs(e)}),i[0]),!1,t);break;case h:this.action=\"switched\";var d=Math.abs(l);d>1&&d>Math.abs(c)&&(this.pointers={},l>1?this.prev(a.loop):l<-1&&this.next(a.loop))}tx(s,function(t){t.startX=t.endX,t.startY=t.endY})}},isSwitchable:function(){var t=this.imageData,e=this.viewerData;return this.length>1&&t.x>=0&&t.y>=0&&t.width<=e.width&&t.height<=e.height}}),tG},t.exports=n()},7748:function(t,e,n){\"use strict\";n.d(e,{Z:function(){return r}});let r=function(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=(65535&(n=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24))*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(65535&n)*1540483477+((n>>>16)*59797<<16)^(65535&e)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(255&t.charCodeAt(r+2))<<16;case 2:e^=(255&t.charCodeAt(r+1))<<8;case 1:e^=255&t.charCodeAt(r),e=(65535&e)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,(((e=(65535&e)*1540483477+((e>>>16)*59797<<16))^e>>>15)>>>0).toString(36)}},76424:function(t,e,n){\"use strict\";n.d(e,{do:()=>q});var r,i,o,a=[],s=\"ResizeObserver loop completed with undelivered notifications.\",u=function(){var t;\"function\"==typeof ErrorEvent?t=new ErrorEvent(\"error\",{message:s}):((t=document.createEvent(\"Event\")).initEvent(\"error\",!1,!1),t.message=s),window.dispatchEvent(t)};(r=i||(i={})).BORDER_BOX=\"border-box\",r.CONTENT_BOX=\"content-box\",r.DEVICE_PIXEL_CONTENT_BOX=\"device-pixel-content-box\";var l=function(t){return Object.freeze(t)},c=function(t,e){this.inlineSize=t,this.blockSize=e,l(this)},f=function(){function t(t,e,n,r){return this.x=t,this.y=e,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,l(this)}return t.prototype.toJSON=function(){return{x:this.x,y:this.y,top:this.top,right:this.right,bottom:this.bottom,left:this.left,width:this.width,height:this.height}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),h=function(t){return t instanceof SVGElement&&\"getBBox\"in t},p=function(t){if(h(t)){var e=t.getBBox(),n=e.width,r=e.height;return!n&&!r}var i=t.offsetWidth,o=t.offsetHeight;return!(i||o||t.getClientRects().length)},d=function(t){var e,n=null===(e=null==t?void 0:t.ownerDocument)||void 0===e?void 0:e.defaultView;return!!(n&&t instanceof n.Element)},g=function(t){switch(t.tagName){case\"INPUT\":if(\"image\"!==t.type)break;case\"VIDEO\":case\"AUDIO\":case\"EMBED\":case\"OBJECT\":case\"CANVAS\":case\"IFRAME\":case\"IMG\":return!0}return!1},m=\"undefined\"!=typeof window?window:{},y=new WeakMap,_=/auto|scroll/,b=/^tb|vertical/,x=/msie|trident/i.test(m.navigator&&m.navigator.userAgent),E=function(t){return parseFloat(t||\"0\")},w=function(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=!1),new c((n?e:t)||0,(n?t:e)||0)},C=l({devicePixelContentBoxSize:w(),borderBoxSize:w(),contentBoxSize:w(),contentRect:new f(0,0,0,0)}),S=function(t,e){if(void 0===e&&(e=!1),y.has(t)&&!e)return y.get(t);if(p(t))return y.set(t,C),C;var n=getComputedStyle(t),r=h(t)&&t.ownerSVGElement&&t.getBBox(),i=!x&&\"border-box\"===n.boxSizing,o=b.test(n.writingMode||\"\"),a=!r&&_.test(n.overflowY||\"\"),s=!r&&_.test(n.overflowX||\"\"),u=r?0:E(n.paddingTop),c=r?0:E(n.paddingRight),d=r?0:E(n.paddingBottom),g=r?0:E(n.paddingLeft),m=r?0:E(n.borderTopWidth),S=r?0:E(n.borderRightWidth),D=r?0:E(n.borderBottomWidth),I=r?0:E(n.borderLeftWidth),A=g+c,N=u+d,O=I+S,T=m+D,M=s?t.offsetHeight-T-t.clientHeight:0,P=a?t.offsetWidth-O-t.clientWidth:0,L=r?r.width:E(n.width)-(i?A+O:0)-P,F=r?r.height:E(n.height)-(i?N+T:0)-M,R=L+A+P+O,k=F+N+M+T,B=l({devicePixelContentBoxSize:w(Math.round(L*devicePixelRatio),Math.round(F*devicePixelRatio),o),borderBoxSize:w(R,k,o),contentBoxSize:w(L,F,o),contentRect:new f(g,u,L,F)});return y.set(t,B),B},D=function(t,e,n){var r=S(t,n),o=r.borderBoxSize,a=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(e){case i.DEVICE_PIXEL_CONTENT_BOX:return s;case i.BORDER_BOX:return o;default:return a}},I=function(t){var e=S(t);this.target=t,this.contentRect=e.contentRect,this.borderBoxSize=l([e.borderBoxSize]),this.contentBoxSize=l([e.contentBoxSize]),this.devicePixelContentBoxSize=l([e.devicePixelContentBoxSize])},A=function(t){if(p(t))return 1/0;for(var e=0,n=t.parentNode;n;)e+=1,n=n.parentNode;return e},N=function(){var t=1/0,e=[];a.forEach(function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach(function(e){var n=new I(e.target),i=A(e.target);r.push(n),e.lastReportedSize=D(e.target,e.observedBox),i<t&&(t=i)}),e.push(function(){n.callback.call(n.observer,r,n.observer)}),n.activeTargets.splice(0,n.activeTargets.length)}});for(var n=0;n<e.length;n++)(0,e[n])();return t},O=function(t){a.forEach(function(e){e.activeTargets.splice(0,e.activeTargets.length),e.skippedTargets.splice(0,e.skippedTargets.length),e.observationTargets.forEach(function(n){n.isActive()&&(A(n.target)>t?e.activeTargets.push(n):e.skippedTargets.push(n))})})},T=function(){var t=0;for(O(0);a.some(function(t){return t.activeTargets.length>0});)O(t=N());return a.some(function(t){return t.skippedTargets.length>0})&&u(),t>0},M=[],P=function(t){if(!o){var e=0,n=document.createTextNode(\"\");new MutationObserver(function(){return M.splice(0).forEach(function(t){return t()})}).observe(n,{characterData:!0}),o=function(){n.textContent=\"\"+(e?e--:e++)}}M.push(t),o()},L=function(t){P(function(){requestAnimationFrame(t)})},F=0,R={attributes:!0,characterData:!0,childList:!0,subtree:!0},k=[\"resize\",\"load\",\"transitionend\",\"animationend\",\"animationstart\",\"animationiteration\",\"keyup\",\"keydown\",\"mouseup\",\"mousedown\",\"mouseover\",\"mouseout\",\"blur\",\"focus\"],B=function(t){return void 0===t&&(t=0),Date.now()+t},z=!1,j=new(function(){function t(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return t.prototype.run=function(t){var e=this;if(void 0===t&&(t=250),!z){z=!0;var n=B(t);L(function(){var r=!1;try{r=T()}finally{if(z=!1,t=n-B(),!F)return;r?e.run(1e3):t>0?e.run(t):e.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var t=this,e=function(){return t.observer&&t.observer.observe(document.body,R)};document.body?e():m.addEventListener(\"DOMContentLoaded\",e)},t.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),k.forEach(function(e){return m.addEventListener(e,t.listener,!0)}))},t.prototype.stop=function(){var t=this;!this.stopped&&(this.observer&&this.observer.disconnect(),k.forEach(function(e){return m.removeEventListener(e,t.listener,!0)}),this.stopped=!0)},t}()),$=function(t){!F&&t>0&&j.start(),(F+=t)||j.stop()},U=function(){function t(t,e){this.target=t,this.observedBox=e||i.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var t,e=D(this.target,this.observedBox,!0);if(!h(t=this.target)&&!g(t)&&\"inline\"===getComputedStyle(t).display)this.lastReportedSize=e;return this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize||!1},t}(),H=function(t,e){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=e},W=new WeakMap,V=function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].target===e)return n;return -1},G=function(){function t(){}return t.connect=function(t,e){var n=new H(t,e);W.set(t,n)},t.observe=function(t,e,n){var r=W.get(t),i=0===r.observationTargets.length;0>V(r.observationTargets,e)&&(i&&a.push(r),r.observationTargets.push(new U(e,n&&n.box)),$(1),j.schedule())},t.unobserve=function(t,e){var n=W.get(t),r=V(n.observationTargets,e),i=1===n.observationTargets.length;r>=0&&(i&&a.splice(a.indexOf(n),1),n.observationTargets.splice(r,1),$(-1))},t.disconnect=function(t){var e=this,n=W.get(t);n.observationTargets.slice().forEach(function(n){return e.unobserve(t,n.target)}),n.activeTargets.splice(0,n.activeTargets.length)},t}(),q=function(){function t(t){if(0==arguments.length)throw TypeError(\"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.\");if(\"function\"!=typeof t)throw TypeError(\"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.\");G.connect(this,t)}return t.prototype.observe=function(t,e){if(0==arguments.length)throw TypeError(\"Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.\");if(!d(t))throw TypeError(\"Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element\");G.observe(this,t,e)},t.prototype.unobserve=function(t){if(0==arguments.length)throw TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.\");if(!d(t))throw TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element\");G.unobserve(this,t)},t.prototype.disconnect=function(){G.disconnect(this)},t.toString=function(){return\"function ResizeObserver () { [polyfill code] }\"},t}()},6351:function(){},63921:function(t,e,n){\"use strict\";n.r(e)},81338:function(t,e,n){\"use strict\";n.r(e)},37026:function(t,e,n){\"use strict\";var r=n(8871);function i(t){var e=[1/0,1/0,-1/0,-1/0];return r.coordEach(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}i.default=i,e.default=i},12084:function(t,e){\"use strict\";function n(t,e,n){void 0===n&&(n={});var r={type:\"Feature\"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}Object.defineProperty(e,\"__esModule\",{value:!0}),e.earthRadius=6371008.8,e.factors={centimeters:100*e.earthRadius,centimetres:100*e.earthRadius,degrees:e.earthRadius/111325,feet:3.28084*e.earthRadius,inches:39.37*e.earthRadius,kilometers:e.earthRadius/1e3,kilometres:e.earthRadius/1e3,meters:e.earthRadius,metres:e.earthRadius,miles:e.earthRadius/1609.344,millimeters:1e3*e.earthRadius,millimetres:1e3*e.earthRadius,nauticalmiles:e.earthRadius/1852,radians:1,yards:1.0936*e.earthRadius},e.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e.earthRadius,yards:1.0936133},e.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},e.feature=n;function r(t,e,r){if(void 0===r&&(r={}),!t)throw Error(\"coordinates is required\");if(!Array.isArray(t))throw Error(\"coordinates must be an Array\");if(t.length<2)throw Error(\"coordinates must be at least 2 numbers long\");if(!p(t[0])||!p(t[1]))throw Error(\"coordinates must contain numbers\");return n({type:\"Point\",coordinates:t},e,r)}e.geometry=function(t,e,n){switch(void 0===n&&(n={}),t){case\"Point\":return r(e).geometry;case\"LineString\":return o(e).geometry;case\"Polygon\":return i(e).geometry;case\"MultiPoint\":return u(e).geometry;case\"MultiLineString\":return s(e).geometry;case\"MultiPolygon\":return l(e).geometry;default:throw Error(t+\" is invalid\")}},e.point=r;function i(t,e,r){void 0===r&&(r={});for(var i=0;i<t.length;i++){var o=t[i];if(o.length<4)throw Error(\"Each LinearRing of a Polygon must have 4 or more Positions.\");for(var a=0;a<o[o.length-1].length;a++)if(o[o.length-1][a]!==o[0][a])throw Error(\"First and last Position are not equivalent.\")}return n({type:\"Polygon\",coordinates:t},e,r)}e.points=function(t,e,n){return void 0===n&&(n={}),a(t.map(function(t){return r(t,e)}),n)},e.polygon=i;function o(t,e,r){if(void 0===r&&(r={}),t.length<2)throw Error(\"coordinates must be an array of two or more positions\");return n({type:\"LineString\",coordinates:t},e,r)}e.polygons=function(t,e,n){return void 0===n&&(n={}),a(t.map(function(t){return i(t,e)}),n)},e.lineString=o;function a(t,e){void 0===e&&(e={});var n={type:\"FeatureCollection\"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function s(t,e,r){return void 0===r&&(r={}),n({type:\"MultiLineString\",coordinates:t},e,r)}function u(t,e,r){return void 0===r&&(r={}),n({type:\"MultiPoint\",coordinates:t},e,r)}function l(t,e,r){return void 0===r&&(r={}),n({type:\"MultiPolygon\",coordinates:t},e,r)}e.lineStrings=function(t,e,n){return void 0===n&&(n={}),a(t.map(function(t){return o(t,e)}),n)},e.featureCollection=a,e.multiLineString=s,e.multiPoint=u,e.multiPolygon=l;e.geometryCollection=function(t,e,r){return void 0===r&&(r={}),n({type:\"GeometryCollection\",geometries:t},e,r)};function c(t,n){void 0===n&&(n=\"kilometers\");var r=e.factors[n];if(!r)throw Error(n+\" units is invalid\");return t*r}function f(t,n){void 0===n&&(n=\"kilometers\");var r=e.factors[n];if(!r)throw Error(n+\" units is invalid\");return t/r}e.round=function(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw Error(\"precision must be a positive number\");var n=Math.pow(10,e||0);return Math.round(t*n)/n},e.radiansToLength=c,e.lengthToRadians=f;e.lengthToDegrees=function(t,e){return h(f(t,e))};function h(t){return t%(2*Math.PI)*180/Math.PI}e.bearingToAzimuth=function(t){var e=t%360;return e<0&&(e+=360),e},e.radiansToDegrees=h;e.degreesToRadians=function(t){return t%360*Math.PI/180};e.convertLength=function(t,e,n){if(void 0===e&&(e=\"kilometers\"),void 0===n&&(n=\"kilometers\"),!(t>=0))throw Error(\"length must be a positive number\");return c(f(t,e),n)};function p(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}e.convertArea=function(t,n,r){if(void 0===n&&(n=\"meters\"),void 0===r&&(r=\"kilometers\"),!(t>=0))throw Error(\"area must be a positive number\");var i=e.areaFactors[n];if(!i)throw Error(\"invalid original units\");var o=e.areaFactors[r];if(!o)throw Error(\"invalid final units\");return t/i*o},e.isNumber=p;e.isObject=function(t){return!!t&&t.constructor===Object};e.validateBBox=function(t){if(!t)throw Error(\"bbox is required\");if(!Array.isArray(t))throw Error(\"bbox must be an Array\");if(4!==t.length&&6!==t.length)throw Error(\"bbox must be an Array of 4 or 6 numbers\");t.forEach(function(t){if(!p(t))throw Error(\"bbox must only contain numbers\")})};e.validateId=function(t){if(!t)throw Error(\"id is required\");if(-1===[\"string\",\"number\"].indexOf(typeof t))throw Error(\"id must be a number or a string\")}},8871:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(12084);function i(t,e,n){if(null!==t){for(var r,o,a,s,u,l,c,f,h=0,p=0,d=t.type,g=\"FeatureCollection\"===d,m=\"Feature\"===d,y=g?t.features.length:1,_=0;_<y;_++){u=(f=!!(c=g?t.features[_].geometry:m?t.geometry:t)&&\"GeometryCollection\"===c.type)?c.geometries.length:1;for(var b=0;b<u;b++){var x=0,E=0;if(null!==(s=f?c.geometries[b]:c)){l=s.coordinates;var w=s.type;switch(h=n&&(\"Polygon\"===w||\"MultiPolygon\"===w)?1:0,w){case null:break;case\"Point\":if(!1===e(l,p,_,x,E))return!1;p++,x++;break;case\"LineString\":case\"MultiPoint\":for(r=0;r<l.length;r++){if(!1===e(l[r],p,_,x,E))return!1;p++,\"MultiPoint\"===w&&x++}\"LineString\"===w&&x++;break;case\"Polygon\":case\"MultiLineString\":for(r=0;r<l.length;r++){for(o=0;o<l[r].length-h;o++){if(!1===e(l[r][o],p,_,x,E))return!1;p++}\"MultiLineString\"===w&&x++,\"Polygon\"===w&&E++}\"Polygon\"===w&&x++;break;case\"MultiPolygon\":for(r=0;r<l.length;r++){for(o=0,E=0;o<l[r].length;o++){for(a=0;a<l[r][o].length-h;a++){if(!1===e(l[r][o][a],p,_,x,E))return!1;p++}E++}x++}break;case\"GeometryCollection\":for(r=0;r<s.geometries.length;r++)if(!1===i(s.geometries[r],e,n))return!1;break;default:throw Error(\"Unknown Geometry Type\")}}}}}}function o(t,e){var n;switch(t.type){case\"FeatureCollection\":for(n=0;n<t.features.length&&!1!==e(t.features[n].properties,n);n++);break;case\"Feature\":e(t.properties,0)}}function a(t,e){if(\"Feature\"===t.type)e(t,0);else if(\"FeatureCollection\"===t.type)for(var n=0;n<t.features.length&&!1!==e(t.features[n],n);n++);}function s(t,e){var n,r,i,o,a,s,u,l,c,f,h=0,p=\"FeatureCollection\"===t.type,d=\"Feature\"===t.type,g=p?t.features.length:1;for(n=0;n<g;n++){for(i=0,s=p?t.features[n].geometry:d?t.geometry:t,l=p?t.features[n].properties:d?t.properties:{},c=p?t.features[n].bbox:d?t.bbox:void 0,f=p?t.features[n].id:d?t.id:void 0,a=(u=!!s&&\"GeometryCollection\"===s.type)?s.geometries.length:1;i<a;i++){if(null===(o=u?s.geometries[i]:s)){if(!1===e(null,h,l,c,f))return!1;continue}switch(o.type){case\"Point\":case\"LineString\":case\"MultiPoint\":case\"Polygon\":case\"MultiLineString\":case\"MultiPolygon\":if(!1===e(o,h,l,c,f))return!1;break;case\"GeometryCollection\":for(r=0;r<o.geometries.length;r++)if(!1===e(o.geometries[r],h,l,c,f))return!1;break;default:throw Error(\"Unknown Geometry Type\")}}h++}}function u(t,e){s(t,function(t,n,i,o,a){var s,u=null===t?null:t.type;switch(u){case null:case\"Point\":case\"LineString\":case\"Polygon\":if(!1===e(r.feature(t,i,{bbox:o,id:a}),n,0))return!1;return}switch(u){case\"MultiPoint\":s=\"Point\";break;case\"MultiLineString\":s=\"LineString\";break;case\"MultiPolygon\":s=\"Polygon\"}for(var l=0;l<t.coordinates.length;l++){var c={type:s,coordinates:t.coordinates[l]};if(!1===e(r.feature(c,i),n,l))return!1}})}function l(t,e){u(t,function(t,n,o){var a,s=0;if(!!t.geometry){var u=t.geometry.type;if(\"Point\"!==u&&\"MultiPoint\"!==u){var l=0,c=0,f=0;if(!1===i(t,function(i,u,h,p,d){if(void 0===a||n>l||p>c||d>f){a=i,l=n,c=p,f=d,s=0;return}if(!1===e(r.lineString([a,i],t.properties),n,o,d,s))return!1;s++,a=i}))return!1}}})}function c(t,e){if(!t)throw Error(\"geojson is required\");u(t,function(t,n,i){if(null!==t.geometry){var o=t.geometry.type,a=t.geometry.coordinates;switch(o){case\"LineString\":if(!1===e(t,n,i,0,0))return!1;break;case\"Polygon\":for(var s=0;s<a.length;s++)if(!1===e(r.lineString(a[s],t.properties),n,i,s))return!1}}})}e.coordAll=function(t){var e=[];return i(t,function(t){e.push(t)}),e},e.coordEach=i,e.coordReduce=function(t,e,n,r){var o=n;return i(t,function(t,r,i,a,s){o=0===r&&void 0===n?t:e(o,t,r,i,a,s)},r),o},e.featureEach=a,e.featureReduce=function(t,e,n){var r=n;return a(t,function(t,i){r=0===i&&void 0===n?t:e(r,t,i)}),r},e.findPoint=function(t,e){if(e=e||{},!r.isObject(e))throw Error(\"options is invalid\");var n,i=e.featureIndex||0,o=e.multiFeatureIndex||0,a=e.geometryIndex||0,s=e.coordIndex||0,u=e.properties;switch(t.type){case\"FeatureCollection\":i<0&&(i=t.features.length+i),u=u||t.features[i].properties,n=t.features[i].geometry;break;case\"Feature\":u=u||t.properties,n=t.geometry;break;case\"Point\":case\"MultiPoint\":return null;case\"LineString\":case\"Polygon\":case\"MultiLineString\":case\"MultiPolygon\":n=t;break;default:throw Error(\"geojson is"
}