{
  "metadata": {
    "source_file": "map-app\\static\\js\\index.5da8ba4c.js",
    "chunk_index": 918,
    "total_chunks": 918,
    "chunk_size": 56217,
    "word_count": 599,
    "model_kwargs": {
      "model": "text-embedding-3-large",
      "dimensions": 3072,
      "encoding_format": "float"
    },
    "text_splitter": {
      "split_by": "word",
      "chunk_size": 800,
      "chunk_overlap": 200
    },
    "created_at": "2025-12-17T23:57:50.653Z"
  },
  "content": "ASL: \"+(0,uh.zw)(d(p.value.asl)),1)])):(0,uh.kq)(\"\",!0),\"mid\"===e.type&&e.distance?((0,uh.wg)(),(0,uh.iD)(\"div\",ji,(0,uh.zw)(d(e.distance)),1)):(0,uh.kq)(\"\",!0)],6)}}}),js=(0,_S.default)(jo,[[\"__scopeId\",\"data-v-031024dc\"]]),jl=(e=[],a=[])=>{let r=(e,a)=>e.id===a.id,{newListInterval:t,oldListInterval:n}=((e=[],a=[])=>{let r=0,t=a.length-1,n=0,i=e.length-1;for(;r<a.length&&n<e.length&&a[r].id===e[n].id;r++,n++);for(;t>=0&&i>=0&&a[t].id===e[i].id;t--,i--);let o=e=>-1===e?0:e;return{newListInterval:a.slice(o(r-1),t+1),oldListInterval:e.slice(o(n-1),i+1)}})(e,a);return{added:(0,lL.differenceWith)(t,n,r),deleted:(0,lL.differenceWith)(n,t,r)}},jd=(e,a)=>{let r=a.findIndex(a=>a.id===e.id);return a[r+1]},jc=(e,a)=>{let r=a.findIndex(a=>a.id===e.id);return a[r-1]},ju=(0,uh.aZ)({name:\"EditingMidPoint\",props:{points:{type:Array,required:!0},distance:Number,labelShow:{type:Boolean,default:!0},pointShow:{type:Boolean,default:!0}},setup(e,{emit:a}){let r=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),t=new Map,n=v0();function i(e){e.forEach(e=>{let a=e.id;t.get(a)?.destroy(),t.delete(a)})}return(0,uh.YP)(()=>e.points,(o,s)=>{let{added:l,deleted:d}=jl(s,o),c=function(){let e=r.editor.activeElement;return e instanceof hW&&e.clampToGround||e instanceof mX||e instanceof h8&&e.clampToGround}(),u=new Set(l),p=o.length,m=\"polygon\"===r.editor.editingMode||\"polygon3d\"===r.editor.editingMode||\"prism\"===r.editor.editingMode,h=m&&p>2;if(l.forEach(e=>{let a=jc(e,o);if(void 0===a){h&&u.add(o[o.length-1]);return}u.add(a)}),0===l.length&&1===d.length){let e=jc(d[0],s||[]);void 0!==e?u.add(e):h&&s?.length&&u.add(s[s.length-1])}let g=[];u.forEach(e=>{let a=jd(e,o);if(void 0===a){if(h){let a=o[0],r=uf.Cartesian3.midpoint(e,a,new uf.Cartesian3),t=c?(0,pg.Q5)(e,a):(0,pg.v9)(e,a);g.push({id:(0,uW.k)(),fatherId:e.id,midpoint:r,distance:t})}return}let r=uf.Cartesian3.midpoint(e,a,new uf.Cartesian3),t=c?(0,pg.Q5)(e,a):(0,pg.v9)(e,a);g.push({id:(0,uW.k)(),fatherId:e.id,midpoint:r,distance:t})});let f=new Set(d);if(d.forEach(e=>{let a=jc(e,s||[]);if(void 0===a){h&&f.add(o[o.length-1]);return}f.add(a)}),1===l.length&&0===d.length){let e=o.findIndex(e=>e.id===l[0].id);f.add(o[e-1])}i([...f]),g.forEach(i=>{let o=new hm({position:(0,pg.KO)(i.midpoint,!0),show:!0,preventClickEvent:!0,onLeftDown(){r.screenSpaceCameraController.stopMouse(),a(\"add-and-drag\",{id:i.fatherId,point:i.midpoint}),window.addEventListener(\"mouseup\",()=>{r.screenSpaceCameraController.startMouse()},{once:!0})},point:{show:e.pointShow,pixelSize:10,cssColor:\"#ffffff\",clampToGround:c,disableDepthTestDistance:Number.POSITIVE_INFINITY,translucencyByDistance:[1,.8,1e6,.8]},label:{text:uw(i.distance,t8.Length,n.measure_units_system,!0).text,show:e.labelShow,verticalOrigin:\"BOTTOM\",pixelOffset:[0,-6],...pM}},r.collection);t.set(i.fatherId,o)})},{immediate:!0}),(0,uh.YP)(()=>e.labelShow,a=>{e.points.forEach(e=>{let r=e.id,n=t.get(r);n&&n.update({label:{show:a}})})}),(0,uh.YP)(()=>e.pointShow,a=>{e.points.forEach(e=>{let r=e.id,n=t.get(r);n&&n.update({point:{show:a}})})},{immediate:!0}),(0,uh.Jd)(()=>{i(e.points)}),{}}}),jp=(0,_S.default)(ju,[[\"render\",function(e,a,r,t,n,i){return(0,uh.wg)(),(0,uh.iD)(\"span\")}]]),jm=(0,uh.aZ)({name:\"EditingEndPoint\",__name:\"EditingEndPoint\",props:{dragging:{type:Boolean,default:!1},points:{},enableEndPointSelected:{type:Boolean,default:!1},activeIndex:{default:-1}},emits:[\"click\",\"remove\",\"close-tooltip\",\"show-tooltip\",\"left-down\"],setup(e,{emit:a}){let{t:r}=(0,pb.QT)(),t=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),n=new Map;function i(e){e.forEach(e=>{let a=n.get(e.id);n.delete(e.id),a?.destroy()})}function o(a=!1){return a&&e.enableEndPointSelected?{outlineWidth:2,outlineColor:\"#FFFFFF\",cssColor:hZ}:{outlineWidth:0,outlineColor:\"#FFFFFF\",cssColor:\"#FFFFFF\"}}let s=(0,uh.Fl)(()=>e.points[e.activeIndex]?.id||\"\");function l(e,a=!1){if(e){let r=n.get(e);r&&r.update({point:o(a)})}}return(0,uh.YP)(s,(e,a)=>{l(a,!1),l(e,!0)}),(0,uh.YP)(()=>e.points,(e,l)=>{let{added:d,deleted:c}=jl(l,e),u=function(){let e=t.editor.activeElement;return e instanceof hW&&e.clampToGround||e instanceof mX||e instanceof h8&&e.clampToGround}();if(1===d.length&&1===c.length){let e=d[0],a=c[0],r=n.get(a.id);if(n.delete(a.id),r){n.set(e.id,r),r.update({id:e.id,point:o(e.id===s.value)});let a=(0,pg.KO)(e,!0);e.dynamic?r.dynamicPosition=a:(r.dynamicPosition=void 0,r.position=a)}}else i(c),d.forEach((e,i)=>{let l=new hm({id:e.id,position:(0,pg.KO)(e,!0),show:!0,preventClickEvent:!0,contextmenu:[{text:r(\"web.map.delete_endpoint\"),key:\"remove\"}],point:{pixelSize:14,clampToGround:u,disableDepthTestDistance:Number.POSITIVE_INFINITY,...o(e.id===s.value)},onLeftDown:()=>{t.screenSpaceCameraController.stopMouse(),l.id&&a(\"left-down\",l.id),window.addEventListener(\"mouseup\",()=>{t.screenSpaceCameraController.startMouse()},{once:!0})},onMouseEnter:()=>{l.positionCartesian3&&a(\"show-tooltip\",l.positionCartesian3)},onMouseLeave:()=>{a(\"close-tooltip\")},onRemove:()=>{l.id&&a(\"remove\",l.id)}},t.collection);n.set(d[i].id,l)})},{immediate:!0}),(0,uh.Jd)(()=>{a(\"close-tooltip\"),i(e.points)}),(e,a)=>((0,uh.wg)(),(0,uh.iD)(\"span\"))}}),jh={ref:\"scrollerRef\",class:\"infinite-scroll uranus-scrollbar\"},jg=(0,uh.aZ)({name:\"InfiniteScroll\",props:{distance:{type:Number,default:0},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!1},direction:{type:String,default:\"column\"}},emits:[\"load-more\"],setup(e,{emit:a}){let r=(0,uh.iH)(null),t=(0,uh.Fl)(()=>!e.loading&&!e.disabled),n=(0,lL.throttle)(()=>{let n=r.value;if(n&&t.value){if(\"column\"===e.direction){let r=n.clientHeight+n.scrollTop;0!==r&&n.scrollHeight-r<=e.distance&&a(\"load-more\")}if(\"row\"===e.direction){let r=n.clientWidth+n.scrollLeft;0!==r&&n.scrollWidth-r<=e.distance&&a(\"load-more\")}}},500);return(0,uh.m0)(()=>{t.value&&e.immediate&&(0,uh.Y3)(()=>{n()})}),(0,uh.bv)(async()=>{let a=r.value;a&&a.addEventListener(\"scroll\",n),e.immediate&&(await (0,uh.Y3)(),n())}),(0,uh.SK)(()=>{let e=r.value;e&&e.removeEventListener(\"scroll\",n)}),{scrollerRef:r}}}),jf=(0,_S.default)(jg,[[\"render\",function(e,a,r,t,n,i){return(0,uh.wg)(),(0,uh.iD)(\"div\",jh,[(0,uh.WI)(e.$slots,\"default\",{},void 0,!0)],512)}],[\"__scopeId\",\"data-v-3a9d7a66\"]]),j_={key:0,class:\"group-title-wrapper mb4\"},jb={class:\"group-title\"},jk={key:0},jv=[\"onClick\"],jz={key:0},jw=[\"onClick\"],jy={key:0},jS=(0,uh.aZ)({name:\"MapContextmenu\",__name:\"MapContextmenu\",setup(e){let{contextmenu:a}=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),r=(0,uh.iH)(new Map);function t(e,r){a.onItemClick(e,r),a.state.show=!1}function n(e){return r.value.get(e)||0}function i(e){let a=r.value.get(e)||0;r.value.set(e,a+1)}function o(e){return n(e.key),e.items?.filter(e=>e?.key.startsWith(\"[manual-auto-dispatch]\"))||[]}async function s(e){e.loadMoreCallback&&\"function\"==typeof e.loadMoreCallback&&(await e.loadMoreCallback(),await (0,uh.Y3)(),i(e.key))}let l=(0,uh.Fl)(()=>a.groups.value),d=(0,uh.Fl)(()=>a.groups.value.filter(e=>!!e.withIcon)[0]?.withIcon||\"\"),{show:c,left:u,top:p}=(0,uh.BK)(a.state);return(0,uh.YP)(()=>a.groups.value,e=>{e&&e.forEach(e=>{i(e.key)})},{deep:!0}),(e,a)=>{let r=(0,uh.up)(\"UranusIcon\"),i=(0,uh.up)(\"uranus-contextmenu\");return(0,uh.wg)(),(0,uh.j4)(i,{value:(0,uh.SU)(c),\"onUpdate:value\":a[0]||(a[0]=e=>(0,uh.dq)(c)?c.value=e:null)},{overlay:(0,uh.w5)(()=>[(0,uh._)(\"div\",{class:(0,uh.C_)([\"map-contextmenu\",{\"icon-offset\":!!d.value}])},[((0,uh.wg)(!0),(0,uh.iD)(uh.HY,null,(0,uh.Ko)(l.value,e=>{var a;return(0,uh.wg)(),(0,uh.iD)(\"div\",{key:e.key,class:\"menu-item-group\"},[e.withTitle?((0,uh.wg)(),(0,uh.iD)(\"div\",j_,[(0,uh._)(\"div\",jb,[e.withTitleIcon?((0,uh.wg)(),(0,uh.iD)(\"span\",jk,[(0,uh.Wm)(r,{class:\"mr8\",name:e.withTitleIcon,size:16},null,8,[\"name\"])])):(0,uh.kq)(\"\",!0),(0,uh._)(\"span\",null,(0,uh.zw)(e.withTitle),1)])])):(0,uh.kq)(\"\",!0),((0,uh.wg)(!0),(0,uh.iD)(uh.HY,null,(0,uh.Ko)((n((a=e).key),a.items?.filter(e=>!e?.key.startsWith(\"[manual-auto-dispatch]\"))||[]),a=>((0,uh.wg)(),(0,uh.iD)(\"div\",{key:a.key,class:\"menu-item\",onClick:r=>t(a.key,e.key)},[e.showItemIcon&&a.icon?((0,uh.wg)(),(0,uh.iD)(\"span\",jz,[(0,uh.Wm)(r,{class:\"mr8\",name:a.icon,size:16},null,8,[\"name\"])])):(0,uh.kq)(\"\",!0),(0,uh._)(\"span\",null,(0,uh.zw)(a.text),1)],8,jv))),128)),o(e).length>0?((0,uh.wg)(),(0,uh.j4)(jf,{key:1,class:\"manual-auto-dispatch-container\",distance:50,loading:e.loading||!1,disabled:!e.hasMore,onLoadMore:a=>s(e)},{default:(0,uh.w5)(()=>[((0,uh.wg)(!0),(0,uh.iD)(uh.HY,null,(0,uh.Ko)(o(e),a=>((0,uh.wg)(),(0,uh.iD)(\"div\",{key:a.key,class:\"menu-item\",onClick:r=>t(a.key,e.key)},[e.showItemIcon&&a.icon?((0,uh.wg)(),(0,uh.iD)(\"span\",jy,[(0,uh.Wm)(r,{class:\"mr8\",name:a.icon,size:16},null,8,[\"name\"])])):(0,uh.kq)(\"\",!0),(0,uh._)(\"span\",null,(0,uh.zw)(a.text),1)],8,jw))),128))]),_:2},1032,[\"loading\",\"disabled\",\"onLoadMore\"])):(0,uh.kq)(\"\",!0)])}),128))],2)]),default:(0,uh.w5)(()=>[(0,uh._)(\"div\",{class:\"contextmenu-trigger\",style:(0,uh.j5)({left:`${(0,uh.SU)(u)}px`,top:`${(0,uh.SU)(p)}px`})},[d.value&&(0,uh.SU)(c)?((0,uh.wg)(),(0,uh.j4)(r,{key:0,class:\"contextmenu-icon\",name:d.value,size:28},null,8,[\"name\"])):(0,uh.kq)(\"\",!0)],4)]),_:1},8,[\"value\"])}}}),jj=(0,_S.default)(jS,[[\"__scopeId\",\"data-v-27047422\"]]),jD=(0,uh.aZ)({name:\"DrawingPoint\",__name:\"DrawingPoint\",props:{dragging:{type:Boolean,default:!1},points:{}},emits:[\"show-tooltip\",\"close-tooltip\"],setup(e,{emit:a}){let r=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),t=new Map;return(0,uh.YP)(()=>e.points,(e,n)=>{let{added:i,deleted:o}=jl(n,e);o.forEach(e=>{let a=t.get(e.id);t.delete(e.id),a?.destroy()});let s=gH(r);i.forEach((e,n)=>{let o=new hm({position:(0,pg.KO)(e,!0),preventClickEvent:!0,point:{pixelSize:14,cssColor:\"#ffffff\",clampToGround:s,disableDepthTestDistance:Number.POSITIVE_INFINITY},onMouseEnter:()=>{a(\"show-tooltip\",e)},onMouseLeave:()=>{a(\"close-tooltip\")}},r.collection);t.set(i[n].id,o)})},{immediate:!0}),(e,a)=>((0,uh.wg)(),(0,uh.iD)(\"span\"))}}),jI=(0,uh.aZ)({__name:\"DrawingMidLabel\",props:{points:{},clampToGround:{type:Boolean},labelShow:{type:Boolean,default:!0}},setup(e){let a=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),r=new Map,t=v0();function n(e){e.forEach(e=>{let a=e.id;r.get(a)?.destroy(),r.delete(a)})}return(0,uh.YP)(()=>e.points,(i,o)=>{let{added:s,deleted:l}=jl(o,i),d=new Set(s),c=[];d.forEach(a=>{let r=jc(a,i);if(void 0===r)return;let t=uf.Cartesian3.midpoint(a,r,new uf.Cartesian3),n=e.clampToGround?(0,pg.Q5)(a,r):(0,pg.v9)(a,r);c.push({id:(0,uW.k)(),fatherId:a.id,midpoint:t,distance:n})});n([...new Set(l)]),c.forEach(n=>{let i=(0,pg.KO)(n.midpoint,!0),o=function(){let e=a.editor.activeElement;return e instanceof hW&&e.clampToGround||e instanceof mX||e instanceof h8&&e.clampToGround}(),s=new hm({position:i,preventClickEvent:!0,point:{clampToGround:o},label:{text:uw(n.distance,t8.Length,t.measure_units_system,!0).text,position:i,show:e.labelShow,clampToGround:o,pixelOffset:e.clampToGround?[0,-25]:void 0,...pM}},a.collection);r.set(n.fatherId,s)})},{immediate:!0}),(0,uh.YP)(()=>e.labelShow,a=>{e.points.forEach(e=>{let t=e.id,n=r.get(t);n&&n.update({label:{show:a}})})}),(0,uh.Jd)(()=>{n(e.points)}),(e,a)=>((0,uh.wg)(),(0,uh.iD)(\"span\"))}}),jA=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAJVSURBVFiF7Zg9bttAEIUfg6SnU6rayo0BQ41VU6dwOp3AbVzu8CKGiKTILagbmAjkJo22SmeBhTsXL4VEQSA55JL6gYXwAWyo3ZlvZzkz2gUGDRp0MgXHMELyGsAtgBsAIwBfALwD+AvgBcDvIAj+HMNXX8ARyUeSz/TT83b86JyQVySF5KsnZFmv2/lXpwa9I7nsCVnWkuTdqUDvSa6PBFpoTfL+FKBvvgRpmnYBfjsaMDdb7x1Ray0B0FrbBXjNQz8JbpLJ+xstQIunI/CShyQdN1nbC7QnsDTxfGoAHQF48FmUcw5BEEBEEIYhAMAYAxFBEARwznkFB8AD+9Rhbgp4ZxljCIBRFPWZTpKPGpMaWQDfOq/wOFL91sJy0+vHTRY7bG3XeeOt/4q0yN42WRMRJEnSTlajJEkgIm3Dav1rsDeaFRFBHMd+ZIriOG4DrvX/WRlcm5H7oPP5HIvFojKm2OYsyzCdTtXfCzsKtH9FIPlUTtE0TWvr6KGP0pqf6ri0yL6XX0RRBGvtLiLGGBhjKhOzLEOe5wjDEONxNUedc7voWmsRRZGXf1UkrVYEi04lUt/c2uqsiPh0NlvHpUX2RVuIRya3ylrbZkf1XxHJ66Zlk+RqteoVWW1eSf51dnu4y5oWVPe9+shjXqYdLpva7a9eNIdL9at9swDwE8B3AF/brDvndh0tz/Pdu6JyzGYz351YA/jhM7AifrD/s22wl3NS2AJPeJ4z2OQg0D3gyzjdloA//r3BHvCEl3Ajswd8GXddJeiz3yL+H/ezgwYNatc/ItaKkJkaF+wAAAAASUVORK5CYII=\",jC=(0,uh.aZ)({name:\"CirclePoint\",__name:\"CirclePoint\",props:{point:{},dragging:{type:Boolean,default:!1},useCrossIcon:{type:Boolean,default:!1}},emits:[\"dragstart\",\"dragend\",\"dragmove\"],setup(e,{emit:a}){let r=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),{addBillboard:t,addPoint:n}=um(f8.key);function i(){return{position:e.point,draggable:{horizontal:!0},clampToGround:gH(r)}}function o(r,t,n=!0){return(r,i)=>{switch(r&&n&&(r.height=e.point.height),!r&&\"start\"===t&&(r=e.point),t){case\"start\":a(\"dragstart\",i);break;case\"end\":a(\"dragend\");break;case\"move\":a(\"dragmove\",r)}}}function s(e){let a=\"line\"===e,r=o(e,\"start\",a);return{onDragStart:e=>r(void 0,e),onDragMove:o(e,\"move\",a),onDragEnd:o(e,\"end\",a)}}return e.useCrossIcon?Sq(()=>t({width:18,height:18,image:jA,cssColor:\"#ffffff\",clampToGround:gH(r),disableDepthTestDistance:Number.POSITIVE_INFINITY,...s(\"label\")}),i,f8.key):Sq(()=>n({pixelSize:14,cssColor:\"#ffffff\",clampToGround:gH(r),disableDepthTestDistance:Number.POSITIVE_INFINITY,...s(\"label\")}),i,f8.key),(e,a)=>((0,uh.wg)(),(0,uh.iD)(\"span\"))}}),jx=(0,uh.aZ)({name:\"CircleRadius\",__name:\"CircleRadius\",props:{circleCenterPos:{},circleEdgePoint:{},radius:{},circleColor:{},useDistanceScaleLabel:{type:Boolean,default:!0}},setup(e){let a=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),{addPolyline:r,addLabel:t}=um(f8.key),n=v0();Sq(()=>r({clampToGround:gH(a),width:3,dash:!0,fromDraw:!1,removable:!1,depthFailAlpha:1,dynamicPositions:!0}),()=>({positions:[e.circleCenterPos,e.circleEdgePoint],cssColor:e.circleColor,clampToGround:gH(a)}),f8.key);let i={...pM};return i.distanceDisplayCondition=void 0,Sq(()=>t({clampToGround:gH(a),show:!0,...i}),()=>({position:{latitude:(e.circleCenterPos.latitude+e.circleEdgePoint.latitude)/2,longitude:(e.circleCenterPos.longitude+e.circleEdgePoint.longitude)/2,height:gH(a)?void 0:e.circleCenterPos.height},text:uw(e.radius,t8.Length,n.measure_units_system,!0).text,clampToGround:gH(a)}),f8.key),(e,a)=>((0,uh.wg)(),(0,uh.iD)(\"span\"))}}),jM=Math.floor(22.5),jE=(0,uh.aZ)({name:\"EditingCylinder\",__name:\"EditingCylinder\",props:{cylinderEditPoints:{},labelShow:{type:Boolean,default:!0}},emits:[\"remove\",\"show-tooltip\",\"close-tooltip\",\"start-drag\"],setup(e,{emit:a}){let r=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),t=[],n=null,i=null,o=v0();function s(){t.forEach(e=>{e.destroy()}),t.length=0,n&&(n.destroy(),n=null),i&&(i.destroy(),i=null)}return(0,uh.YP)(()=>e.cylinderEditPoints,e=>{if(s(),!e)return;e.forEach((e,n)=>{e.forEach((e,i)=>{!function(e,n){let i={id:e,position:n,show:!0,preventClickEvent:!0,contextmenu:[],onLeftDown:()=>{r.screenSpaceCameraController.stopMouse(),a(\"start-drag\",o.id),window.addEventListener(\"mouseup\",()=>{r.screenSpaceCameraController.startMouse()},{once:!0})},onMouseEnter:()=>{a(\"show-tooltip\",o.positionCartesian3)},onMouseLeave:()=>{a(\"close-tooltip\")},onRemove:()=>{a(\"remove\",o.id)}};e.includes(\"center\")?i.billboard={width:18,height:18,clampToGround:!1,image:jA,disableDepthTestDistance:Number.POSITIVE_INFINITY}:i.point={pixelSize:14,cssColor:\"#ffffff\",clampToGround:!1,disableDepthTestDistance:Number.POSITIVE_INFINITY};let o=new hm(i,r.collection);t.push(o)}(`cylinder_${0===n?\"bottom\":\"top\"}_${0===i?\"center\":\"edge\"}`,(0,pg.KO)(e,!0))})});let l=e.flat();if(!Array.isArray(l))return;let d=l[1],c=l[3];if(!d||!c)return;let u=uf.Cartesian3.midpoint(d,c,new uf.Cartesian3);n=new hD({id:\"cylinder-sideEdge-height\",text:uw(uf.Cartesian3.distance(d,c),t8.Length,o.measure_units_system,!0).text,position:(0,pg.KO)(u,!0),show:!0,disableInteractive:!0,verticalOrigin:\"CENTER\",...pM},r.collection);let p=l[2];if(!p)return;let m=uf.Cartesian3.midpoint(p,c,new uf.Cartesian3);i=new hD({id:\"cylinder-radius\",text:uw(uf.Cartesian3.distance(p,c),t8.Length,o.measure_units_system,!0).text,position:(0,pg.KO)(m,!0),show:!0,disableInteractive:!0,verticalOrigin:\"CENTER\",...pM},r.collection)},{immediate:!0}),(0,uh.YP)(()=>e.labelShow,e=>{n&&n.update({show:e}),i&&i.update({show:e})}),(0,uh.Jd)(()=>{s()}),(e,a)=>((0,uh.wg)(),(0,uh.iD)(\"span\"))}}),jP={arrIndex:-1,pointIndex:-1};let jT=(c=()=>(0,uh._)(\"br\",null,null,-1),(0,uh.dD)(\"data-v-6d13e092\"),c=c(),(0,uh.Cn)(),c),jR=(0,uh.aZ)({name:\"PopsContainer\",__name:\"PopsContainer\",props:{dragging:{type:Boolean,default:!1}},setup(e){let a=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),{editor:r}=a,{selectedPoint:t,enableEndPointSelected:n,updateSelectedPoint:i}=function(e){let a=e.editor,r=(0,uh.iH)(jP),t=(0,uh.Fl)(()=>!!a.config?.endPoint?.enableSelected);function n(e,a){r.value={arrIndex:e,pointIndex:a}}function i(e){let{activePointArrayIndex:a,activePointIndex:r}=e;n(a,r)}function o(){n(-1,-1)}return(0,uh.bv)(()=>{a.on(\"editing-point-change\",i),a.on(\"exit-edit\",o)}),(0,uh.Jd)(()=>{a.off(\"editing-point-change\",i),a.off(\"exit-edit\",o)}),{selectedPoint:r,enableEndPointSelected:t,updateSelectedPoint:n}}(a),o=(0,uh.iH)(!1),s=(0,uh.Fl)(()=>{if(o.value)return!0;let e=a.editor.activeElement,r=a.hover.hoveringElement;return\"prism\"===a.editor.editingMode?a.hover.isPrismHovering.value&&e===r:\"cylinder\"!==a.editor.editingMode||a.hover.isCylinderHovering.value&&e===r}),l=a.drawer.activeShapePoints,d=a.drawer.floatingPoint,c=(0,uh.Fl)(()=>{let e=\"polyline3d\"===r.editingModeReactive.value,a=\"polygon3d\"===r.editingModeReactive.value&&r.activeElement instanceof hY&&r.activeElement.category===se.annotations;return r.getEditing()&&(e||a)}),u=(0,uh.Fl)(()=>!c.value),p=(0,uh.Fl)(()=>!c.value),m=(0,uh.Fl)(()=>{if(a.drawer.getDrawingMode()===c2.oO.prism&&a.drawer.activeSolidStatus===sA.height){let e=l.value[0].clone();return e.id=(0,uW.k)(),l.value.concat([e])}return l.value}),{circleCenterPos:h,circleEdgePoint:g,circleRadius:f,circleHandleMode:_,circleColor:b,startDragCircleCenter:k,onDraggingCircleCenter:v,startDragCircleEdge:z,onDraggingCircleEdge:w}=function(){let e=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),a=(0,uh.iH)(mJ);e.on(\"elementAreaOversize\",(e,{exceed:r})=>{e instanceof h8&&setTimeout(()=>{r?a.value=e.errorCssColor||\"#f00\":a.value=e.cssColor||\"#fff\"})});let r=(0,uh.Fl)(()=>e.editor.activeCirclePosParams.centerPosCartesian3||e.drawer.activeCirclePosParams.centerPosCartesian3),t=(0,uh.Fl)(()=>e.editor.activeCirclePosParams.centerPos||e.drawer.activeCirclePosParams.centerPos),n=(0,uh.Fl)(()=>e.editor.activeCirclePosParams.radius||e.drawer.activeCirclePosParams.radius),i=(0,uh.Fl)(()=>e.editor.activeCirclePosParams.maxRadius),o=(0,uh.Fl)(()=>e.editor.activeCirclePosParams.centerPos?e.editor.activeCirclePosParams.circleEdgePoint||mF(e.editor.activeCirclePosParams.centerPos,e.editor.activeCirclePosParams.radius,90)[jM]:e.drawer.activeCirclePosParams.centerPos?e.drawer.activeCirclePosParams.circleEdgePoint:void 0),s=()=>{let r=e.drawer.getDrawingMode();if(r===c2.oO.cylinder)a.value=sv.Blue;else if(r===c2.oO.circle){let r=e.drawer.origin;r===c2.tT.map?a.value=e.doodleWidget.color.circle:(0,c2.P3)(r)?a.value=mJ:(0,c2.SG)(r)&&(a.value=mN)}},l=(0,uh.Fl)(()=>e.editor.activeCirclePosParams.centerPos?\"edit\":e.drawer.activeCirclePosParams.centerPos?(s(),\"draw\"):\"\");return(0,uh.YP)(()=>t.value,(r,t)=>{(function(){e.drawer.getDrawingMode()!==c2.oO.cylinder&&(\"edit\"===l.value&&a.value!==e.editor.cssColor?a.value=e.editor.cssColor:\"draw\"===l.value&&s())})(),t&&(r?.latitude!==t?.latitude||r?.longitude!==t?.longitude)&&(e.editor.activeCirclePosParams.circleEdgePoint=mF(e.editor.activeCirclePosParams.centerPos,e.editor.activeCirclePosParams.radius,90)[jM])}),(0,uh.bv)(()=>{s()}),{startDragCircleCenter:function(a){\"edit\"===l.value&&e.editor.startEditCircle()},onDraggingCircleCenter:function(a){\"edit\"===l.value&&a&&(e.editor.activeCirclePosParams.centerPos?e.editor.activeCirclePosParams.centerPos=a:e.drawer.activeCirclePosParams.centerPos&&(e.drawer.activeCirclePosParams.centerPos=a))},startDragCircleEdge:function(a){\"edit\"===l.value&&e.editor.startEditCircle()},onDraggingCircleEdge:function(a){let r;if(\"edit\"===l.value&&!!a)e.editor.activeCirclePosParams.centerPos&&(r=mE([e.editor.activeCirclePosParams.centerPos,a]).horizontalCumulativeDistance),r&&r<=i.value?(e.editor.activeCirclePosParams.radius=r,e.editor.activeCirclePosParams.circleEdgePoint=a):e.editor.activeCirclePosParams.circleEdgePoint=(0,lL.cloneDeep)(e.editor.activeCirclePosParams.circleEdgePoint)},circleCenterPosCartesian3:r,circleCenterPos:t,circleEdgePoint:o,circleRadius:n,circleHandleMode:l,circleColor:a}}(),{isCylinderEditing:y,startDragCylinderEdgePoint:S}=function(){let e=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),a=(0,uh.Fl)(()=>\"cylinder\"===e.editor.editingModeReactive.value);return{startDragCylinderEdgePoint:function(a){if(!a)return;let[,r,t]=a.split(\"_\");e.editor.startDrag(\"center\"===t?0:1,\"bottom\"===r?0:1)},isCylinderEditing:a}}(),j=(0,uh.Fl)(()=>{let e=d.value;if(e){let r=l.value.length,t=a.drawer.getDrawingMode();if(t===c2.oO.line||t===c2.oO.polygon3d){if(r>=1){let n=l.value[r-1],i=t===c2.oO.line?(0,pg.Q5)(n,e):(0,pg.v9)(n,e);if(i>=.1)return[{midpoint:e,angle:t===c2.oO.polygon3d?a.drawer.polygon3DAngle:void 0,distance:i}]}}else if((t===c2.oO.polygon||t===c2.oO.prism||t===c2.oO.cylinder)&&l.value.length>=2){let r=gH(a),n=[];if(a.drawer.activeSolidStatus===sA.height){let r=l.value[0];if(t===c2.oO.cylinder){let{centerPos:e,radius:t}=a.drawer.activeCirclePosParams,n=mF(e,t,void 0,e?.height);r=(0,pg.jL)(n[0])}let i=uf.Cartesian3.midpoint(e,r,new uf.Cartesian3),o=(0,pg.v9)(e,r);return o>=.1&&n.push({midpoint:i,distance:o}),n}let i=l.value[l.value.length-1],o=uf.Cartesian3.midpoint(e,i,new uf.Cartesian3),s=r?(0,pg.Q5)(e,i):(0,pg.v9)(e,i);s>=.1&&n.push({midpoint:o,distance:s,clampToGround:r});let d=l.value[0],c=uf.Cartesian3.midpoint(e,d,new uf.Cartesian3),u=r?(0,pg.Q5)(e,d):(0,pg.v9)(e,d);return u>=.1&&n.push({midpoint:c,distance:u,clampToGround:r}),n}}return[]});function D(e,r){\"end\"===r&&a.drawer.finishDrawing()}function I(){return\"polygon3d\"!==a.drawer.getDrawingMode()&&a.drawer.canFinish()}let A=a.editor.dragging,C=(0,uh.Fl)(()=>{let e=a.editor.activeShapePoints.value;return\"pin\"===a.editor.editingMode?[]:e});function x(e,r=0){return a.editor.activeShapePoints.value[r]?.findIndex(a=>a.id===e)}let M=function(){let e=(0,uh.SU)((0,uh.f3)(\"cesiumManager\"));return function(a){e?.viewer?.canvas.dispatchEvent(new WheelEvent(a.type,a))}}(),E=(0,uh.qj)({visible:!1,left:0,top:0,longitude:\"\",latitude:\"\",asl:0});function P(){E.visible=!1,o.value=!1}function T(e){if(!e)return;P(),o.value=!0;let r=0,t=0,n=uf.Cartographic.fromCartesian(e),i=uv(uf.Math.toDegrees(n.longitude),6),s=uv(uf.Math.toDegrees(n.latitude),6),l=a.worldToCanvas(e);l&&(r=l.x,t=l.y),E.top=t,E.left=r+12,E.longitude=uI(i,\"long\"),E.latitude=uI(s,\"lat\"),E.asl=uA((0,y6.ellipsoidToEgm96)(s,i,n.height)),E.visible=!0}(0,uh.YP)(()=>C.value,e=>{0===e.length&&P()});let R=v0(),F=e=>uw(e,t8.Length,R.measure_units_system).text;return(e,d)=>((0,uh.wg)(),(0,uh.iD)(\"div\",{class:(0,uh.C_)([\"pops-container\",{dragging:(0,uh.SU)(A)}]),onWheel:d[7]||(d[7]=(0,uh.iM)((...e)=>(0,uh.SU)(M)&&(0,uh.SU)(M)(...e),[\"prevent\"]))},[((0,uh.wg)(!0),(0,uh.iD)(uh.HY,null,(0,uh.Ko)(j.value,(e,a)=>((0,uh.wg)(),(0,uh.j4)(jr,{key:a,point:e.midpoint,angle:e.angle,distance:e.distance,\"clamp-to-ground\":e.clampToGround},null,8,[\"point\",\"angle\",\"distance\",\"clamp-to-ground\"]))),128)),(0,uh.Wm)(jD,{points:(0,uh.SU)(l),onShowTooltip:T,onCloseTooltip:P},null,8,[\"points\"]),(0,uh.Wm)(jI,{points:m.value,\"clamp-to-ground\":gH(a)},null,8,[\"points\",\"clamp-to-ground\"]),I()&&!(0,uh.SU)(h)?((0,uh.wg)(),(0,uh.j4)(js,{key:0,type:\"end\",point:(0,uh.SU)(l)[(0,uh.SU)(l).length-1],onClick:d[0]||(d[0]=e=>D((0,uh.SU)(l)[(0,uh.SU)(l).length-1],e))},null,8,[\"point\"])):(0,uh.kq)(\"\",!0),((0,uh.wg)(!0),(0,uh.iD)(uh.HY,null,(0,uh.Ko)(C.value,(e,l)=>((0,uh.wg)(),(0,uh.iD)(uh.HY,null,[e.length<(0,uh.SU)(2e3)&&!(0,uh.SU)(y)?((0,uh.wg)(),(0,uh.iD)(uh.HY,{key:0},[u.value?((0,uh.wg)(),(0,uh.j4)(jm,{key:`ends-${l}`,points:e,\"enable-end-point-selected\":(0,uh.SU)(n),\"active-index\":l===(0,uh.SU)(t).arrIndex?(0,uh.SU)(t).pointIndex:-1,onLeftDown:e=>(function(e,t=0){let n=x(e,t),s=C.value?.[t]?.[n],l={point:s?(0,pg.KO)(s,!0):null,pointIndex:n,pointArrayIndex:t,ownerElement:r.activeTypedElement};a.emit(\"editPointClick\",l),i(t,n),r.startDrag(n,t),P(),o.value=!0})(e,l),onShowTooltip:T,onCloseTooltip:P,onRemove:e=>(function(e,r=0){let t=x(e,r);a.editor.removePoint(t,r)})(e,l)},null,8,[\"points\",\"enable-end-point-selected\",\"active-index\",\"onLeftDown\",\"onRemove\"])):(0,uh.kq)(\"\",!0),((0,uh.wg)(),(0,uh.j4)(jp,{key:`mids-${l}`,points:e,\"label-show\":s.value,\"point-show\":p.value,onAddAndDrag:e=>(function({id:e,point:r},t=0){let n=x(e,t);a.editor.addPoint(n,r,t)})(e,l)},null,8,[\"points\",\"label-show\",\"point-show\",\"onAddAndDrag\"]))],64)):(0,uh.kq)(\"\",!0)],64))),256)),(0,uh.SU)(y)?((0,uh.wg)(),(0,uh.j4)(jE,{key:1,\"cylinder-edit-points\":C.value,\"label-show\":s.value,onStartDrag:d[1]||(d[1]=e=>(0,uh.SU)(S)(e)),onShowTooltip:T,onCloseTooltip:P},null,8,[\"cylinder-edit-points\",\"label-show\"])):(0,uh.kq)(\"\",!0),C.value.length>1&&!(0,uh.SU)(y)?((0,uh.wg)(),(0,uh.j4)(jI,{key:2,\"label-show\":s.value,points:C.value.map(e=>e[0])},null,8,[\"label-show\",\"points\"])):(0,uh.kq)(\"\",!0),(0,uh.SU)(h)&&(0,uh.SU)(g)&&(0,uh.SU)(f)?((0,uh.wg)(),(0,uh.iD)(uh.HY,{key:3},[(0,uh.Wm)(jC,{point:(0,uh.SU)(h),\"use-cross-icon\":\"draw\"!==(0,uh.SU)(_),onDragstart:d[2]||(d[2]=e=>(0,uh.SU)(k)(e)),onDragmove:d[3]||(d[3]=e=>(0,uh.SU)(v)(e))},null,8,[\"point\",\"use-cross-icon\"]),\"edit\"!==(0,uh.SU)(_)&&I()?(0,uh.kq)(\"\",!0):((0,uh.wg)(),(0,uh.j4)(jC,{key:0,point:(0,uh.SU)(g),onDragstart:d[4]||(d[4]=e=>(0,uh.SU)(z)(e)),onDragmove:d[5]||(d[5]=e=>(0,uh.SU)(w)(e))},null,8,[\"point\"])),(0,uh.Wm)(jx,{\"circle-edge-point\":(0,uh.SU)(g),\"circle-center-pos\":(0,uh.SU)(h),radius:(0,uh.SU)(f),\"use-distance-scale-label\":\"edit\"===(0,uh.SU)(_),\"circle-color\":(0,uh.SU)(b)},null,8,[\"circle-edge-point\",\"circle-center-pos\",\"radius\",\"use-distance-scale-label\",\"circle-color\"]),\"draw\"===(0,uh.SU)(_)&&I()?((0,uh.wg)(),(0,uh.j4)(js,{key:1,type:\"end\",\"icon-size\":16,point:(0,uh.SU)(pg.jL)((0,uh.SU)(g)),onClick:d[6]||(d[6]=e=>D((0,uh.SU)(pg.jL)((0,uh.SU)(g)),e))},null,8,[\"point\"])):(0,uh.kq)(\"\",!0)],64)):(0,uh.kq)(\"\",!0),E.visible?((0,uh.wg)(),(0,uh.iD)(\"div\",{key:4,style:(0,uh.j5)({top:`${E.top}px`,left:`${E.left}px`}),class:\"hover-popup popup-info\"},[(0,uh.Uk)(\" GPS: \"+(0,uh.zw)(E.latitude)+\" \"+(0,uh.zw)(E.longitude)+\" \",1),jT,(0,uh.Uk)(\" ASL: \"+(0,uh.zw)(F(E.asl)),1)],4)):(0,uh.kq)(\"\",!0),(0,uh.Wm)(jj)],34))}}),jF=(0,_S.default)(jR,[[\"__scopeId\",\"data-v-6d13e092\"]]),jL=[\"src\"],jN={key:1,class:\"uranus-cursor-tips\"},jJ=(0,uh.aZ)({name:\"UranusCursor\",__name:\"UranusCursor\",props:{cursor:{default:\"\"},tips:{default:\"\"}},setup(e){let a=/^url\\((.+)\\)$/m,r=(0,uh.iH)({x:0,y:0,visible:!1}),t=(0,uh.Fl)(()=>r.value.visible),n=(0,uh.Fl)(()=>({transform:`translate3d(${r.value.x}px, ${r.value.y}px, 0) translate(-50%, -50%)`})),i=(0,uh.Fl)(()=>{let r=a.exec(e.cursor);return r&&r[1]?r[1]:\"\"}),o=(0,uh.Fl)(()=>i.value?r.value.visible?\"none\":\"\":e.cursor),s=(0,uh.Fl)(()=>e.tips?e.tips.split(\"\\n\").map(e=>{let a={key:[],content:\"\"};if(e.includes(\"|\")){let r=e.split(\"|\");a.key=r.slice(0,-1),a.content=r[r.length-1]}else a.content=e;return a}):[]),l=null,d=0,c=0;function u(e){d=e.clientX,c=e.clientY,d=e.clientX,c=e.clientY,null===l&&(l=requestAnimationFrame(()=>{r.value.x=d,r.value.y=c,l=null}))}function p(e){u(e)}function m(e){var a;a=e,r.value.visible=!0,u(a)}function h(e){r.value.visible=!1}return(e,a)=>((0,uh.wg)(),(0,uh.iD)(\"div\",(0,uh.dG)(e.$attrs,{class:\"uranus-cursor-container\",style:{cursor:o.value},onMouseenter:m,onMouseleave:h,onMousemove:p,onPointermove:(0,uh.iM)(p,[\"prevent\"])}),[(0,uh.WI)(e.$slots,\"default\"),i.value||s.value.length>0?(0,uh.wy)(((0,uh.wg)(),(0,uh.iD)(\"div\",{key:0,class:\"uranus-cursor-element\",style:(0,uh.j5)(n.value)},[i.value?(0,uh.WI)(e.$slots,\"element\",{key:0,src:i.value},()=>[(0,uh._)(\"img\",{src:i.value},null,8,jL)]):(0,uh.kq)(\"\",!0),s.value.length>0?((0,uh.wg)(),(0,uh.iD)(\"div\",jN,[((0,uh.wg)(!0),(0,uh.iD)(uh.HY,null,(0,uh.Ko)(s.value,(e,a)=>((0,uh.wg)(),(0,uh.iD)(\"div\",{key:a,class:\"uranus-cursor-tips-item\"},[((0,uh.wg)(!0),(0,uh.iD)(uh.HY,null,(0,uh.Ko)(e.key,(e,a)=>((0,uh.wg)(),(0,uh.iD)(uh.HY,null,[0!==a?((0,uh.wg)(),(0,uh.iD)(uh.HY,{key:0},[(0,uh.Uk)(\" + \")],64)):(0,uh.kq)(\"\",!0),e?((0,uh.wg)(),(0,uh.j4)(yJ,{key:a,\"keyboard-key\":e,theme:\"light\",width:0},null,8,[\"keyboard-key\"])):(0,uh.kq)(\"\",!0)],64))),256)),(0,uh.Uk)(\" \"+(0,uh.zw)(e.content),1)]))),128))])):(0,uh.kq)(\"\",!0)],4)),[[uh.F8,t.value]]):(0,uh.kq)(\"\",!0)],16))}}),jO=(0,_S.default)(jJ,[[\"__scopeId\",\"data-v-68a1c0e9\"]]);let jq=[(u=()=>(0,uh._)(\"span\",null,\"下载地图报错信息\",-1),(0,uh.dD)(\"data-v-1106cfc6\"),u=u(),(0,uh.Cn)(),u)],jG={class:\"timeText\"},jH={key:1},jB=(0,uh.aZ)({name:\"MapErrorPanel\",__name:\"MapErrorPanel\",props:{container:{},error:{type:Boolean},enableDownload:{type:Boolean}},emits:[\"download-error-file\"],setup(e,{emit:a}){let r={backgroundColor:\"#000\",opacity:.3},t=(0,uh.iH)(!1),n=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),i=n?.isMapError||(0,uh.iH)(!1),o=(0,uh.iH)(!1),s=(0,uh.iH)(!1),l=(0,uh.iH)(\"\"),d=(0,uh.iH)(\"\");function c(){let e=gQ()();l.value=e.format(kw);let a=function(){let e={name:\"\",version:\"\"},a=navigator.userAgent.toLowerCase(),r=a.match(/(msie|firefox|chrome|opera|version).*?([\\d.]+)/);return r&&r.length>=3?(e.name=r[1].replace(/version/,\"safari\"),e.version=r[2]):s.value=!0,e}();d.value=`${a.name} ${a.version}`}function u(){return e.container||window.document.body}function p(){window.location.reload()}e.error&&(t.value=!0,o.value=!0,c()),(0,uh.YP)(i,()=>{i&&(t.value=!0,c())});let m=n.customMapErrorMessage;function h(){a(\"download-error-file\")}return(e,a)=>{let n=(0,uh.up)(\"i18n-t\"),i=(0,uh.up)(\"UranusModal\");return(0,uh.wg)(),(0,uh.j4)(i,{visible:t.value,\"mask-style\":r,\"get-container\":u,footer:null,title:e.$t(\"web.map.error_tip_title\"),size:\"small\",theme:\"dark\",\"is-height-auto-fit\":\"\",class:\"map-error-modal\"},{default:(0,uh.w5)(()=>[o.value?((0,uh.wg)(),(0,uh.j4)(n,{key:0,keypath:\"web.map.error_tip_message3\",tag:\"div\"},{refresh:(0,uh.w5)(()=>[(0,uh._)(\"a\",{onClick:p},[(0,uh._)(\"span\",null,(0,uh.zw)(e.$t(\"web.map.error_tip_btn\")),1)])]),_:1})):((0,uh.wg)(),(0,uh.iD)(uh.HY,{key:1},[(0,uh.SU)(m)?((0,uh.wg)(),(0,uh.j4)(n,{key:0,keypath:(0,uh.SU)(m),tag:\"div\"},null,8,[\"keypath\"])):((0,uh.wg)(),(0,uh.j4)(n,{key:1,keypath:\"web.map.error_tip_operate_text\",tag:\"div\"},{refresh:(0,uh.w5)(()=>[(0,uh._)(\"a\",{onClick:p},[(0,uh._)(\"span\",null,(0,uh.zw)(e.$t(\"web.map.error_tip_btn\")),1)])]),_:1})),(0,uh.Wm)(n,{keypath:\"web.map.error_tip_message\",tag:\"span\"}),e.enableDownload?((0,uh.wg)(),(0,uh.iD)(\"a\",{key:2,onClick:h},jq)):(0,uh.kq)(\"\",!0),(0,uh._)(\"div\",jG,[(0,uh.Wm)(n,{keypath:\"web.map.error_tip_timestamp\",tag:\"span\"}),(0,uh.Uk)(\" \"+(0,uh.zw)(l.value)+\" (\"+(0,uh.zw)((0,uh.SU)(zE)())+\") \",1)]),(0,uh._)(\"div\",null,[(0,uh.Wm)(n,{keypath:\"web.map.error_tip_browser_version\",tag:\"span\"}),s.value?((0,uh.wg)(),(0,uh.j4)(n,{key:0,keypath:\"web.map.error_tip_browser_tip\",class:\"error_tip_browser_tip\",tag:\"span\"})):((0,uh.wg)(),(0,uh.iD)(\"span\",jH,(0,uh.zw)(d.value),1))])],64))]),_:1},8,[\"visible\",\"title\"])}}}),jV=(0,_S.default)(jB,[[\"__scopeId\",\"data-v-1106cfc6\"]]),jU=(0,uh.aZ)({name:\"DsmRegion\",__name:\"DsmRegion\",props:{region:{}},setup(e){let{addPolyline:a}=um(),r=(0,uh.Fl)(()=>{let a={longitude:e.region.min_long,latitude:e.region.min_lat},r={longitude:e.region.min_long,latitude:e.region.max_lat},t={longitude:e.region.max_long,latitude:e.region.max_lat};return[a,r,t,{longitude:e.region.max_long,latitude:e.region.min_lat},a]});return Sq(()=>a({clampToGround:!0,width:3,dash:!0,fromDraw:!1,removable:!1,depthFailAlpha:1,show:!0,positions:r.value,cssColor:\"#E70102\"}),()=>({positions:r.value})),(e,a)=>((0,uh.wg)(),(0,uh.iD)(\"span\"))}});var jK=r(\"27976\");let jW={class:\"cursor-postfix\"},jZ={class:\"map-action-list\"},jY=(0,uh.aZ)({name:\"CesiumView\",__name:\"CesiumView\",setup(e){let a;let r=\"prod\",t=(0,uh.FN)().proxy,n=(0,uh.iH)(null),i=(0,uh.iH)(null),o=(0,uh.iH)(!1),s=(0,uh.iH)(\"\"),l=(0,uh.iH)(\"\"),d=(0,uh.iH)(null),c=(0,uh.iH)(!1),u=pS(),{dsmRegion:p}=function(){let e=(0,uh.iH)(null);return(0,uh.JJ)(wR,e),{dsmRegion:e}}(),{cameraInDsm:m}=function(e,a){let r=(0,uh.Fl)(()=>e.value?.viewer),t=(0,uh.iH)(!1),n=(0,uh.Fl)(()=>{if(a.value){let{min_long:e,min_lat:r,max_long:t,max_lat:n}=a.value,i=[e,r];return(0,uQ.yu)([[i,[t,r],[t,n],[e,n],i]])}return null}),i=(0,lL.throttle)(function(){if(!n.value){t.value=!1;return}let e=r.value;if(e){let{clientWidth:a,clientHeight:r}=e.scene.canvas,i=new uf.Cartesian2(0,0),o=new uf.Cartesian2(0,r),s=new uf.Cartesian2(a,r),l=new uf.Cartesian2(a,0),d=[i,o,s,l].map(a=>{let r=e.camera.getPickRay(a);if(r)return e.scene.globe.pick(r,e.scene)}),c=d.concat([d[0]]);if(c.some(e=>!e))t.value=!1;else{let e=c.map(e=>{let a=(0,pg.KO)(e);return[a.longitude,a.latitude]}),a=(0,uQ.yu)([e]);t.value=(0,jK.ZP)(n.value,a)}}},500);return(0,uh.bv)(()=>{setTimeout(()=>{let e=r.value;e&&e?.scene.postRender.addEventListener(i)})}),(0,uh.Jd)(()=>{let e=r.value;e&&e.scene.postRender.removeEventListener(i)}),{cameraInDsm:t}}(i,p),h=(0,uh.Fl)(()=>{let e=i.value;return e?.navigationWidget.keep===!0&&e?.navigationWidget.visible}),g=(0,uh.Fl)(()=>!m.value),f=(0,uh.Fl)(()=>i.value?.baseMapProvider.mode.value===\"street\"),_=(0,uh.Fl)(()=>f8.partial||i.value?.partialShow.value),b=0;function k(){b=window.setTimeout(()=>{let e=i.value;e&&e.hover.clearHoverElements()},150)}function v(){b&&(window.clearTimeout(b),b=0)}function z(){if(!i.value)return;let[e,a]=i.value.hover.cursor.split(\":\");s.value=function(e,a){switch(e){case\"pin\":return a?\"not-allowed\":\"url(cursor-pin)\";case\"polyline\":return a?\"not-allowed\":\"url(cursor-line)\";case\"polygon\":return a?\"not-allowed\":\"url(cursor-polygon)\";case\"circle\":return a?\"not-allowed\":\"url(cursor-circle)\";case\"center\":return\"url(cursor-center)\";case\"route\":return\"url(cursor-route)\";case\"route-before\":return\"url(cursor-route-before)\";case\"takeoff\":return\"url(cursor-takeoff)\";case\"add\":return\"url(cursor-add)\";case\"confirm\":return\"url(cursor-confirm)\";case\"rotate\":return\"url(cursor-rotate)\";case\"look\":return\"url(cursor-look)\";case\"move\":return\"url(cursor-move)\";default:return e}}(e,i.value.isDrawingLayerLocked&&i.value.origin===c2.tT.map),l.value=a||\"\"}function w(){i.value?.hover.clearHoverElements(),i.value?.emit(\"hoverCleared\")}function y(e){console.error(\"[URANUS MAP] CesiumJS render error\",e?.message),window.$reportStatData?.({type:\"error_map\",eventValue:{message:e?.message||\"\"}}),e&&window.$reportError?.(e)}function S(e){e.preventDefault()}let j=(0,uh.iH)(null),D=null,I=-1;function A(){if(i.value){let e=window.performance.now(),a=Math.floor((e-I)/1e3);a>1&&(I=e,window.$reportStatData?.({type:\"fh2_map_dimension\",eventValue:{dimension_type:\"orthographic\"===i.value.frustum.value?0:1,dimension_time:a,dimension_scene:!function(){let{hash:e}=location;return\"#/cockpit\"===e||!1}()?!function(){let{hash:e}=location;return!!e.startsWith(\"#/editor\")||!1}()?0:1:2}}))}}let C=0;(0,uh.YP)(()=>i.value?.frustum.value,e=>{(0,uf.defined)(e)?(-1!==I&&A(),C&&window.clearInterval(C),I=window.performance.now(),C=window.setInterval(A,6e4)):C&&window.clearInterval(C)});let x=(0,uh.XI)(null);(0,uh.bv)(()=>{if(!!n.value){u&&n.value.addEventListener(\"touchstart\",S);try{let e=f9.mount(n.value);window.FH2?._setCesiumViewer({key:\"global\",value:e.viewer}),e.readyPromise.then(()=>{let a={base_map:0,road_map:0,building_model:0};if(e.globeShow)switch(uM.baseMapMode){case\"satellite\":a.base_map=2;break;case\"satelliteStreet\":a.base_map=2,a.road_map=1;break;case\"street\":a.base_map=1}e.navigationWidget.visible&&e.navigationWidget.switchVisible&&uM.enableBuilding&&(a.building_model=1),window.$reportStatData?.({type:\"init_map\",eventValue:a})}),e.on(\"cursorChange\",()=>{z()}),e.on(\"drawingLayerLockedChange\",()=>{z()}),e.on(\"statusLimit\",e=>{if(\"limit-create\"===e)hB.Z.error(t.$t(\"web.map.lock_can_not_edit_hint\"))}),i.value=(0,uh.Xl)(e),o.value=!0,i.value?.viewer?.scene?.renderError?.addEventListener((e,a)=>{x.value=a,console.error(a),y(a)}),setTimeout(()=>{let e=i.value?.viewer.cesiumWidget.container?.querySelector(\".cesium-performanceDisplay-defaultContainer\"),a=d.value;e&&a&&(a.appendChild(e),e.style.right=\"80px\",e.style.top=\"24px\")})}catch(e){c.value=!0,o.value=!0,x.value=e;throw y(e),e}(D=new z9.do(()=>{j.value?.refreshDsmTips()})).observe(n.value)}});let M=false;function E(){if(!x.value)return;let e=new Blob([String(x.value.stack)],{type:\"text/plain-text\"}),a=URL.createObjectURL(e),r=document.createElement(\"a\");r.href=a,r.download=`map-error-${new Date().getTime()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a)}return(0,uh.Jd)(()=>{n.value&&u&&n.value.removeEventListener(\"touchstart\",S)}),(0,uh.SK)(()=>{f9.unmount(),i.value=null,window.FH2?._setCesiumViewer({key:\"global\",value:null})}),(0,uh.JJ)(\"cesiumManager\",i),(e,a)=>{let r=(0,uh.up)(\"UranusIcon\");return(0,uh.wg)(),(0,uh.iD)(\"div\",{ref_key:\"rootEl\",ref:d,class:(0,uh.C_)([\"map-viewer-container\",`fh2-comp-map--${(0,uh.SU)(f7)}`])},[(0,uh.Wm)(jO,{cursor:s.value,tips:l.value},{element:(0,uh.w5)(({src:e})=>[(0,uh.Wm)(r,{name:e.split(\" \")[0],size:Number(e.split(\" \")[1])||32},null,8,[\"name\",\"size\"]),(0,uh._)(\"span\",jW,(0,uh.zw)(e.split(\" \")[2]),1)]),default:(0,uh.w5)(()=>[(0,uh._)(\"div\",{id:\"cesium-view\",ref_key:\"cesiumViewer\",ref:n,class:(0,uh.C_)([\"map-self-size\",{partial:_.value}]),onMouseout:w,onMouseleave:k,onMouseenter:v},[(0,uh.SU)(u)?((0,uh.wg)(),(0,uh.j4)(r,{key:0,class:(0,uh.C_)([\"map-center-icon\",{dark:f.value}]),name:\"map_center_pad\",size:28},null,8,[\"class\"])):(0,uh.kq)(\"\",!0)],34)]),_:1},8,[\"cursor\",\"tips\"]),o.value?((0,uh.wg)(),(0,uh.iD)(uh.HY,{key:0},[(0,uh._)(\"div\",{class:(0,uh.C_)([\"map-self-size map-insert-el\",{partial:_.value}])},null,2),(0,uh.Wm)(jF,{class:(0,uh.C_)([\"map-self-size\",{partial:_.value}])},null,8,[\"class\"]),i.value?.widgetShow.imprint?((0,uh.wg)(),(0,uh.j4)(SR,{key:0,\"show-dsm-tips\":g.value},null,8,[\"show-dsm-tips\"])):(0,uh.kq)(\"\",!0),(0,uh._)(\"div\",jZ,[(0,uh._)(\"div\",null,[i.value?.operationsWidget.visible?((0,uh.wg)(),(0,uh.j4)(S9,{key:0})):(0,uh.kq)(\"\",!0)]),(0,uh._)(\"div\",null,[h.value?((0,uh.wg)(),(0,uh.j4)(y1,{key:0})):(0,uh.wy)(((0,uh.wg)(),(0,uh.j4)(y1,{key:1},null,512)),[[uh.F8,i.value?.navigationWidget.visible]])])]),(0,uh.kq)(\"\",!0),(0,uh.Wm)(jV,{container:d.value,error:c.value,\"enable-download\":(0,uh.SU)(M),onDownloadErrorFile:E},null,8,[\"container\",\"error\",\"enable-download\"]),(0,uh.SU)(p)?((0,uh.wg)(),(0,uh.j4)(jU,{key:2,region:(0,uh.SU)(p)},null,8,[\"region\"])):(0,uh.kq)(\"\",!0)],64)):(0,uh.kq)(\"\",!0)],2)}}}),jQ=(0,_S.default)(jY,[[\"__scopeId\",\"data-v-6b041f40\"]]),j$={class:\"uranus-map-app\"},jX=(0,uh.aZ)({name:\"MapApp\",__name:\"App\",setup(e){let a=z6[uF()]||z6[z5],r=(0,uh.FN)().proxy;if(!function(e){let a=null,r=(0,uh.qj)({measure_units_system:t5.Metric,temperature_units_system:t6.Celsius});(0,uh.JJ)(vX,r),(0,uh.bv)(()=>{e&&(a=e.updateUnitsSetting.subscribe(e=>{r.measure_units_system=e.measure_units_system,r.temperature_units_system=e.temperature_units_system}))}),(0,uh.Jd)(()=>{a&&(a.unsubscribe(),a=null)})}(r.$pager),g4(sI.MAP_TERRAIN_PRIVATE)){let e=()=>{pi.get(`${window.CURRENT_FE_ENV_CONFIG.terrainHost}/dem/api/v2/terrain-tiles/wgs84/layer.json?ah=ak`,{ignoreCodeJudgment:!0}).then(e=>{if(235404===e.data.code){var a,t;b2.error({duration:0,title:uP(\"web.priv_bypass_push.no_elevation_data\",void 0),message:uP(\"web.priv_bypass_push.map_config_error\",void 0)}),r.$pager.offlineTerrainPipe.next({hasTerrain:!1})}else r.$pager.offlineTerrainPipe.next({hasTerrain:!0,dsmRegion:e.data.region})})};(0,uh.bv)(()=>{e()})}return g4(sI.MAP_CONFIG_PRIVATE)&&(0,uh.bv)(()=>{zQ(f8.orgId).then(e=>{r.$pager.offlineMapConfig.next(e?.data?.map_config_list)}).catch(()=>{var e,a;b2.error({duration:0,title:uP(\"web.priv_bypass_push.failed_to_obtain_offline_map_configuration\",void 0),message:uP(\"web.priv_bypass_push.map_config_error\",void 0)})})}),(e,r)=>{let t=(0,uh.up)(\"AConfigProvider\");return(0,uh.wg)(),(0,uh.iD)(\"div\",j$,[(0,uh.Wm)(t,{locale:(0,uh.SU)(a),\"prefix-cls\":\"map-app-ant\"},{default:(0,uh.w5)(()=>[(0,uh.Wm)(jQ)]),_:1},8,[\"locale\"])])}}});function j0(e,a,r){var i,o,s,l,d,c,u,p,m,h;let g=(i=jX,t=(n=(0,uh.ri)(i)).config.globalProperties,n);return!function(e){e.directive(\"click-outside\",{mounted(e,a){e.removeClickOutside=_a(e,a.value)},beforeUnmount(e){e.removeClickOutside?.()}})}(o=g),function(e){e.directive(\"longTap\",{beforeMount(e,a){let r,t;let n=a.value;if(\"function\"==typeof n){let e=e=>{n(e)},a=null;r=r=>{if(null===a){let t=()=>{e(r),a=window.requestAnimationFrame(t)};a=window.requestAnimationFrame(t)}},t=()=>{null!==a&&(window.cancelAnimationFrame(a),a=null)}}else r=n.start,t=n.end;let i=0;e.addEventListener(\"mousedown\",e=>{if(!(Date.now()-i<800)){if(2!==e.button&&(\"click\"!==e.type||0===e.button))r(e),window.addEventListener(\"mouseup\",t,{once:!0})}}),e.addEventListener(\"touchstart\",e=>{i=Date.now(),r(e),window.addEventListener(\"touchend\",t,{once:!0})})}})}(o),function(e){e.directive(\"elementHover\",{beforeMount(e,a,r){let t=a.value;if(t){let n=!1;pS()?!a.modifiers.pcOnly&&((a.arg&&r.component?.refs[a.arg]||e).addEventListener(\"click\",()=>{t(n=!n)}),e.removeClickOutside=_a(e,()=>{n&&t(n=!1)})):(e.addEventListener(\"mouseenter\",e=>{t(n=!0)}),e.addEventListener(\"mouseleave\",e=>{t(n=!1)}))}},beforeUnmount(e){e.removeClickOutside?.()}})}(o),(s=g).use(_g.Z),s.use(_r.Z),s.use(_s.Z),s.use(_o.ZP),s.use(_c.Z),s.use(_n.Z),s.use(_f.Z),s.use(_i.Z),s.use(_h.Z),s.use(_t.Z),s.use(_p.ZP),s.use(_m.ZP),s.use(_l.Z),s.use(_u.ZP),s.use(_d.Z),!function(e){e.use(zY)}(g),!function(e){e.use(pk)}(g),l=pk.global.t,d=r,c=0,u=hB.Z,p=l,m=d,pr=u,pt=p,pn=m,a?.(),g.mount(e||\".uranus-map-app\"),h=0,()=>{g?.unmount(),g=null}}!window.__POWERED_BY_QIANKUN__&&j0();let{bootstrap:j1,mount:j2,unmount:j3,update:j4}=(t4=j0,p=null,{async bootstrap(){},async mount(e){_e(e.componentName),f8.partial=!!e.partial,f8.key=e.key,f8.orgId=e.orgId,p=t4(e.container?.querySelector(\".uranus-map-app\"),()=>{let a=t;e.pager&&(a.$pager=e.pager)},e.pager),lN=e.mapAppState,e.mapAppState.setMapApp(f9,e.key)},async unmount(e){p&&(p(),p=null),window.setTimeout(()=>{e.mapAppState.setMapApp(null,e.key)})},async update(e){_e(e.componentName)}})},69211:function(e,a,r){\"use strict\";let t,n,i;r.d(a,{F5:function(){return j},Il:function(){return M},Pc:function(){return c},_3:function(){return C},eM:function(){return k},gK:function(){return v},jR:function(){return D},mq:function(){return w},p_:function(){return g},vq:function(){return _}});var o=r(90624),s=r(10161),l=r.n(s),d=r(45522);async function c(e){let a=e.viewer,r=await e.picker.pickPositionAsync(new o.Cartesian2(a.canvas.clientWidth/2,a.canvas.clientHeight/2));return r&&o.Cartographic.fromCartesian(r).height<-2e3&&(r=void 0),r}async function u(e,a){let r=e.viewer;if(!r.isDestroyed())if(a){let a=await c(e);if(a)return r.camera.lookAtTransform(o.Transforms.eastNorthUpToFixedFrame(a)),a}else r.camera.lookAtTransform(o.Matrix4.IDENTITY)}function p(e,a,r,t=!1){let n={heading:e.heading,pitch:e.pitch,roll:e.roll};t?n[a]=r:n[a]+=r,e.setView({orientation:n})}let m=new(l());async function h(e,a){g();let r=a=>{e(a)?g():t=window.requestAnimationFrame(r)},o=(0,d.k)();i=o,a?.onStart&&await a.onStart(),i===o?(m.emit(\"animation_start\"),t=window.requestAnimationFrame(r),n=a?.onStop):a?.onStop?.()}function g(){i=void 0,t&&(window.cancelAnimationFrame(t),t=void 0,m.emit(\"animation_stop\")),n&&(n(),n=void 0)}function f(e,a){let r;return h(e=>a(r,e),{onStart:async function(){r=await u(e,!0)},onStop(){u(e,!1)}})}let _=o.Math.toRadians(2.25),b=o.Math.toRadians(-30),k=o.Math.toRadians(-90);function v(e,a){let r=e.viewer.camera;f(e,e=>{let t=(a?1:-1)*_,n=r.pitch,i=!1;return a?o.Math.greaterThanOrEquals(n,b,_)&&(t=b-n,i=!0):o.Math.lessThanOrEquals(n,k,_)&&(t=k-n,i=!0),e?r.rotateUp(t):p(r,\"pitch\",t),i})}let z=o.Math.toRadians(1);function w(e,a){let r=e.viewer.camera;f(e,e=>(e?r[a?\"rotateLeft\":\"rotateRight\"](z):p(r,\"heading\",(a?1:-1)*z),!1))}let y=o.Math.toRadians(10),S=o.Math.toRadians(360);function j(e,a,r){return new Promise(t=>{let n=e.viewer.camera,i=o.Math.toRadians(r);f(e,e=>{let r=y;return i<y&&(r=a?S-n.heading:n.heading),i-=y,e?n[a?\"rotateLeft\":\"rotateRight\"](r):p(n,\"heading\",(a?1:-1)*r),!!(i<=0)||!1}),m.once(\"animation_stop\",()=>{t()})})}function D(e,a){let r=e.viewer.scene,t=e.screenSpaceCameraController,n=e.viewer.camera,i=-1;f(e,(s,l)=>{if(!s)return!1;{let d=1;-1!==i&&(d=(l-i)/1e3*60),i=l;let c=o.Cartesian3.distance(n.positionWC,s);return!t.noZoomIn(r,!a)&&((n[a?\"zoomOut\":\"zoomIn\"](.025*c*d),a)?c>=e.viewer.scene.screenSpaceCameraController.maximumZoomDistance:c<=e.viewer.scene.screenSpaceCameraController.minimumZoomDistance)}})}async function I(e){let a=e.viewer,r=await c(e);return r?[r,o.Cartesian3.distance(a.camera.position,r)]:[void 0,void 0]}let A=o.Math.toRadians(-45);async function C(e){var a;let r=e.viewer,t=r.camera;let n=(a=r.camera,o.Math.equalsEpsilon(a.pitch,k,_)&&(o.Math.equalsEpsilon(a.heading,o.Math.toRadians(360),z)||o.Math.equalsEpsilon(a.heading,o.Math.toRadians(0),z))),i=2*_;if(n)return f(e,e=>(e?t.rotateUp(i):p(t,\"pitch\",i),o.Math.greaterThanOrEquals(t.pitch,A,i))),new Promise(e=>{m.once(\"animation_stop\",()=>{e()})});{let a;let[n,i]=await I(e);if(n&&i){let e=r.scene.globe.ellipsoid.cartesianToCartographic(n),t=e.height+i;a=o.Cartesian3.fromRadians(e.longitude,e.latitude,t)}else a=t.position;await e.flyTo({destination:a,orientation:{heading:o.Math.toRadians(360),pitch:k},duration:.6})}}let x=new o.Matrix4,M=(e,a,r=\"ecef\")=>{let t=new o.Cartesian3;if(\"ecef\"===r){let r=o.Transforms.eastNorthUpToFixedFrame(e),n=o.Matrix4.inverse(r,x),i=o.Matrix4.multiplyByPoint(n,a,new o.Cartesian3);o.Cartesian3.subtract(i,o.Cartesian3.ZERO,t)}else o.Cartesian3.subtract(e,a,t);return{heading:o.Math.PI_OVER_TWO-window.Math.atan2(t.y,t.x),pitch:window.Math.asin(t.z/o.Cartesian3.magnitude(t))}}},66109:function(e,a,r){\"use strict\";r.d(a,{E8:function(){return b},JJ:function(){return y},KO:function(){return d},LS:function(){return i},Pg:function(){return k},Q5:function(){return u},WP:function(){return v},i9:function(){return s},ir:function(){return z},jL:function(){return o},ri:function(){return n},v9:function(){return p},vi:function(){return l}});var t=r(90624);function n(e){return null!=e}function i(e,a){return n(e)?e:a}function o(e,a=!1){let{longitude:r,latitude:n,height:i}=e;return t.Cartesian3.fromDegrees(r,n,a?0:i)}function s(e){let{longitude:a,latitude:r,height:n}=e;return t.Cartographic.fromDegrees(a,r,n)}function l(e){let{longitude:a,latitude:r,height:n}=e;return{longitude:t.Math.toDegrees(e.longitude),latitude:t.Math.toDegrees(e.latitude),height:n}}function d(e,a=!1){let r=t.Cartographic.fromCartesian(e);return{longitude:t.Math.toDegrees(r.longitude),latitude:t.Math.toDegrees(r.latitude),height:a?r.height:void 0}}function c(e){return s(d(e,!0))}function u(e,a){return new t.EllipsoidGeodesic(s(d(e,!0)),s(d(a,!0))).surfaceDistance}function p(e,a){return t.Cartesian3.distance(e,a)}let m=t.Math.PI/2,h=-m,g=t.Math.PI,f=-g,_=g-f;function b(e,a=1){let{longitude:r,latitude:n}=t.Rectangle.center(e),i=t.Rectangle.computeWidth(e)*a,o=i/2,s=t.Rectangle.computeHeight(e)*(a/2),l=r-o,d=r+o;i>_?(l=f,d=g):(d>g&&(d-=_),l<f&&(l+=_));let c=n-s,u=n+s;return u>m&&(u=m),c<h&&(c=h),new t.Rectangle(l,c,d,u)}function k(e,a){for(let r of Object.keys(a))n(a[r])&&(e[r]=a[r])}function v(e,a){let r=t.Transforms.eastNorthUpToFixedFrame(e),n=t.Cartesian3.subtract(e,a,new t.Cartesian3),i=t.Matrix4.multiplyByPointAsVector(t.Matrix4.inverse(r,new t.Matrix4),n,new t.Cartesian3),o=t.Cartesian3.normalize(i,new t.Cartesian3),s=Math.atan2(o.y,o.x)-t.Math.PI_OVER_TWO,l=t.Math.TWO_PI-t.Math.zeroToTwoPi(s);return{heading:l,pitch:t.Math.PI_OVER_TWO-t.Math.acosClamped(o.z)}}function z(e,a,r){let n=t.Quaternion.fromAxisAngle(a,r,new t.Quaternion),i=t.Matrix3.fromQuaternion(n,new t.Matrix3),o=t.Matrix3.multiplyByVector(i,e,new t.Cartesian3);return t.Cartesian3.normalize(o,new t.Cartesian3)}function w(e,a,r=!0){let t=e.latitude===a.longitude&&e.longitude===a.longitude;if(r){let r=e.height&&a.height&&e.height===a.height;return t&&r}return t}function y(e){let a=e.length;return a<=2||3===a&&w(e[0],e[a-1])?null:w(e[0],e[a-1])?e:(e.push(e[0]),e)}},64217:function(e,a,r){window.__POWERED_BY_QIANKUN__},49018:function(e,a,r){\"use strict\";var t,n,i,o,s,l,d,c;r.d(a,{Fd:function(){return u},P3:function(){return m},SG:function(){return h},hY:function(){return i},oO:function(){return n},tT:function(){return t},vL:function(){return p},wG:function(){return g}}),(s=t||(t={})).map=\"map\",s.wayline=\"wayline\",s.CustomFlyPolygonArea=\"customFlyPolygonArea\",s.CustomLimitPolygonArea=\"customLimitPolygonArea\",s.CustomFlyCircleArea=\"customFlyCircleArea\",s.CustomLimitCircleArea=\"customLimitCircleArea\",s.NoLandingZone=\"NoLandingZone\",s.model=\"model\",s.flyTo=\"flyTo\";let u=[\"wayline\",\"model\"],p=[\"wayline\"];function m(e){return\"customLimitCircleArea\"===e||\"customLimitPolygonArea\"===e}function h(e){return\"customFlyCircleArea\"===e||\"customFlyPolygonArea\"===e}(l=n||(n={})).circle=\"circle\",l.line=\"line\",l.polygon=\"polygon\",l.polygon3d=\"polygon3d\",l.prism=\"prism\",l.cylinder=\"cylinder\",l.closedLine=\"closed-line\",(d=i||(i={})).ground=\"ground\",d.height=\"height\",(c=o||(o={}))[c.OverlapOfFlyAndLimit=0]=\"OverlapOfFlyAndLimit\",c[c.OverlapOfFlyAndFly=1]=\"OverlapOfFlyAndFly\";let g=[\".png\",\".webp\"]},45522:function(e,a,r){\"use strict\";function t(){return\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,function(e){let a=16*Math.random()|0;return(\"x\"===e?a:3&a|8).toString(16)})}r.d(a,{k:function(){return t}})},90624:function(e){e.exports=function(){return this.Cesium}()},87146:function(e){e.exports=function(){return this.uranusEgm96}()},2013:function(e){e.exports=function(){return this.uranusLodash}()},6790:function(){},61922:function(e,a,r){\"use strict\";r(87544),r(23932),r(65834),r(85564),r(27330),r(82842),r(99869),r(98801),r(78481),r(99458),r(52082),r(1011),r(37689),r(58825),r(32747),r(89267),r(51609),r(41801),r(87549),r(41457),r(60380),r(60828),r(78791),r(71361),r(7482),r(12564),r(90109),r(49042),r(98998),r(96082),r(31649),r(22647),r(44483),r(5595),r(43451),r(51651),r(45221),r(53858),r(64478),r(31113),r(10719),r(35969),r(75045),r(49054),r(42441),r(24075),r(4430),r(38427),r(55416),r(29379),r(64906),r(77442),r(99065),r(48177),r(64371),r(1943),r(93113),r(12450),r(2491),r(64609),r(16414),r(96840),r(13306),r(74933),r(31592),r(52210),r(80353),r(1309),r(69347),r(91316),r(98702),r(28683),r(13337),r(88179),r(28829),r(27569),r(95326),r(90373),r(60292),r(78573),r(3923),r(78128),r(86387),r(19011),r(68080),r(27085),r(79761),r(32739),r(90712),r(66757),r(90971),r(12741),r(34791),r(97089),r(52904),r(75338),r(90079),r(18358),r(29826),r(19459),r(36114),r(1399),r(35514),r(58986),r(43743),r(42296),r(24490),r(83921),r(80419),r(18357),r(31430),r(98718),r(63806),r(96702),r(12521),r(6122),r(11716),r(76103),r(93144),r(42800),r(56281),r(8445),r(21595),r(90936),r(59572),r(21373),r(92355),r(26970),r(47917),r(35430),r(69734),r(89314),r(607),r(7209),r(86383),r(21271),r(59553),r(74284),r(17791),r(13457),r(22518),r(82479),r(263),r(32090),r(45064),r(67396),r(85580),r(71259),r(75187),r(20220),r(83579),r(35320),r(84813),r(50359),r(62172),r(19605),r(44813),r(56328),r(42315),r(92422),r(26013),r(41346),r(50748),r(61350),r(55528),r(55148),r(38215),r(14943),r(85253),r(37170),r(3901),r(74964),r(53326),r(25429),r(66567),r(7695),r(52034),r(32501),r(98697),r(57515),r(26498),r(17750),r(10014),r(1075),r(31796),r(22758),r(20481),r(94479),r(11931),r(435),r(72856),r(81087),r(8818),r(4373),r(8770),r(59424),r(84415),r(14264),r(24700),r(32377),r(56813),r(61755),r(40497),r(20171),r(79231),r(498),r(28263)}},a={};function r(t){var n=a[t];if(void 0!==n)return n.exports;var i=a[t]={id:t,loaded:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=e,r.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(a,{a:a}),a},r.d=function(e,a){for(var t in a)r.o(a,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})},r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce(function(a,t){return r.f[t](e,a),a},[]))},r.u=function(e){return\"837\"===e?\"static/js/async/837.d60305dc.js\":\"\"+e+\".javascript\"},r.miniCssF=function(e){return\"static/css/async/\"+e+\".b900c933.css\"},r.h=function(){return\"5f71b24259d438d4\"},r.g=function(){if(\"object\"==typeof globalThis)return globalThis;try{return this||Function(\"return this\")()}catch(e){if(\"object\"==typeof window)return window}}(),r.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},(()=>{var e={},a=\"map-app-:\";r.l=function(t,n,i,o){if(e[t]){e[t].push(n);return}if(void 0!==i){for(var s,l,d=document.getElementsByTagName(\"script\"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute(\"src\")==t||u.getAttribute(\"data-webpack\")==a+i){s=u;break}}}!s&&(l=!0,(s=document.createElement(\"script\")).charset=\"utf-8\",s.timeout=120,r.nc&&s.setAttribute(\"nonce\",r.nc),s.setAttribute(\"data-webpack\",a+i),s.src=t),e[t]=[n];var p=function(a,r){s.onerror=s.onload=null,clearTimeout(m);var n=e[t];if(delete e[t],s.parentNode&&s.parentNode.removeChild(s),n&&n.forEach(function(e){return e(r)}),a)return a(r)},m=setTimeout(p.bind(null,void 0,{type:\"timeout\",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}})(),r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.nmd=function(e){return e.paths=[],!e.children&&(e.children=[]),e},(()=>{var e=[];r.O=function(a,t,n,i){if(t){i=i||0;for(var o=e.length;o>0&&e[o-1][2]>i;o--)e[o]=e[o-1];e[o]=[t,n,i];return}for(var s=1/0,o=0;o<e.length;o++){for(var t=e[o][0],n=e[o][1],i=e[o][2],l=!0,d=0;d<t.length;d++)(!1&i||s>=i)&&Object.keys(r.O).every(function(e){return r.O[e](t[d])})?t.splice(d--,1):(l=!1,i<s&&(s=i));if(l){e.splice(o--,1);var c=n();void 0!==c&&(a=c)}}return a}})(),r.p=\"/map-app/\",(()=>{if(\"undefined\"!=typeof document){var e=function(e,a,t,n,i){var o=document.createElement(\"link\");return o.rel=\"stylesheet\",o.type=\"text/css\",r.nc&&(o.nonce=r.nc),o.onerror=o.onload=function(r){if(o.onerror=o.onload=null,\"load\"===r.type)n();else{var t=r&&(\"load\"===r.type?\"missing\":r.type),s=r&&r.target&&r.target.href||a,l=Error(\"Loading CSS chunk \"+e+\" failed.\\\\n(\"+s+\")\");l.code=\"CSS_CHUNK_LOAD_FAILED\",l.type=t,l.request=s,o.parentNode&&o.parentNode.removeChild(o),i(l)}},o.href=a,t?t.parentNode.insertBefore(o,t.nextSibling):document.head.appendChild(o),o},a=function(e,a){for(var r=document.getElementsByTagName(\"link\"),t=0;t<r.length;t++){var n=r[t],i=n.getAttribute(\"data-href\")||n.getAttribute(\"href\");if(\"stylesheet\"===n.rel&&(i===e||i===a))return n}for(var o=document.getElementsByTagName(\"style\"),t=0;t<o.length;t++){var n=o[t],i=n.getAttribute(\"data-href\");if(i===e||i===a)return n}},t={980:0};r.f.miniCss=function(n,i){if(t[n])i.push(t[n]);else if(0!==t[n]&&({837:1})[n]){var o;i.push(t[n]=(o=n,new Promise(function(t,n){var i=r.miniCssF(o),s=r.p+i;if(a(i,s))return t();e(o,s,null,t,n)})).then(function(){t[n]=0},function(e){throw delete t[n],e}))}}}})(),(()=>{var e={980:0};r.f.j=function(a,t){var n=r.o(e,a)?e[a]:void 0;if(0!==n){if(n)t.push(n[2]);else{var i=new Promise(function(r,t){n=e[a]=[r,t]});t.push(n[2]=i);var o=r.p+r.u(a),s=Error();r.l(o,function(t){if(r.o(e,a)&&(0!==(n=e[a])&&(e[a]=void 0),n)){var i=t&&(\"load\"===t.type?\"missing\":t.type),o=t&&t.target&&t.target.src;s.message=\"Loading chunk \"+a+\" failed.\\n(\"+i+\": \"+o+\")\",s.name=\"ChunkLoadError\",s.type=i,s.request=o,n[1](s)}},\"chunk-\"+a,a)}}},r.O.j=function(a){return 0===e[a]};var a=function(a,t){var n=t[0],i=t[1],o=t[2],s,l,d=0;if(n.some(function(a){return 0!==e[a]})){for(s in i)r.o(i,s)&&(r.m[s]=i[s]);if(o)var c=o(r)}for(a&&a(t);d<n.length;d++)l=n[d],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(c)},t=self[\"webpackJsonp_map-app\"]=self[\"webpackJsonp_map-app\"]||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))})(),r.O(void 0,[\"835\",\"126\",\"72\",\"139\",\"437\"],function(){return r(\"36404\")}),r.O(void 0,[\"835\",\"126\",\"72\",\"139\",\"437\"],function(){return r(\"61922\")});var t=r.O(void 0,[\"835\",\"126\",\"72\",\"139\",\"437\"],function(){return r(\"96438\")});t=r.O(t),this[\"map-app-index\"]=t})(); //# sourceMappingURL=index.5da8ba4c.js.map"
}