{
  "metadata": {
    "source_file": "map-app\\static\\js\\index.5da8ba4c.js",
    "chunk_index": 917,
    "total_chunks": 918,
    "chunk_size": 168772,
    "word_count": 800,
    "model_kwargs": {
      "model": "text-embedding-3-large",
      "dimensions": 3072,
      "encoding_format": "float"
    },
    "text_splitter": {
      "split_by": "word",
      "chunk_size": 800,
      "chunk_overlap": 200
    },
    "created_at": "2025-12-17T23:57:50.651Z"
  },
  "content": "t=n(a);if(o=t!==a,\"editable\"===e.inputType){r.value=t;return}s(t)},setChange:function(a){let t;let n=(0,lL.isNil)(e.value)?0:e.value;(t=uk.ZP.plus(n,a))>e.max?t=e.max:t<e.min&&(t=e.min),n!==t&&(r.value=t,s(t))},leftArr:(0,uh.Fl)(()=>(e.buttonSteps||[]).slice().reverse().map(e=>-e)),rightArr:(0,uh.Fl)(()=>(e.buttonSteps||[]).map(e=>e)),checkDisabledFunc:function(a){if(e.disabled)return!0;if(a<0)return!!(e.value<=e.min)||!1;return!!(e.value>=e.max)||!1},onBlurEvent:function(){\"editable\"===e.inputType&&s(r.value),e.value>e.max?a(\"change-by-max\"):e.value<e.min&&a(\"change-by-min\"),\"editable\"===e.inputType&&(l.value=!1)},onEnter:function(){o&&(a(\"exceed\"),o=!1),d.value?.blur()},editing:l,inputRef:d,precisionValue:i}}}),vx=(0,_S.default)(vC,[[\"render\",function(e,a,r,t,n,i){let o=(0,uh.up)(\"uranus-icon\"),s=(0,uh.up)(\"UranusButton\"),l=(0,uh.up)(\"UranusInputNumber\");return(0,uh.wg)(),(0,uh.iD)(\"div\",{class:(0,uh.C_)([\"component-button-range\",{disabled:e.disabled,vertical:\"vertical\"===e.direction}])},[e.withImage?((0,uh.wg)(),(0,uh.iD)(\"img\",{key:0,src:e.withImage},null,8,vS)):(0,uh.kq)(\"\",!0),(0,uh._)(\"div\",vj,[((0,uh.wg)(!0),(0,uh.iD)(uh.HY,null,(0,uh.Ko)(e.leftArr,a=>((0,uh.wg)(),(0,uh.j4)(s,{key:a,disabled:e.checkDisabledFunc(a),size:e.size,class:(0,uh.C_)({\"only-icon\":e.leftArr.length<=1}),onClick:r=>e.setChange(a)},{default:(0,uh.w5)(()=>[e.leftArr.length>1?((0,uh.wg)(),(0,uh.iD)(uh.HY,{key:0},[(0,uh.Uk)((0,uh.zw)(a),1)],64)):((0,uh.wg)(),(0,uh.j4)(o,{key:1,name:\"less\"}))]),_:2},1032,[\"disabled\",\"size\",\"class\",\"onClick\"]))),128)),(0,uh._)(\"div\",vD,[\"editable\"!==e.inputType||e.editing?((0,uh.wg)(),(0,uh.j4)(l,{key:1,ref:\"inputRef\",class:\"input\",disabled:e.disabled,step:e.step,value:e.precisionValue,min:e.min,max:e.max,onChange:e.handleInputChange,onBlur:e.onBlurEvent,onKeydown:(0,uh.D2)(e.onEnter,[\"enter\"])},null,8,[\"disabled\",\"step\",\"value\",\"min\",\"max\",\"onChange\",\"onBlur\",\"onKeydown\"])):((0,uh.wg)(),(0,uh.iD)(\"span\",{key:0,class:(0,uh.C_)([\"input input-editable\",[e.size]]),onClick:a[0]||(a[0]=a=>e.editing=!0)},[(0,uh._)(\"span\",vI,(0,uh.zw)(e.precisionValue),1)],2)),(0,uh._)(\"div\",vA,(0,uh.zw)(e.unit),1)]),((0,uh.wg)(!0),(0,uh.iD)(uh.HY,null,(0,uh.Ko)(e.rightArr,a=>((0,uh.wg)(),(0,uh.j4)(s,{key:a,size:e.size,disabled:e.checkDisabledFunc(a),class:(0,uh.C_)({\"only-icon\":e.rightArr.length<=1}),onClick:r=>e.setChange(a)},{default:(0,uh.w5)(()=>[e.rightArr.length>1?((0,uh.wg)(),(0,uh.iD)(uh.HY,{key:0},[(0,uh.Uk)(\" +\"+(0,uh.zw)(a),1)],64)):((0,uh.wg)(),(0,uh.j4)(o,{key:1,name:\"plus\"}))]),_:2},1032,[\"size\",\"disabled\",\"class\",\"onClick\"]))),128))])],2)}],[\"__scopeId\",\"data-v-796bc1d6\"]]),vM=e=>((0,uh.dD)(\"data-v-7ab4d1b5\"),e=e(),(0,uh.Cn)(),e),vE={class:\"button-range-group\"},vP=vM(()=>(0,uh._)(\"div\",{class:\"lock__top\"},null,-1)),vT=vM(()=>(0,uh._)(\"div\",{class:\"lock__bottom\"},null,-1)),vR={class:\"range-list\"},vF={class:\"range-label\"},vL=(0,uh.aZ)({name:\"UranusButtonRangeGroup\",__name:\"ButtonRangeGroup\",props:{value:{default:()=>({})},lock:{type:Boolean,default:!0},options:{default:()=>[]}},emits:[\"change\",\"update:lock\"],setup(e,{emit:a}){let r=(0,uh.iH)(e.lock);function t(){r.value=!r.value,a(\"update:lock\",r.value)}let n=(0,uh.iH)(e.value);return(0,uh.YP)(()=>e.value,e=>{n.value=e},{deep:!0}),(i,o)=>{let s=(0,uh.up)(\"ButtonRangeUnit\");return(0,uh.wg)(),(0,uh.iD)(\"div\",vE,[i.options.length>1?((0,uh.wg)(),(0,uh.iD)(\"div\",{key:0,class:(0,uh.C_)([\"lock-wrap\",{\"lock-wrap--active\":r.value}])},[vP,(0,uh.Wm)(_G,{size:\"sm\",class:\"lock-button\",type:r.value?\"primary\":\"normal\",onClick:t},{default:(0,uh.w5)(()=>[(0,uh.Wm)(_j,{name:\"associate\"})]),_:1},8,[\"type\"]),vT],2)):(0,uh.kq)(\"\",!0),(0,uh._)(\"div\",vR,[((0,uh.wg)(!0),(0,uh.iD)(uh.HY,null,(0,uh.Ko)(i.options,r=>((0,uh.wg)(),(0,uh.iD)(\"div\",{key:r.key,class:\"range-item\"},[(0,uh._)(\"div\",vF,(0,uh.zw)(r.label),1),(0,uh.Wm)(s,(0,uh.dG)({class:!function(a){let r=String(a).length;return e.options.length>1&&r>5}(r.value)?\"\":\"range-text-overflow\",value:n.value[r.key],ref_for:!0},r,{onChange:e=>{var t;return t=r.key,void a(\"change\",t,e)}}),null,16,[\"class\",\"value\",\"onChange\"])]))),128))])])}}}),vN=(0,_S.default)(vL,[[\"__scopeId\",\"data-v-7ab4d1b5\"]]),vJ=_D(vx,{ButtonRangeGroup:vN}),vO={style:{display:\"inline-flex\"}};r(\"73486\");let vq=r(\"28190\").Z.RangePicker,vG=(0,uh.aZ)({name:\"UranusRangePicker\",components:{ARangePicker:vq},props:{theme:{type:String,default:\"light\"},size:{type:String,default:\"md\"},error:Boolean,dropdownClass:{type:String,default:\"\"}},computed:{dropdownClassName(){let e=[\"uranus-date-picker-dropdown\"];return\"dark\"===this.theme&&e.push(\"uranus-dark\"),this.dropdownClass&&e.push(this.dropdownClass),e.join(\" \")},formClass(){let e=[];return e.push(`uranus-form-${this.size}`),\"dark\"===this.theme&&e.push(\"uranus-dark\"),this.error&&e.push(\"uranus-error\"),e}}}),vH=(0,_S.default)(vG,[[\"render\",function(e,a,r,t,n,i){let o=(0,uh.up)(\"uranus-icon\"),s=(0,uh.up)(\"ARangePicker\");return(0,uh.wg)(),(0,uh.j4)(s,(0,uh.dG)(e.$attrs,{class:[\"uranus-range-picker\",e.formClass],\"dropdown-class-name\":e.dropdownClassName}),{suffixIcon:(0,uh.w5)(()=>[(0,uh._)(\"span\",vO,[(0,uh.Wm)(o,{name:\"date\"})])]),renderExtraFooter:(0,uh.w5)(()=>[(0,uh.WI)(e.$slots,\"renderExtraFooter\",{},void 0,!0)]),_:3},16,[\"class\",\"dropdown-class-name\"])}],[\"__scopeId\",\"data-v-f5805286\"]]),vB=_D(vH),vV={class:\"custom-tooltip-confirm-inner-wrapper\"},vU={class:\"custom-tooltip-confirm-btn-wrapper\"},vK=(0,uh.aZ)({name:\"UranusCustomTooltipConfirm\",components:{UranusTooltip:bp},props:{theme:{type:String,default:\"dark\"},placement:{type:String,default:\"bottomRight\"},visible:{type:Boolean,default:\"false\"},overlayClassName:{type:String,default:\"\"}},setup(e,{emit:a}){let r=(0,uh.Fl)(()=>{let a=[\"custom-tooltip-confirm\",e.overlayClassName];return\"dark\"===e.theme&&a.push(\"custom-tooltip-confirm-\"+e.theme),a.join(\" \")}),{t}=_z((0,uh.f3)(\"localeData\"));return{confirmClose:function(){a(\"on-confirm-close\")},getOverlayClassName:r,localClose:t(\"common.action.close\")}}}),vW=(0,_S.default)(vK,[[\"render\",function(e,a,r,t,n,i){let o=(0,uh.up)(\"uranus-button\"),s=(0,uh.up)(\"uranus-tooltip\");return(0,uh.wg)(),(0,uh.j4)(s,(0,uh.dG)({theme:e.theme,placement:e.placement,\"overlay-class-name\":e.getOverlayClassName,visible:e.visible},e.$attrs),{title:(0,uh.w5)(()=>[(0,uh._)(\"div\",vV,[(0,uh._)(\"div\",{class:(0,uh.C_)([\"custom-tooltip-confirm-content\",{\"custom-tooltip-confirm-content-dark\":\"dark\"===e.theme}])},[(0,uh.WI)(e.$slots,\"tooltipConfirmContent\")],2),(0,uh._)(\"div\",vU,[(0,uh.Wm)(o,{type:\"normal\",theme:e.theme,size:\"sm\",outlined:\"light\"==e.theme,onClick:e.confirmClose},{default:(0,uh.w5)(()=>[(0,uh.Uk)((0,uh.zw)(e.localClose),1)]),_:1},8,[\"theme\",\"outlined\",\"onClick\"])])])]),default:(0,uh.w5)(()=>[(0,uh.WI)(e.$slots,\"tooltipConfirmTarget\")]),_:3},16,[\"theme\",\"placement\",\"overlay-class-name\",\"visible\"])}]]),vZ=_D(vW),vY=[\"onClick\"],vQ=(0,uh.aZ)({name:\"UranusColorPicker\",model:{prop:\"modelValue\",event:\"update:modelValue\"},props:{direction:{},colorList:{default:()=>({})},modelValue:{default:\"\"},itemSize:{default:16},hasTransparent:{type:Boolean},selectType:{}},emits:[\"update:modelValue\"],setup(e){let a=(0,uh.Fl)(()=>Array.isArray(e.colorList)?e.colorList:Object.values(e.colorList)),r=(0,uh.Fl)(()=>\"corner\"===e.selectType?10:e.itemSize-2);function t(a){return e.modelValue!==a?{width:`${e.itemSize}px`,height:`${e.itemSize}px`,backgroundColor:a}:{width:`${e.itemSize+2}px`,height:`${e.itemSize+2}px`,backgroundColor:a}}return(e,n)=>((0,uh.wg)(),(0,uh.iD)(\"div\",{class:(0,uh.C_)([\"uranus-color-picker\",{vertical:\"vertical\"===e.direction,corner:\"corner\"===e.selectType}])},[e.hasTransparent?((0,uh.wg)(),(0,uh.iD)(\"span\",{key:0,class:(0,uh.C_)([\"uranus-color-item color-item-transparent\",{vertical:\"vertical\"===e.direction,horizontal:\"vertical\"!==e.direction,active:!e.modelValue}]),style:(0,uh.j5)(t(\"\")),onClick:n[0]||(n[0]=a=>e.$emit(\"update:modelValue\",\"\"))},[(0,uh.Wm)((0,uh.SU)(_A),{class:\"inner-icon\",name:\"stop\",size:e.itemSize-6},null,8,[\"size\"]),(0,uh.wy)((0,uh.Wm)((0,uh.SU)(_A),{class:\"active-icon\",size:r.value,name:\"checkbox_active\"},null,8,[\"size\"]),[[uh.F8,!e.modelValue]])],6)):(0,uh.kq)(\"\",!0),((0,uh.wg)(!0),(0,uh.iD)(uh.HY,null,(0,uh.Ko)(a.value,a=>((0,uh.wg)(),(0,uh.iD)(\"span\",{key:a,class:(0,uh.C_)([\"uranus-color-item\",{vertical:\"vertical\"===e.direction,horizontal:\"vertical\"!==e.direction,active:a===e.modelValue}]),style:(0,uh.j5)(t(a)),onClick:r=>e.$emit(\"update:modelValue\",a)},[(0,uh.wy)((0,uh.Wm)((0,uh.SU)(_A),{class:\"active-icon\",size:r.value,name:\"checkbox_active\"},null,8,[\"size\"]),[[uh.F8,a===e.modelValue]])],14,vY))),128))],2))}}),v$=_D(vQ),vX=Symbol(\"UnitsSetting\");function v0(){let e=(0,uh.f3)(vX);return(0,uh.OT)(e||{measure_units_system:t5.Metric,temperature_units_system:t6.Celsius})}let v1=(0,uh.aZ)({name:\"ButtonRangeUnit\",components:{UranusButtonRange:vJ},props:{value:{type:Number,default:0},max:{type:Number,default:150},min:{type:Number,default:0},unit:{type:String,default:\"\"},precision:{type:Number,default:0}},emits:[\"update:value\",\"change\",\"change-by-max\",\"change-by-min\",\"exceed\"],setup(e,{emit:a}){let r=v0(),t=(0,uh.Fl)(()=>r.measure_units_system||t5.Metric),n=(0,uh.Fl)(()=>r.temperature_units_system||t6.Celsius),i=(0,uh.Fl)(()=>t.value===t5.Metric),o=(0,uh.Fl)(()=>n.value===t6.Fahrenheit),s=(0,uh.Fl)(()=>\"\\xb0C\"===e.unit),l=(0,uh.Fl)(()=>\"number\"!=typeof e.value?null:s.value?uS(e.value,n.value).value:uw(e.value,p.value,t.value).value),d=(0,uh.Fl)(()=>{if(s.value)return n.value===t6.Fahrenheit?\"\\xb0F\":\"\\xb0C\";return function(e,a){if(\"area\"===e)return a===t5.Imperial?\"ft\\xb2\":\"m\\xb2\";if(\"speed\"===e)return a===t5.Imperial?\"mph\":\"m/s\";if(\"volume\"===e)return a===t5.Imperial?\"yd\\xb3\":\"m\\xb3\";return uD(a)}(p.value,t.value)}),c=(0,uh.Fl)(()=>s.value?uS(e.min,n.value,t9.ceil).value:uw(e.min,p.value,t.value,!1,t9.ceil,e.precision).value),u=(0,uh.Fl)(()=>s.value?uS(e.max,n.value,t9.floor).value:uw(e.max,p.value,t.value,!1,t9.floor,e.precision).value),p=(0,uh.Fl)(()=>\"m/s\"===e.unit?t8.Speed:\"ãŽ¡\"===e.unit?t8.Area:t8.Length);return{innerValue:l,onChange:function(e){if(\"number\"==typeof e){if(s.value){a(\"change\",o.value?uj(e):e);return}a(\"change\",i.value?e:uy(e,p.value))}},onUpdate:function(e){if(\"number\"==typeof e){if(s.value){a(\"update:value\",o.value?uj(e):e);return}a(\"update:value\",i.value?e:uy(e,p.value))}},unitDisplay:d,innerMin:c,innerMax:u}}}),v2=(0,_S.default)(v1,[[\"render\",function(e,a,r,t,n,i){let o=(0,uh.up)(\"UranusButtonRange\");return(0,uh.wg)(),(0,uh.j4)(o,(0,uh.dG)({value:e.innerValue,unit:e.unitDisplay,min:e.innerMin,max:e.innerMax},e.$attrs,{onChange:e.onChange,\"onUpdate:value\":e.onUpdate,onExceed:a[0]||(a[0]=a=>e.$emit(\"exceed\")),onChangeByMax:a[1]||(a[1]=a=>e.$emit(\"change-by-max\")),onChangeByMin:a[2]||(a[2]=a=>e.$emit(\"change-by-min\"))}),null,16,[\"value\",\"unit\",\"min\",\"max\",\"onChange\",\"onUpdate:value\"])}]]),v3=_D(v2),v4=(0,uh.aZ)({name:\"UranusInputNumberUnit\",components:{UranusInputNumber:kq},props:{value:{type:Number,default:0},max:{type:Number},min:{type:Number},usageType:{type:String,default:t8.Length},inputDigit:{type:Number},outputDigit:{type:Number}},emits:[\"update:value\",\"change\"],setup(e,{emit:a}){let r=(0,uh.iH)(),t=v0(),n=(0,uh.Fl)(()=>t.measure_units_system||t5.Metric),i=(0,uh.Fl)(()=>n.value===t5.Metric);function o(r){if(\"number\"!=typeof r)return;let t=i.value?r:uy(r,e.usageType,t9.round,e.outputDigit);\"number\"==typeof e.max&&t>e.max&&(t=e.max),\"number\"==typeof e.min&&t<e.min&&(t=e.min),a(\"update:value\",t),a(\"change\",t)}let s=(0,uh.Fl)(()=>uw(e.value,e.usageType,n.value,!1,t9.round,e.inputDigit).value),l=(0,uh.Fl)(()=>{if(!!e.min)return uw(e.min,e.usageType,n.value,!1,t9.ceil).value}),d=(0,uh.Fl)(()=>{if(!!e.max)return uw(e.max,e.usageType,n.value,!1,t9.ceil).value});return{inputRef:r,focus:function(){r.value?.focus()},blur,innerValue:s,onUpdate:o,innerMin:l,innerMax:d,onBlurEvent:function(){o(s.value)},onEnter:function(){r.value?.blur()}}}}),v5=(0,_S.default)(v4,[[\"render\",function(e,a,r,t,n,i){let o=(0,uh.up)(\"UranusInputNumber\");return(0,uh.wg)(),(0,uh.j4)(o,{ref:\"inputRef\",value:e.innerValue,max:e.innerMax,min:e.innerMin,\"v-bind\":e.$attrs,onChange:e.onUpdate,onBlur:e.onBlurEvent,onKeydown:(0,uh.D2)(e.onEnter,[\"enter\"])},null,8,[\"value\",\"max\",\"min\",\"v-bind\",\"onChange\",\"onBlur\",\"onKeydown\"])}]]),v6=_D(v5),v9={class:\"uranus-input-password-container\"};(r7=sL||(sL={})).password=\"password\",r7.text=\"text\";let v8=(0,uh.aZ)({name:\"UranusInputPassword\",components:{UranusInput:bs,UranusIcon:_A},props:{modelValue:{type:String,default:\"\"},theme:{type:String,default:\"light\"},error:{type:Boolean,default:!1},size:{type:Number,default:16},onblurEvent:{type:Boolean,default:!0},showEyeIcon:{type:Boolean,default:!0}},emits:[\"input\",\"blur\",\"enter\",\"update:modelValue\"],setup(e,{emit:a}){let r=(0,uh.iH)(),t=(0,uh.iH)(\"\"),n=(0,uh.iH)(\"password\");return(0,uh.YP)(()=>e.modelValue,function(){t.value=e.modelValue},{immediate:!0}),(0,uh.YP)(()=>t.value,e=>{a(\"update:modelValue\",e)}),{inputRef:r,passwordValue:t,type:n,Type:sL,focus:function(){r.value?.focus()},blur:function(){r.value?.blur()},showOrHidePassword:function(e){n.value=e},handleBlur:function(){e.onblurEvent&&a(\"blur\",t.value)},handleEnter:function(){if(!r.value?.isComposing)a(\"enter\",t.value)}}}}),v7=(0,_S.default)(v8,[[\"render\",function(e,a,r,t,n,i){let o=(0,uh.up)(\"UranusInput\"),s=(0,uh.up)(\"UranusIcon\");return(0,uh.wg)(),(0,uh.iD)(\"div\",v9,[(0,uh.Wm)(o,(0,uh.dG)({ref:\"inputRef\",modelValue:e.passwordValue,\"onUpdate:modelValue\":a[0]||(a[0]=a=>e.passwordValue=a),theme:e.theme,error:e.error,type:e.type},e.$attrs,{class:\"uranus-input-password\",onInput:a[1]||(a[1]=a=>e.$emit(\"input\",a)),onBlur:e.handleBlur,onKeydown:(0,uh.D2)(e.handleEnter,[\"enter\"])}),null,16,[\"modelValue\",\"theme\",\"error\",\"type\",\"onBlur\",\"onKeydown\"]),e.showEyeIcon?((0,uh.wg)(),(0,uh.iD)(uh.HY,{key:0},[(0,uh.wy)((0,uh.Wm)(s,{name:\"show-eye\",size:e.size,color:\"dark\"===e.theme?\"#2d8cf0\":\"#595959\",class:\"eyes-icon\",onClick:a[2]||(a[2]=a=>e.showOrHidePassword(e.Type.password))},null,8,[\"size\",\"color\"]),[[uh.F8,e.type===e.Type.text]]),(0,uh.wy)((0,uh.Wm)(s,{name:\"hide-eye\",size:e.size,color:\"dark\"===e.theme?\"#2d8cf0\":\"#595959\",class:\"eyes-icon\",onClick:a[3]||(a[3]=a=>e.showOrHidePassword(e.Type.text))},null,8,[\"size\",\"color\"]),[[uh.F8,e.type===e.Type.password]])],64)):(0,uh.kq)(\"\",!0)])}]]),ze=_D(v7);r(\"9549\");var za=r(\"85821\");let zr=(0,uh.aZ)({name:\"UranusCascader\",components:{ACascader:za.Z},props:{theme:{type:String,default:\"light\"},size:{type:String,default:\"normal\"},disabled:Boolean},setup(){let e=(0,uh.iH)();return{selector:e,focus:function(){e.value?.focus?.()}}},computed:{formClass(){let e=[];return\"dark\"===this.theme&&e.push(\"dark\"),e.push(\"size-\"+this.size),e.join(\" \")},iconSize(){if(\"small\"===this.size)return 12;return 14},getIconColor(){if(this.disabled)return\"dark\"===this.theme?\"#c5c8ce\":\"#bfbfbf\";return\"dark\"===this.theme?\"#fff\":\"#232323\"}}}),zt=(0,_S.default)(zr,[[\"render\",function(e,a,r,t,n,i){let o=(0,uh.up)(\"a-cascader\");return(0,uh.wg)(),(0,uh.j4)(o,(0,uh.dG)({class:[\"uranus-cascader-wrapper\",e.formClass],\"popup-class-name\":e.formClass},e.$attrs),{suffixIcon:(0,uh.w5)(()=>[(0,uh.WI)(e.$slots,\"suffixIcon\")]),_:3},16,[\"class\",\"popup-class-name\"])}]]),zn=_D(zt),zi={key:0,class:\"info-mask-wrap\"},zo={class:\"photo-name\"},zs={class:\"detail\"},zl={key:0},zd={class:\"time\"},zc={class:\"size\"},zu={class:\"resolution\"},zp={key:1,class:\"thumbnail-image-text\"},zm={key:3,style:{color:\"red\"},class:\"thumbnail-image-text\"},zh={class:\"image-preview\"},zg={ref:\"viewerEl\",class:\"viewer-js\"},zf=[\"data-src\"],z_={class:\"image-status\"},zb={key:0},zk={class:\"loading-text\"},zv={key:1},zz={key:2},zw={key:3},zy={key:1,class:\"action-pagination\"},zS={class:\"float-actions-wrap-left\"},zj={class:\"float-actions-wrap-right\"},zD={key:2,class:\"actions-wrap\"};r(\"6351\");var zI=r(\"52513\"),zA=r.n(zI);let zC=[\"B\",\"KB\",\"K\"];function zx(e,a=\"--\",r=1,t=!1){if(isNaN(e)||0===e)return a;let n=\"\";e<0&&(e=0-e,n=\"-\");let i=t?kS:ky,o=Math.floor(Math.log(e)/Math.log(1024));return n+(e/Math.pow(1024,o)).toFixed(zC.indexOf(i[o])>-1?0:r)+\" \"+i[o]}function zM(e,a){return e===ni.image&&a===nr.panorama}function zE(){let e=0-new Date().getTimezoneOffset()/60,a=String(Math.abs(e)).padStart(2,\"0\");return e>0?`UTC+${a}`:`UTC-${a}`}var zP=r(\"10264\"),zT=r.n(zP),zR=r(\"67338\"),zF=r.n(zR);gQ().extend(zT()),gQ().extend(zF());function zL(e,a=kw){let r=zE();return e?`${function(e,a=kw){return e?gQ()(e).format(a):\"--\"}(e,a)} (${r})`:\"--\"}uP(\"common.date.today\"),uP(\"web.p_analysis.analysis_recent_week\"),uP(\"web.p_analysis.analysis_recent_1_month\"),uP(\"web.p_analysis.analysis_recent_3_months\"),uP(\"web.p_analysis.analysis_recent_year\"),(te=sN||(sN={})).unknown=\"unknown\",te.wide=\"wide\",te.zoom=\"zoom\",te.ir=\"ir\",te.panorama=\"panorama\";(ta=sJ||(sJ={}))[ta.LOADING=0]=\"LOADING\",ta[ta.SHOWPIC=1]=\"SHOWPIC\",ta[ta.NOPIC=2]=\"NOPIC\",ta[ta.FAIL=3]=\"FAIL\",ta[ta.RETRY=4]=\"RETRY\",(tr=sO||(sO={}))[tr.NULL=0]=\"NULL\",tr[tr.LOADING=1]=\"LOADING\",tr[tr.ERROR=2]=\"ERROR\";let zN=[{icon:\"zoom-in\",action:\"zoom-in\",title:uP(\"web.p_media.zoom_in\")},{icon:\"zoom-out\",action:\"zoom-out\",title:uP(\"web.p_media.zoom_out\")},{icon:\"one-to-one\",action:\"one-to-one\",wide:!0,title:uP(\"web.p_media.raw_ratio\")},{icon:\"reset\",action:\"reset\",title:uP(\"web.p_media.reset\")}],zJ=(0,uh.aZ)({name:\"ImagePreview\",components:{},props:{imageStatus:{type:Number,default:2},subImageStatus:{type:Number},errMsg:{type:String},name:{type:String},createAt:{type:String},size:{type:Number},url:{type:String},width:{type:Number},height:{type:Number},viewerClassName:{type:String,default:\"photo-viewer-global-container\"},canZoom:{type:Boolean,default:!0},canMove:{type:Boolean,default:!0},type:{type:String,default:\"\"},actionSize:{type:Number,default:16},showPagination:{type:Boolean,default:!1}},emits:[\"image-change\",\"on-reload-image\",\"on-load-image\"],setup(e,{emit:a}){let r=null,t=(0,uh.iH)(!1),n=(0,uh.iH)(null),i=(0,uh.qj)({imageData:{width:0,height:0,offX:0,offY:0,rotate:0}}),o=null,s=(0,uh.Fl)(()=>t.value?e.url:\"\");(0,uh.YP)(()=>s.value,()=>{(0,uh.Y3)(()=>{try{s.value?(l.viewer.style.visibility&&(l.viewer.style.visibility=\"visible\"),l.canvas.children[0].src=s.value):l.viewer.style.visibility=\"hidden\"}catch(e){}l?.update()})});let l=null;(0,uh.bv)(()=>{t.value=!1,l=new(zA())(n.value,{inline:!0,toolbar:!1,navbar:!1,title:!1,button:!1,className:e.viewerClassName,loading:!1,url:\"data-src\",heightRatio:1,widthRatio:1,useLayoutImageSizeOnInit:!0,maxZoomRatio:5.0625,minZoomRatio:.1316872,zoomRatio:.5,useLayoutSizeAfterInit:!0,movableLimit:!0,zoomRatioToOne:!0,smoothZoomOnTouch:!0,zoomable:e.canZoom,movable:e.canMove,move:()=>{c()},zoom:e=>{},zoomed:e=>{e.detail?.ratio!==e.detail?.oldRatio&&c()},viewed:()=>{c(),i.imageData.rotate=0},rotate:e=>{i.imageData.rotate=e?.detail?.degree}}),function(){n.value&&(r=new ResizeObserver(e=>{for(let a of e)l&&d()})).observe(n.value)}(),(0,uh.Y3)(()=>{t.value=!0})}),(0,uh.YP)(()=>i.imageData,e=>{a(\"image-change\",e)},{immediate:!0});let d=(0,lL.debounce)(()=>u(\"resize\"),300);function c(){let{width:e,height:a,x:r,y:t}=l?.imageData||{};e=uv(e,2),a=uv(a,2),r=uv(r,2),t=uv(t,2),i.imageData={...i.imageData,width:e,height:a,offX:r,offY:t}}function u(e){if(!!l)switch(e){case\"zoom-in\":l.zoom(.5,!0);break;case\"zoom-out\":l.zoom(-.5,!0);break;case\"reset\":l.reset(),i.imageData.rotate=0,setTimeout(()=>{c()});break;case\"one-to-one\":l.zoomTo(1),setTimeout(()=>{c()});break;case\"rotate-left\":l.rotate(-90);break;case\"rotate-right\":l.rotate(90);break;case\"resize\":try{l.resize(),o=setTimeout(()=>{c()},300)}catch(e){}}}return(0,uh.SK)(()=>{if(o&&clearTimeout(o),r&&n.value&&r.unobserve(n.value),!!l){try{l.image.src=\"\"}catch(e){}l.destroy(),l=null}}),{ImageSubstatusEnum:sO,formatTimeWithZone:zL,bytesToSize:zx,isPanoramaImage:zM,...(0,uh.BK)(e),photoUrl:s,viewerEl:n,setAction:u,updateRelativePosition:c,getTime:function(){return e.createAt?zL(e.createAt):\"\"},getResolution:function(){return e.width&&e.height?function(e,a=\"--\"){let r=e?.ext?.width,t=e?.ext?.height;return r&&t?`${r} x ${t} `:a}({ext:{width:e.width,height:e.height}}):\"\"},ImageStatus:sJ,actionLists:zN}}}),zO=(0,_S.default)(zJ,[[\"render\",function(e,a,r,t,n,i){let o=(0,uh.up)(\"UranusIcon\"),s=(0,uh.up)(\"uranus-button\"),l=(0,uh.up)(\"uranus-icon\"),d=(0,uh.up)(\"uranus-tooltip\");return(0,uh.wg)(),(0,uh.iD)(\"div\",{class:(0,uh.C_)([\"image-preview-wrap\",[e.type]])},[e.imageStatus===e.ImageStatus.SHOWPIC?((0,uh.wg)(),(0,uh.iD)(\"div\",zi,[(0,uh._)(\"div\",zo,(0,uh.zw)(e.name),1),(0,uh._)(\"div\",zs,[e.subImageStatus?(0,uh.kq)(\"\",!0):((0,uh.wg)(),(0,uh.iD)(\"span\",zl,[(0,uh._)(\"span\",zd,(0,uh.zw)(e.getTime()),1),(0,uh._)(\"span\",zc,(0,uh.zw)(e.size?e.bytesToSize(e.size):\"\"),1),(0,uh._)(\"span\",zu,(0,uh.zw)(e.getResolution()),1)])),e.subImageStatus===e.ImageSubstatusEnum.LOADING?((0,uh.wg)(),(0,uh.iD)(\"span\",zp,(0,uh.zw)(e.$t(\"web.ai.high_image_loading\")),1)):(0,uh.kq)(\"\",!0),e.subImageStatus===e.ImageSubstatusEnum.ERROR?((0,uh.wg)(),(0,uh.j4)(o,{key:2,name:\"serious-warning\",size:16,style:{\"margin-right\":\"4px\"}})):(0,uh.kq)(\"\",!0),e.subImageStatus===e.ImageSubstatusEnum.ERROR?((0,uh.wg)(),(0,uh.iD)(\"span\",zm,(0,uh.zw)(e.$t(\"web.ai.high_image_load_fail\")),1)):(0,uh.kq)(\"\",!0)])])):(0,uh.kq)(\"\",!0),(0,uh._)(\"div\",zh,[(0,uh._)(\"div\",zg,[(0,uh._)(\"img\",{style:{display:\"none\"},class:\"img\",\"data-src\":e.photoUrl},null,8,zf)],512),(0,uh._)(\"div\",z_,[e.imageStatus===e.ImageStatus.LOADING?((0,uh.wg)(),(0,uh.iD)(\"div\",zb,[(0,uh.Wm)(o,{name:\"loading\",color:\"#2D8CF0\",size:64}),(0,uh._)(\"div\",zk,(0,uh.zw)(e.$t(\"common.data.loading\")),1)])):(0,uh.kq)(\"\",!0),e.imageStatus===e.ImageStatus.NOPIC?((0,uh.wg)(),(0,uh.iD)(\"div\",zv,[(0,uh._)(\"div\",null,(0,uh.zw)(e.$t(\"web.ai.no_image\")),1)])):(0,uh.kq)(\"\",!0),e.imageStatus===e.ImageStatus.FAIL?((0,uh.wg)(),(0,uh.iD)(\"div\",zz,(0,uh.zw)(e.errMsg||e.$t(\"web.ai.image_load_fail\")),1)):(0,uh.kq)(\"\",!0),e.imageStatus===e.ImageStatus.RETRY?((0,uh.wg)(),(0,uh.iD)(\"div\",zw,[(0,uh._)(\"div\",null,(0,uh.zw)(e.$t(\"web.ai.image_load_fail\")),1),(0,uh.Wm)(s,{type:\"normal\",size:\"sm\",class:\"retry-btn\",onClick:a[0]||(a[0]=a=>e.$emit(\"on-reload-image\"))},{default:(0,uh.w5)(()=>[(0,uh.Uk)((0,uh.zw)(e.$t(\"web.ai.high_image_reload\")),1)]),_:1})])):(0,uh.kq)(\"\",!0)])]),e.showPagination?((0,uh.wg)(),(0,uh.iD)(\"div\",zy,[(0,uh._)(\"div\",zS,[(0,uh.Wm)(o,{name:\"arrow\",class:\"arrow-action\",color:\"#fff\",style:{transform:\"rotate(-90deg)\"},size:16,onClick:a[1]||(a[1]=a=>e.$emit(\"on-load-image\",\"prev\"))})]),(0,uh._)(\"div\",zj,[(0,uh.Wm)(o,{name:\"arrow\",class:\"arrow-action\",style:{transform:\"rotate(90deg)\"},color:\"#fff\",size:16,onClick:a[2]||(a[2]=a=>e.$emit(\"on-load-image\",\"next\"))})])])):(0,uh.kq)(\"\",!0),e.imageStatus===e.ImageStatus.SHOWPIC?((0,uh.wg)(),(0,uh.iD)(\"div\",zD,[((0,uh.wg)(!0),(0,uh.iD)(uh.HY,null,(0,uh.Ko)(e.actionLists,a=>((0,uh.wg)(),(0,uh.j4)(d,{key:a.icon,title:a.title,theme:\"dark\",placement:\"top\"},{default:(0,uh.w5)(()=>[(0,uh.Wm)(l,{name:a.icon,class:\"action-item\",color:\"#fff\",size:e.actionSize,onClick:r=>e.setAction(a.action)},null,8,[\"name\",\"size\",\"onClick\"])]),_:2},1032,[\"title\"]))),128)),(0,uh.WI)(e.$slots,\"default\",{},void 0,!0)])):(0,uh.kq)(\"\",!0),(0,uh.WI)(e.$slots,\"wrap-row\",{},void 0,!0)],2)}],[\"__scopeId\",\"data-v-0dcb034e\"]]),zq=_D(zO),zG={class:\"uranus-contextmenu\"},zH={ref:\"background\",class:\"uranus-contextmenu-cover\"},zB=(0,uh.aZ)({name:\"UranusContextmenu\",components:{Dropdown:_p.ZP},props:{value:Boolean},emits:{\"update:value\":e=>!0},mounted(){let e=this.$refs.background;e&&window.document.body.appendChild(e)},beforeUnmount(){let e=this.$refs.background;e&&e.remove()}}),zV=(0,_S.default)(zB,[[\"render\",function(e,a,r,t,n,i){let o=(0,uh.up)(\"Dropdown\");return(0,uh.wg)(),(0,uh.iD)(\"div\",zG,[(0,uh.wy)((0,uh._)(\"div\",zH,null,512),[[uh.F8,e.value]]),(0,uh.Wm)(o,{trigger:[\"click\",\"contextmenu\"],visible:e.value,onVisibleChange:a[0]||(a[0]=a=>e.$emit(\"update:value\",a))},{overlay:(0,uh.w5)(()=>[(0,uh.WI)(e.$slots,\"overlay\")]),default:(0,uh.w5)(()=>[(0,uh.WI)(e.$slots,\"default\")]),_:3},8,[\"visible\"])])}]]),zU=_D(zV),zK=(0,uh.aZ)({name:\"UranusHighlight\",props:{tag:{default:\"span\"},content:{default:\"\"},keyword:{default:\"\"}},setup(e){let a=(0,uh.Fl)(()=>{if(!e.keyword)return[{text:e.content,isHighlight:!1}];let a=RegExp(`(${e.keyword})`,\"gi\"),r=Array.from(e.content.matchAll(a)),t=[],n=0;return r.forEach(a=>{let r=a.index||0;r>n&&t.push({text:e.content.slice(n,r),isHighlight:!1}),t.push({text:a[0],isHighlight:!0}),n=r+a[0].length}),n<e.content.length&&t.push({text:e.content.slice(n),isHighlight:!1}),t});return(e,r)=>((0,uh.wg)(),(0,uh.j4)((0,uh.LL)(e.tag),{class:\"uranus-highlight\"},{default:(0,uh.w5)(()=>[((0,uh.wg)(!0),(0,uh.iD)(uh.HY,null,(0,uh.Ko)(a.value,(e,a)=>((0,uh.wg)(),(0,uh.iD)(\"span\",{key:a,class:(0,uh.C_)({highlighted:e.isHighlight})},(0,uh.zw)(e.text),3))),128))]),_:1}))}}),zW=_D(zK);vJ.ButtonRangeGroup;let zZ=[_M,_R,_V,_W,_4,_9,_A,bs,b2,b8,kr,bp,ku,kM,kT,kl,kN,kH,kU,kQ,kX,kq,k5,k8,vt,vl,vm,vy,vJ,vB,vZ,v$,v3,v6,ze,zn,zq],zY={install:function(e){return zZ.forEach(a=>e.use(a)),Object.values(lR).forEach(a=>e.use(a)),e}};async function zQ(e){return(await pi.get(`manage/api/v1/organizations/${e}/map-configs`,{ignoreGlobalErrorHandler:!0})).data}var z$=r(\"24677\"),zX=r(\"97543\"),z0=r(\"96597\"),z1=r(\"13239\"),z2=r(\"77810\"),z3=r(\"89112\"),z4=r(\"7665\");let z5=n8.EN,z6={[n8.ZH]:z$.Z,[n8.EN]:zX.Z,[n8.ES]:z0.Z,[n8.JA]:z1.Z,[n8.FR]:z2.Z,[n8.DE]:z3.Z,[n8.KO]:z4.Z};var z9=r(\"76424\");let z8={class:\"widget-compass\"},z7={class:\"compass-orientation\"},we={class:\"compass-angle\"};let wa=(o=()=>(0,uh._)(\"div\",{style:{position:\"absolute\",left:\"100%\",top:\"0\"}},\" \\xb0 \",-1),(0,uh.dD)(\"data-v-6ea6e236\"),o=o(),(0,uh.Cn)(),o),wr=(0,uh.aZ)({name:\"MapCompass\",__name:\"MapCompass\",setup(e){let a=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),{heading:r}=function(e){let a=(0,uh.qj)({heading:0,pitch:0,roll:0}),r=e.scene,t=e.camera,n=(0,lL.throttle)(()=>{if(!e.isDestroyed())a.heading=uf.Math.toDegrees(t.heading),a.pitch=uf.Math.toDegrees(t.pitch)+90,a.roll=uf.Math.toDegrees(t.roll)},100);return(0,uh.bv)(()=>{r.postRender.addEventListener(n)}),(0,uh.SK)(()=>{r.postRender.removeEventListener(n)}),(0,uh.BK)(a)}(a.viewer),t=(0,uh.Fl)(()=>{var e;let a;return((e=r.value)<0||e>=360)&&(e=0),a=\"N\",e>337.5||e<=22.5?a=\"N\":e>22.5&&e<=67.5?a=\"NE\":e>67.5&&e<=112.5?a=\"E\":e>112.5&&e<=157.5?a=\"SE\":e>157.5&&e<=202.5?a=\"S\":e>202.5&&e<=247.5?a=\"SW\":e>247.5&&e<=292.5?a=\"W\":e>292.5&&e<=337.5&&(a=\"NW\"),{angle:Math.round(e)%360,orientation:a}}),n=(0,uh.Fl)(()=>{let e=t.value.angle;return e>=0&&e<10?`00${e}`:e>=10&&e<100?`0${e}`:e});return(e,i)=>((0,uh.wg)(),(0,uh.iD)(\"div\",z8,[(0,uh._)(\"div\",{class:\"compass-outer\",style:(0,uh.j5)({transform:`rotateZ(-${(0,uh.SU)(r)}deg)`,backgroundImage:`url(${(0,uh.SU)(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNjBweCIgaGVpZ2h0PSI2MHB4IiB2aWV3Qm94PSIwIDAgNjAgNjAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+57yW57uEIDQzPC90aXRsZT4KICAgIDxkZWZzPgogICAgICAgIDxjaXJjbGUgaWQ9InBhdGgtMSIgY3g9IjMwIiBjeT0iMzAiIHI9IjMwIj48L2NpcmNsZT4KICAgIDwvZGVmcz4KICAgIDxnIGlkPSJNMS3mt7vliqAiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSLlhajmma/lm74mYW1wO+i2heino+aekOeFp+eJhyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTg2My4wMDAwMDAsIC0yNDU1LjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0i57yW57uELTQzIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4NjMuMDAwMDAwLCAyNDU1LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPG1hc2sgaWQ9Im1hc2stMiIgZmlsbD0id2hpdGUiPgogICAgICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgICAgICAgICA8L21hc2s+CiAgICAgICAgICAgICAgICA8dXNlIGlkPSLmpK3lnIblvaIiIGZpbGw9IiNGRkZGRkYiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9Ik4iIGZpbGw9IiM0RTRFNEUiIGZpbGwtcnVsZT0ibm9uemVybyIgbWFzaz0idXJsKCNtYXNrLTIpIiBwb2ludHM9IjI5LjA3NDIxODggNi43MjY1NjI1IDI5LjA3NDIxODggMi45OTIxODc1IDMxLjM4MjgxMjUgNi43MjY1NjI1IDMyLjU0Mjk2ODggNi43MjY1NjI1IDMyLjU0Mjk2ODggMSAzMS40Njg3NSAxIDMxLjQ2ODc1IDQuODI0MjE4NzUgMjkuMTI1IDEgMjggMSAyOCA2LjcyNjU2MjUiPjwvcG9seWdvbj4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMC4zNjMyODEyLDU3LjkyNTc4MTIgQzMwLjg2MDY3NzEsNTcuOTI1NzgxMiAzMS4yNzYwNDE3LDU3Ljg1NjExOTggMzEuNjA5Mzc1LDU3LjcxNjc5NjkgQzMxLjk0MjcwODMsNTcuNTc3NDc0IDMyLjIwMDUyMDgsNTcuMzY0NTgzMyAzMi4zODI4MTI1LDU3LjA3ODEyNSBDMzIuNTY1MTA0Miw1Ni43OTE2NjY3IDMyLjY1NjI1LDU2LjQ4NDM3NSAzMi42NTYyNSw1Ni4xNTYyNSBDMzIuNjU2MjUsNTUuNzk0MjcwOCAzMi41ODAwNzgxLDU1LjQ5MDIzNDQgMzIuNDI3NzM0NCw1NS4yNDQxNDA2IEMzMi4yNzUzOTA2LDU0Ljk5ODA0NjkgMzIuMDY0NDUzMSw1NC44MDQwMzY1IDMxLjc5NDkyMTksNTQuNjYyMTA5NCBDMzEuNTI1MzkwNiw1NC41MjAxODIzIDMxLjEwOTM3NSw1NC4zODI4MTI1IDMwLjU0Njg3NSw1NC4yNSBDMjkuOTg0Mzc1LDU0LjExNzE4NzUgMjkuNjMwMjA4Myw1My45ODk1ODMzIDI5LjQ4NDM3NSw1My44NjcxODc1IEMyOS4zNjk3OTE3LDUzLjc3MDgzMzMgMjkuMzEyNSw1My42NTQ5NDc5IDI5LjMxMjUsNTMuNTE5NTMxMiBDMjkuMzEyNSw1My4zNzEwOTM4IDI5LjM3MzY5NzksNTMuMjUyNjA0MiAyOS40OTYwOTM4LDUzLjE2NDA2MjUgQzI5LjY4NjE5NzksNTMuMDI2MDQxNyAyOS45NDkyMTg4LDUyLjk1NzAzMTIgMzAuMjg1MTU2Miw1Mi45NTcwMzEyIEMzMC42MTA2NzcxLDUyLjk1NzAzMTIgMzAuODU0ODE3Nyw1My4wMjE0ODQ0IDMxLjAxNzU3ODEsNTMuMTUwMzkwNiBDMzEuMTgwMzM4NSw1My4yNzkyOTY5IDMxLjI4NjQ1ODMsNTMuNDkwODg1NCAzMS4zMzU5Mzc1LDUzLjc4NTE1NjIgTDMxLjMzNTkzNzUsNTMuNzg1MTU2MiBMMzIuNDkyMTg3NSw1My43MzQzNzUgQzMyLjQ3Mzk1ODMsNTMuMjA4MzMzMyAzMi4yODMyMDMxLDUyLjc4Nzc2MDQgMzEuOTE5OTIxOSw1Mi40NzI2NTYyIEMzMS41NTY2NDA2LDUyLjE1NzU1MjEgMzEuMDE1NjI1LDUyIDMwLjI5Njg3NSw1MiBDMjkuODU2NzcwOCw1MiAyOS40ODExMTk4LDUyLjA2NjQwNjIgMjkuMTY5OTIxOSw1Mi4xOTkyMTg4IEMyOC44NTg3MjQsNTIuMzMyMDMxMiAyOC42MjA0NDI3LDUyLjUyNTM5MDYgMjguNDU1MDc4MSw1Mi43NzkyOTY5IEMyOC4yODk3MTM1LDUzLjAzMzIwMzEgMjguMjA3MDMxMiw1My4zMDU5ODk2IDI4LjIwNzAzMTIsNTMuNTk3NjU2MiBDMjguMjA3MDMxMiw1NC4wNTA3ODEyIDI4LjM4MjgxMjUsNTQuNDM0ODk1OCAyOC43MzQzNzUsNTQuNzUgQzI4Ljk4NDM3NSw1NC45NzM5NTgzIDI5LjQxOTI3MDgsNTUuMTYyNzYwNCAzMC4wMzkwNjI1LDU1LjMxNjQwNjIgQzMwLjUyMDgzMzMsNTUuNDM2MTk3OSAzMC44Mjk0MjcxLDU1LjUxOTUzMTIgMzAuOTY0ODQzOCw1NS41NjY0MDYyIEMzMS4xNjI3NjA0LDU1LjYzNjcxODggMzEuMzAxNDMyMyw1NS43MTk0MDEgMzEuMzgwODU5NCw1NS44MTQ0NTMxIEMzMS40NjAyODY1LDU1LjkwOTUwNTIgMzEuNSw1Ni4wMjQ3Mzk2IDMxLjUsNTYuMTYwMTU2MiBDMzEuNSw1Ni4zNzEwOTM4IDMxLjQwNTU5OSw1Ni41NTUzMzg1IDMxLjIxNjc5NjksNTYuNzEyODkwNiBDMzEuMDI3OTk0OCw1Ni44NzA0NDI3IDMwLjc0NzM5NTgsNTYuOTQ5MjE4OCAzMC4zNzUsNTYuOTQ5MjE4OCBDMzAuMDIzNDM3NSw1Ni45NDkyMTg4IDI5Ljc0NDE0MDYsNTYuODYwNjc3MSAyOS41MzcxMDk0LDU2LjY4MzU5MzggQzI5LjMzMDA3ODEsNTYuNTA2NTEwNCAyOS4xOTI3MDgzLDU2LjIyOTE2NjcgMjkuMTI1LDU1Ljg1MTU2MjUgTDI5LjEyNSw1NS44NTE1NjI1IEwyOCw1NS45NjA5Mzc1IEMyOC4wNzU1MjA4LDU2LjYwMTU2MjUgMjguMzA3MjkxNyw1Ny4wODkxOTI3IDI4LjY5NTMxMjUsNTcuNDIzODI4MSBDMjkuMDgzMzMzMyw1Ny43NTg0NjM1IDI5LjYzOTMyMjksNTcuOTI1NzgxMiAzMC4zNjMyODEyLDU3LjkyNTc4MTIgWiIgaWQ9IlMiIGZpbGw9IiM0RTRFNEUiIGZpbGwtcnVsZT0ibm9uemVybyIgbWFzaz0idXJsKCNtYXNrLTIpIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMC4zMjgxMjUsIDU0Ljk2Mjg5MSkgcm90YXRlKDE4MC4wMDAwMDApIHRyYW5zbGF0ZSgtMzAuMzI4MTI1LCAtNTQuOTYyODkxKSAiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJXIiBmaWxsPSIjNEU0RTRFIiBmaWxsLXJ1bGU9Im5vbnplcm8iIG1hc2s9InVybCgjbWFzay0yKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNS43NTc4MTIsIDI5Ljg2MzI4MSkgcm90YXRlKC05MC4wMDAwMDApIHRyYW5zbGF0ZSgtNS43NTc4MTIsIC0yOS44NjMyODEpICIgcG9pbnRzPSI0LjYyMTA5Mzc1IDMyLjcyNjU2MjUgNS43NTc4MTI1IDI4LjQ0NTMxMjUgNi44OTg0Mzc1IDMyLjcyNjU2MjUgOC4xMjUgMzIuNzI2NTYyNSA5LjUxNTYyNSAyNyA4LjM1MTU2MjUgMjcgNy40NzI2NTYyNSAzMSA2LjQ2ODc1IDI3IDUuMDkzNzUgMjcgNC4wNDY4NzUgMzAuOTMzNTkzOCAzLjE4MzU5Mzc1IDI3IDIgMjcgMy4zNjcxODc1IDMyLjcyNjU2MjUiPjwvcG9seWdvbj4KICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJFIiBmaWxsPSIjNEU0RTRFIiBmaWxsLXJ1bGU9Im5vbnplcm8iIG1hc2s9InVybCgjbWFzay0yKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTUuMTc3NzM0LCAyOS44NjMyODEpIHJvdGF0ZSg5MC4wMDAwMDApIHRyYW5zbGF0ZSgtNTUuMTc3NzM0LCAtMjkuODYzMjgxKSAiIHBvaW50cz0iNTcuMzU1NDY4OCAzMi43MjY1NjI1IDU3LjM1NTQ2ODggMzEuNzYxNzE4OCA1NC4xNTYyNSAzMS43NjE3MTg4IDU0LjE1NjI1IDMwLjIwMzEyNSA1Ny4wMzEyNSAzMC4yMDMxMjUgNTcuMDMxMjUgMjkuMjM4MjgxMiA1NC4xNTYyNSAyOS4yMzgyODEyIDU0LjE1NjI1IDI3Ljk2ODc1IDU3LjI0NjA5MzggMjcuOTY4NzUgNTcuMjQ2MDkzOCAyNyA1MyAyNyA1MyAzMi43MjY1NjI1Ij48L3BvbHlnb24+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==\")})`})},null,4),(0,uh._)(\"div\",{class:\"compass-inner\",onClick:i[0]||(i[0]=e=>{let r,n;return r=!1,n=t.value.angle,void(t.value.angle>=180&&(n=360-t.value.angle,r=!0),a.cameraMoveNorth(r,n))})},[(0,uh._)(\"div\",z7,(0,uh.zw)(t.value.orientation),1),(0,uh._)(\"div\",we,[(0,uh.Uk)((0,uh.zw)(n.value)+\" \",1),wa])])]))}}),wt=(0,_S.default)(wr,[[\"__scopeId\",\"data-v-6ea6e236\"]]),wn={class:\"map-action-group widget-zoom\"},wi={class:\"map-action-container\"},wo={class:\"map-action-container\"},ws=(0,uh.aZ)({name:\"MapZoom\",__name:\"MapZoom\",setup(e){let a=(0,uh.SU)((0,uh.f3)(\"cesiumManager\"));function r(e){a.startCameraMove(e?\"zoom-out\":\"zoom-in\")}function t(){a.stopCameraMove()}return(e,a)=>{let n=(0,uh.up)(\"UranusIcon\"),i=(0,uh.Q2)(\"long-tap\");return(0,uh.wg)(),(0,uh.iD)(\"div\",wn,[(0,uh.wy)(((0,uh.wg)(),(0,uh.iD)(\"div\",wi,[(0,uh.Wm)(n,{name:\"plus\",class:\"map-action-icon\"})])),[[i,{start:()=>r(!1),end:t}]]),(0,uh.wy)(((0,uh.wg)(),(0,uh.iD)(\"div\",wo,[(0,uh.Wm)(n,{name:\"less\",class:\"map-action-icon\"})])),[[i,{start:()=>r(!0),end:t}]])])}}}),wl=(0,_S.default)(ws,[[\"__scopeId\",\"data-v-ce37804c\"]]),wd={class:\"map-switch\"},wc={class:\"select-btn\"},wu={class:\"map-switch-item\"},wp={class:\"map-switch-item-title\"},wm={class:\"map-hd-model-wrapper\"},wh={class:\"switch-text\"},wg={class:\"map-pixel-ratio-wrapper\"},wf={class:\"switch-text\"},w_={class:\"map-switch-item\"},wb={class:\"map-switch-item-title\"},wk={key:0,class:\"base-map-selector\"},wv={key:1,class:\"base-map-selector\"},wz={class:\"text-bg-wrap\"},ww={class:\"map-category\"},wy={class:\"text-bg-wrap\"},wS={class:\"map-category\"},wj={class:\"text-bg-wrap\"},wD={class:\"map-category\"},wI={class:\"text-bg-wrap\"},wA={class:\"map-category\"};var wC=r(\"11719\");wC.ifvisible.setIdleDuration(3);let wx={class:\"text-bg-wrap\"},wM={class:\"map-category\"},wE={key:0,class:\"street-selector-wrap\"},wP=(0,uh.aZ)({name:\"PrivMapLayerItem\",__name:\"PrivMapLayerItem\",props:{layerItem:{},selected:{type:Boolean,default:!1},streetLayerVisible:{type:Boolean,default:!0}},emits:[\"street-layer-show-changed\",\"click\"],setup(e,{emit:a}){let r=(0,uh.Fl)(()=>({selected:e.selected})),t=(0,uh.Fl)(()=>!!e.layerItem.config.street_url);function n(){a(\"click\",e.layerItem)}function i(){a(\"street-layer-show-changed\")}return(e,a)=>{let o=(0,uh.up)(\"UranusTooltip\"),s=(0,uh.up)(\"ACheckbox\");return(0,uh.wg)(),(0,uh.iD)(\"div\",{class:(0,uh.C_)([\"map-bg img-satellite\",r.value]),onClick:n},[(0,uh._)(\"div\",wx,[(0,uh._)(\"div\",wM,[(0,uh.Wm)(o,{theme:\"light\",placement:\"bottomLeft\",content:e.layerItem.name},null,8,[\"content\"])])]),t.value&&e.selected?((0,uh.wg)(),(0,uh.iD)(\"div\",wE,[(0,uh.Wm)(s,{class:\"checkbox\",checked:e.streetLayerVisible,onChange:i},{default:(0,uh.w5)(()=>[(0,uh.Uk)((0,uh.zw)(e.$t(\"web.map.open_road_gird\")),1)]),_:1},8,[\"checked\"])])):(0,uh.kq)(\"\",!0)],2)}}});var wT=r(\"36023\");let wR=Symbol(\"useDsmRegion\"),wF=(0,uh.aZ)({name:\"MapSwitch\",components:{PrivMapLayerItem:wP},setup(){let e=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),a=(0,uh.Fl)(()=>window.LANGUAGE===n8.ZH),r=(0,uh.Fl)(()=>\"t\"===window.CURRENT_BE_ENV_CONFIG.map_engine),t=(0,uh.iH)(uM.enableBuilding);function n(a){a?e.addOsmBuilding():e.removeOsmBuilding(),uM.enableBuilding!==a&&window.$reportStatData?.({type:\"fh2_map_building_data_change\",eventValue:{building_model:a?1:0}}),uM.enableBuilding=a,t.value=a}!g4(sI.MAP_CONFIG_PRIVATE)&&((0,uh.bv)(()=>{n(t.value)}),(0,uh.SK)(()=>{e.removeOsmBuilding()}));let i=(0,uh.iH)(uM.hDModel);function o(a){let r=e.elements.getTilesets();uM.hDModel=a,i.value=a,r.length&&(r.forEach(e=>{\"point-cloud\"!==e.contentType&&e.update({maximumScreenSpaceError:uE()})}),e.render())}(0,uh.bv)(()=>{o(i.value)});let s=Math.min(window.devicePixelRatio,1.5),l=(0,uh.iH)(uM.hDResolution);function d(a){a?e.viewer.resolutionScale=s:e.viewer.resolutionScale=1,l.value=a,uM.hDResolution=a;let r=e.collection;r._keys().forEach(e=>{let a=r._get(e);if(!!a.viewer&&!!a.viewer.canvas)a.placer.onResolutionChange()})}if(!g4(sI.MAP_CONFIG_PRIVATE)){let e=function(e,a){let r=!1,t=[],n=gQ()(),i=(0,uh.YP)(()=>(0,uh.SU)(\"map\"),()=>{n=gQ()()}),o=function(e){let a,r=0,t=0,n=0,i=!1,o=window.requestAnimationFrame;function s(){document.hidden?l():d()}function l(){i=!0,t=0}function d(){i=!1,t=0,n=0,a&&cancelAnimationFrame(a),!function s(l){if(!i){if(0!==t){let a=l-t;n++,a>=1e3&&(r=Math.round(1e3*n/a),n=0,t=l,e(r))}else t=l;a=o(s)}}(performance.now())}return document.addEventListener(\"visibilitychange\",s,!1),{startFunc:d,stopFunc:l,destroy:function(){document.removeEventListener(\"visibilitychange\",s,!1),l()}}}(i=>{if(!r)t.push(i),t.length>=15&&(e({rateArr:t,routerTime:gQ()().diff(n,\"second\"),routerName:(0,uh.SU)(a)}),t=[])});function s(){r=!0}function l(){r=!1}return o.startFunc(),wC.ifvisible.on(\"idle\",s),wC.ifvisible.on(\"wakeup\",l),function(){i(),o.destroy(),wC.ifvisible.off(\"idle\",s),wC.ifvisible.off(\"wakeup\",l)}}(e=>{let a=e.rateArr,r=[...a].sort((e,a)=>e-a).splice(1,a.length-2);10>+(r.reduce((e,a)=>e+a)/r.length).toFixed(1)&&function(){s>1.5&&l.value&&(s=1.5,d(l.value))}()},\"map\");(0,uh.SK)(()=>{e()})}(0,uh.bv)(()=>{d(l.value)});let c=e.baseMapProvider,u=c.mode,p=(0,uh.Fl)(()=>\"street\"===u.value?\"street\":\"fallbackSatellite\"===u.value||\"fallbackSatelliteStreet\"===u.value?\"fallbackSatellite\":\"satellite\"),m=(0,uh.iH)(\"satellite\"!==u.value);function h(e=p.value){let a;(a=\"street\"===e?\"street\":\"fallbackSatellite\"===e?m.value?\"fallbackSatelliteStreet\":\"fallbackSatellite\":m.value?\"satelliteStreet\":\"satellite\")!==u.value&&(c.setBaseMap(a),window.$reportStatData?.({type:\"fh2_map_base_map_change\",eventValue:{base_map:\"street\"===a?1:2,road_map:\"satelliteStreet\"===a?1:0}}))}!g4(sI.MAP_CONFIG_PRIVATE)&&(0,uh.YP)(m,()=>{h()});let g=(0,uh.Fl)(()=>\"click\"),f={};g4(sI.MAP_CONFIG_PRIVATE)&&(f=function(e){let a=(0,uh.iH)([]),r=(0,uh.Um)({id:\"\"}),t=(0,uh.Fl)(()=>r.id),n=(0,uh.iH)(uM.streetLayerVisible);function i(){r.layer?.destroy(),r.streetLayer?.destroy(),e.collection.render?.()}function o(e){let a=new URL(window.CURRENT_BE_ENV_CONFIG?.server_url);return!e.includes(a.hostname)}function s(a){uM.offlineMapId=a.id,uM.offlineMapConfig=a.config;let t=e.collection;if(a.id===r.id)return;i(),r.id=a.id,r.config=a,r.layer=void 0,r.streetLayer=void 0;let s=new hj({url:a.config.url,authToken:o(a.config.url)?void 0:u5(),minimumLevel:a.config.min_z||0,maximumLevel:a.config.max_z||void 0,isBaseLayer:!0},t);s.lowerToBottom(),r.layer=s;let l=a.config.street_url;if(l){let e=new hj({url:l,authToken:o(l)?void 0:u5(),isBaseLayer:!0},t);e.raiseToTop(),r.streetLayer=e,e.update({show:n.value})}t.render?.()}let l=(0,uh.f3)(wR,(0,uh.iH)(null)),d=(0,uh.FN)().proxy,c=d.$pager?.offlineTerrainPipe.subscribe(async a=>{if(a.hasTerrain){let r=new uf.Resource({url:`${window.CURRENT_FE_ENV_CONFIG.terrainHost}/dem/api/v2/terrain-tiles/wgs84/`,queryParameters:{ak:window.CURRENT_FE_ENV_CONFIG.terrainKey}}),t=await uf.CesiumTerrainProvider.fromUrl(r,{forceRequestLayerJson:!0});a.dsmRegion&&(l.value=a.dsmRegion),e.customTerrainProvider.addCustomTerrain(t)}}),u=d.$pager?.offlineMapConfig.subscribe(e=>{if(a.value=e?.map(e=>({id:function(e){let a=JSON.stringify(e);return(0,wT.SHA256)(a).toString()}(e),name:e.name,type:e.type,config:{url:e.link,street_url:e.street_link,min_z:e.min_z,max_z:e.max_z}}))||[],lL.isEmpty(a.value))return;let r=a.value.find(e=>e.id===uM.offlineMapId);lL.isNil(r)&&(r=a.value[0]),s(r)});function p(){r.streetLayer&&r.streetLayer.raiseToTop()}return e.on(\"imageryAdded\",p),(0,uh.Jd)(()=>{c?.unsubscribe(),u?.unsubscribe(),e.off(\"imageryAdded\",p),i()}),{mapConfigList:a,switchImagery:s,activeMapId:t,currentBasemapConfig:r,onStreetLayerShowChange:()=>{let a=!n.value;n.value=a,uM.streetLayerVisible=a,r.streetLayer&&(r.streetLayer.update({show:a}),e.collection.render?.())},streetLayerVisible:n}}(e));let _=(0,uh.Fl)(()=>{if(g4(sI.MAP_CONFIG_PRIVATE))return\"img-satellite\";if(\"street\"===p.value)return r.value?\"img-streets-mainland\":\"img-streets-oversea\";return\"img-satellite\"});return{enableBuilding:t,onEnableBuildingChange:n,openHDModel:i,onOpenHDModelChange:o,switchPixelRatioFunc:d,openResolutionScale:l,activeBaseMap:u,satelliteStreetChecked:m,activeType:p,switchMap:h,popoverTrigger:g,onMainlandEnv:r,selectBtnIconClass:_,isZh:a,useFeature:g4,FeatureGateway:sI,...f}}}),wL=(0,_S.default)(wF,[[\"render\",function(e,a,r,t,n,i){let o=(0,uh.up)(\"UranusSwitch\"),s=(0,uh.up)(\"PrivMapLayerItem\"),l=(0,uh.up)(\"a-checkbox\"),d=(0,uh.up)(\"a-popover\"),c=(0,uh.Q2)(\"t\");return(0,uh.wg)(),(0,uh.iD)(\"div\",wd,[(0,uh.Wm)(d,{placement:\"leftBottom\",\"overlay-class-name\":e.onMainlandEnv?\"switch-wrapper\":\"switch-wrapper oversea\",trigger:e.popoverTrigger},{content:(0,uh.w5)(()=>[(0,uh._)(\"div\",wu,[(0,uh.wy)((0,uh._)(\"div\",wp,null,512),[[c,\"web.map.resolution_of_map\"]]),(0,uh._)(\"div\",wm,[(0,uh.Wm)(o,{checked:e.openHDModel,\"onUpdate:checked\":a[0]||(a[0]=a=>e.openHDModel=a),class:\"pointer\",theme:\"light\",size:\"small\",onChange:e.onOpenHDModelChange},null,8,[\"checked\",\"onChange\"]),(0,uh._)(\"span\",wh,(0,uh.zw)(e.$t(\"web.map.model_HD\")),1)]),(0,uh._)(\"div\",wg,[(0,uh.Wm)(o,{checked:e.openResolutionScale,\"onUpdate:checked\":a[1]||(a[1]=a=>e.openResolutionScale=a),class:\"pointer\",theme:\"light\",size:\"small\",onChange:e.switchPixelRatioFunc},null,8,[\"checked\",\"onChange\"]),(0,uh.wy)((0,uh._)(\"span\",wf,null,512),[[c,\"web.map.element_HD\"]])])]),(0,uh._)(\"div\",w_,[(0,uh.wy)((0,uh._)(\"div\",wb,null,512),[[c,\"web.map.title_base_map\"]]),e.useFeature(e.FeatureGateway.MAP_CONFIG_PRIVATE)?((0,uh.wg)(),(0,uh.iD)(\"div\",wk,[((0,uh.wg)(!0),(0,uh.iD)(uh.HY,null,(0,uh.Ko)(e.mapConfigList,a=>((0,uh.wg)(),(0,uh.j4)(s,{key:a.id,\"layer-item\":a,selected:e.activeMapId===a.id,\"street-layer-visible\":e.streetLayerVisible,onClick:r=>e.switchImagery(a),onStreetLayerShowChanged:e.onStreetLayerShowChange},null,8,[\"layer-item\",\"selected\",\"street-layer-visible\",\"onClick\",\"onStreetLayerShowChanged\"]))),128))])):((0,uh.wg)(),(0,uh.iD)(\"div\",wv,[(0,uh._)(\"div\",{class:(0,uh.C_)([\"map-bg\",{selected:\"street\"===e.activeType,\"img-streets-mainland-rect\":e.onMainlandEnv,\"img-streets-oversea\":!e.onMainlandEnv}]),onClick:a[2]||(a[2]=a=>e.switchMap(\"street\"))},[(0,uh._)(\"div\",wz,[(0,uh._)(\"div\",ww,[(0,uh._)(\"span\",{class:(0,uh.C_)({\"smaller-font\":!e.isZh})},(0,uh.zw)(e.$t(\"web.map.standard_map\")),3)])])],2),e.onMainlandEnv?(0,uh.kq)(\"\",!0):((0,uh.wg)(),(0,uh.iD)(\"div\",{key:0,class:(0,uh.C_)([\"img-satellite map-bg\",{selected:\"satellite\"===e.activeType}]),onClick:a[5]||(a[5]=a=>e.switchMap(\"satellite\"))},[(0,uh._)(\"div\",{class:\"street-selector-wrap\",onClick:a[4]||(a[4]=(0,uh.iM)(()=>{},[\"stop\"]))},[\"street\"!==e.activeType?((0,uh.wg)(),(0,uh.j4)(l,{key:0,checked:e.satelliteStreetChecked,\"onUpdate:checked\":a[3]||(a[3]=a=>e.satelliteStreetChecked=a),class:\"checkbox\"},{default:(0,uh.w5)(()=>[(0,uh.Uk)((0,uh.zw)(e.$t(\"web.map.open_road_gird\")),1)]),_:1},8,[\"checked\"])):(0,uh.kq)(\"\",!0)]),(0,uh._)(\"div\",wy,[(0,uh._)(\"div\",wS,[(0,uh._)(\"span\",{class:(0,uh.C_)({\"smaller-font\":!e.isZh})},(0,uh.zw)(e.$t(\"web.map.satellite_map\")),3)])])],2)),e.onMainlandEnv?((0,uh.wg)(),(0,uh.iD)(\"div\",{key:1,class:(0,uh.C_)([\"img-satellite-tdt map-bg\",{selected:\"satellite\"===e.activeType}]),onClick:a[8]||(a[8]=a=>e.switchMap(\"satellite\"))},[(0,uh._)(\"div\",{class:\"street-selector-wrap\",onClick:a[7]||(a[7]=(0,uh.iM)(()=>{},[\"stop\"]))},[\"satellite\"===e.activeType?((0,uh.wg)(),(0,uh.j4)(l,{key:0,checked:e.satelliteStreetChecked,\"onUpdate:checked\":a[6]||(a[6]=a=>e.satelliteStreetChecked=a),class:\"checkbox\"},{default:(0,uh.w5)(()=>[(0,uh.Uk)((0,uh.zw)(e.$t(\"web.map.open_road_gird\")),1)]),_:1},8,[\"checked\"])):(0,uh.kq)(\"\",!0)]),(0,uh._)(\"div\",wj,[(0,uh._)(\"div\",wD,[(0,uh._)(\"span\",{class:(0,uh.C_)({\"smaller-font\":!e.isZh})},(0,uh.zw)(e.$t(\"web.map.satellite_map_tianditu\")),3)])])],2)):(0,uh.kq)(\"\",!0),e.onMainlandEnv?((0,uh.wg)(),(0,uh.iD)(\"div\",{key:2,class:(0,uh.C_)([\"img-satellite-baidu map-bg\",{selected:\"fallbackSatellite\"===e.activeType}]),onClick:a[11]||(a[11]=a=>e.switchMap(\"fallbackSatellite\"))},[(0,uh._)(\"div\",{class:\"street-selector-wrap\",onClick:a[10]||(a[10]=(0,uh.iM)(()=>{},[\"stop\"]))},[\"fallbackSatellite\"===e.activeType?((0,uh.wg)(),(0,uh.j4)(l,{key:0,checked:e.satelliteStreetChecked,\"onUpdate:checked\":a[9]||(a[9]=a=>e.satelliteStreetChecked=a),class:\"checkbox\"},{default:(0,uh.w5)(()=>[(0,uh.Uk)((0,uh.zw)(e.$t(\"web.map.open_road_gird\")),1)]),_:1},8,[\"checked\"])):(0,uh.kq)(\"\",!0)]),(0,uh._)(\"div\",wI,[(0,uh._)(\"div\",wA,[(0,uh._)(\"span\",{class:(0,uh.C_)({\"smaller-font\":!e.isZh})},(0,uh.zw)(e.$t(\"web.map.satellite_map_baidu\")),3)])])],2)):(0,uh.kq)(\"\",!0)]))])]),default:(0,uh.w5)(()=>[(0,uh._)(\"div\",wc,[(0,uh._)(\"div\",{class:(0,uh.C_)([\"img\",[e.selectBtnIconClass]])},null,2)])]),_:1},8,[\"overlay-class-name\",\"trigger\"])])}],[\"__scopeId\",\"data-v-5faaeabc\"]]),wN=e=>((0,uh.dD)(\"data-v-740f44c6\"),e=e(),(0,uh.Cn)(),e),wJ={key:0,class:\"flysafe-opt-area\"},wO={class:\"area-item switch-btn\",style:{\"margin-bottom\":\"10px\"}},wq={class:\"switch-text\"},wG={style:{cursor:\"default\"}},wH={style:{cursor:\"default\"}},wB={style:{cursor:\"default\"}},wV={key:1,class:\"flysafe-opt-area\"},wU={class:\"area-item switch-btn\",style:{\"margin-bottom\":\"10px\"}},wK={class:\"switch-text\"},wW=wN(()=>(0,uh._)(\"i\",{class:\"restricted-area-icon\",style:{border:\"1px #B620E0 solid\",\"background-color\":\"rgba(166, 54, 216,0.1)\"}},null,-1)),wZ={class:\"flysafe-opt-area\"},wY={class:\"area-item switch-btn\",style:{\"margin-bottom\":\"10px\"}},wQ={class:\"switch-text\"},w$={class:\"area-item\"},wX=wN(()=>(0,uh._)(\"i\",{style:{border:\"1px #DE4329 solid\",\"background-color\":\"rgba(222,67,41,0.30)\"}},null,-1)),w0={class:\"area-item\"},w1=wN(()=>(0,uh._)(\"i\",{style:{border:\"1px #979797 solid\",\"background-color\":\"rgba(151,151,151,0.3)\"}},null,-1)),w2={class:\"area-item\"},w3=wN(()=>(0,uh._)(\"i\",{style:{border:\"1px #1088F2 solid\",\"background-color\":\"rgba(16,136,242,0.3)\"}},null,-1)),w4={class:\"area-item\"},w5=wN(()=>(0,uh._)(\"i\",{style:{border:\"1px #FFCC00 solid\",\"background-color\":\"rgba(255,204,0,0.3)\"}},null,-1)),w6={class:\"area-item\"},w9=wN(()=>(0,uh._)(\"i\",{style:{border:\"1px #EE8815 solid\",\"background-color\":\"rgba(238,136,21,0.3)\"}},null,-1)),w8={class:\"area-item\"},w7=wN(()=>(0,uh._)(\"i\",{style:{border:\"1px #37C4DB solid\",\"background-color\":\"rgba(55,196,219,0.3)\"}},null,-1)),ye={key:0,class:\"area-item\"},ya=wN(()=>(0,uh._)(\"i\",{style:{border:\"1px #00BE00 solid\",\"background-color\":\"rgba(0,190,0,0.1)\"}},null,-1)),yr={key:1,class:\"link-box\"},yt={target:\"_blank\",href:\"https://www.dji.com/cn/flysafe/notice\"},yn={class:\"flysafe-opt\"},yi=(0,uh.aZ)({name:\"FlysafeOpt\",__name:\"MapFlySafe\",props:{customAreaVisible:{type:Boolean},unlockLicenseSettingLabelVisible:{type:Boolean}},setup(e){let a=(0,uh.FN)().proxy,r=ux(\"uranus:flysafe-settings\",{isShow:!1,showUnlockLicense:!1,showArea:{areaType2:!0,areaType6:!0,areaType1:!0,areaType0:!0,areaType3:!0,areaType7:!1,areaType8:!1}}),t=ux(\"uranus:custom-area-show\",{isShow:!0}),{flysafeDrawer:n}=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),i=(0,uh.iH)(r.isShow),o=(0,uh.iH)(t.isShow),s=(0,uh.iH)(r.showUnlockLicense),l=\"t\"===window.CURRENT_BE_ENV_CONFIG.map_engine,d=l&&window.LANGUAGE===n8.ZH,c=(0,uh.qj)({...r.showArea}),u=v0(),p=(0,uh.Fl)(()=>u.measure_units_system===t5.Imperial);function m(e){n.setVisible(e),r.isShow=e}function h(e){t.isShow=e}function g(e){s.value=e}(0,uh.YP)(()=>c,e=>{let a={};for(let r in e)a[r.slice(-1)]=e[r];n.setLevel(a),r.showArea=e},{deep:!0,immediate:!0}),(0,uh.YP)(()=>o.value,()=>{a.$pager?.customAreaVisible.next(o.value)},{immediate:!0}),(0,uh.YP)(()=>s.value,e=>{a.$pager?.unlockLicenseVisibleNotification.next(e),r.showUnlockLicense=e},{immediate:!0}),a.$pager?.unlockLicenseNotification.subscribe(e=>{n.setFlySafeFilter(e)}),(0,uh.bv)(()=>{n.setVisible(i.value)}),(0,uh.SK)(()=>{n.setVisible(!1)});let f=(0,uh.Fl)(()=>pS()?\"click\":\"hover\");return(e,a)=>{let r=(0,uh.up)(\"UranusSwitch\"),t=(0,uh.up)(\"UranusIcon\"),n=(0,uh.up)(\"UranusTooltip\"),u=(0,uh.up)(\"ACheckbox\"),_=(0,uh.up)(\"APopover\"),b=(0,uh.Q2)(\"t\");return(0,uh.wg)(),(0,uh.j4)(_,{placement:\"left\",align:{offset:[-5,0]},\"overlay-class-name\":\"flysafe-pop\",trigger:f.value},{content:(0,uh.w5)(()=>[e.customAreaVisible?((0,uh.wg)(),(0,uh.iD)(\"div\",wJ,[(0,uh._)(\"div\",wO,[(0,uh.Wm)(r,{checked:o.value,\"onUpdate:checked\":a[0]||(a[0]=e=>o.value=e),theme:\"light\",onChange:h},null,8,[\"checked\"]),(0,uh._)(\"span\",wq,(0,uh.zw)(e.$t(\"web.projects_flight_map_customer_zone\")),1)]),(0,uh._)(\"div\",{class:(0,uh.C_)([\"custom-area-item\",o.value?\"active\":\"\"])},[(0,uh.Wm)(t,{name:\"limit-area-circle\",class:\"custom-area-item-icon\",size:22}),(0,uh.Wm)(n,{theme:\"light\",placement:\"bottomLeft\",content:e.$t(\"web.map.customer_no_fly_zone_info\"),\"overlay-class-name\":\"flysafe-tooltip\"},{default:(0,uh.w5)(()=>[(0,uh._)(\"span\",wG,(0,uh.zw)(e.$t(\"web.zone_customer_zone_no_fly_zone\")),1)]),_:1},8,[\"content\"])],2),(0,uh._)(\"div\",{class:(0,uh.C_)([\"custom-area-item\",o.value?\"active\":\"\"])},[(0,uh.Wm)(t,{class:\"custom-area-item-icon\",name:\"fly-area-circle\",size:22}),(0,uh.Wm)(n,{theme:\"light\",placement:\"bottomLeft\",content:e.$t(\"web.map.customer_fly_zone_info\"),\"overlay-class-name\":\"flysafe-tooltip\"},{default:(0,uh.w5)(()=>[(0,uh._)(\"span\",wH,(0,uh.zw)(e.$t(\"web.zone_customer_zone_working_zone\")),1)]),_:1},8,[\"content\"])],2),(0,uh._)(\"div\",{class:(0,uh.C_)([\"custom-area-item\",o.value?\"active\":\"\"]),style:{\"margin-bottom\":\"20px\"}},[(0,uh.Wm)(t,{class:\"custom-area-item-icon\",name:\"noland-area-circle\",size:22}),(0,uh.Wm)(n,{theme:\"light\",placement:\"bottomLeft\",content:e.$t(\"web.map.customer_no_land_zone_info\"),\"overlay-class-name\":\"flysafe-tooltip\"},{default:(0,uh.w5)(()=>[(0,uh._)(\"span\",wB,(0,uh.zw)(e.$t(\"web.zone_customer_zone_no_land_zone\")),1)]),_:1},8,[\"content\"])],2)])):(0,uh.kq)(\"\",!0),e.unlockLicenseSettingLabelVisible?((0,uh.wg)(),(0,uh.iD)(\"div\",wV,[(0,uh._)(\"div\",wU,[(0,uh.Wm)(r,{checked:s.value,\"onUpdate:checked\":a[1]||(a[1]=e=>s.value=e),theme:\"light\",onChange:g},null,8,[\"checked\"]),(0,uh._)(\"span\",wK,(0,uh.zw)(e.$t(\"web.map.show_unlocking_zones\")),1)]),(0,uh._)(\"div\",{class:(0,uh.C_)([\"custom-area-item\",s.value?\"active\":\"\"]),style:{\"margin-bottom\":\"20px\"}},[wW,(0,uh._)(\"span\",null,(0,uh.zw)(e.$t(\"web.map.unlocking_zones\")),1)],2)])):(0,uh.kq)(\"\",!0),(0,uh._)(\"div\",wZ,[(0,uh._)(\"div\",wY,[(0,uh.Wm)(r,{checked:i.value,\"onUpdate:checked\":a[2]||(a[2]=e=>i.value=e),theme:\"light\",onChange:m},null,8,[\"checked\"]),(0,uh.wy)((0,uh._)(\"span\",wQ,null,512),[[b,\"web.map.show_restricted_zones\"]])]),(0,uh._)(\"div\",w$,[(0,uh.Wm)(u,{checked:c.areaType2,\"onUpdate:checked\":a[3]||(a[3]=e=>c.areaType2=e),disabled:!i.value},{default:(0,uh.w5)(()=>[wX,(0,uh.Wm)(n,{theme:\"light\",placement:\"bottomLeft\",\"overlay-class-name\":\"flysafe-tooltip\"},{title:(0,uh.w5)(()=>[(0,uh.Uk)((0,uh.zw)(e.$t(\"web.map.restricted_info\")),1)]),default:(0,uh.w5)(()=>[(0,uh.wy)((0,uh._)(\"span\",null,null,512),[[b,\"web.map.restricted_zones\"]])]),_:1})]),_:1},8,[\"checked\",\"disabled\"])]),(0,uh._)(\"div\",w0,[(0,uh.Wm)(u,{checked:c.areaType6,\"onUpdate:checked\":a[4]||(a[4]=e=>c.areaType6=e),disabled:!i.value},{default:(0,uh.w5)(()=>[w1,(0,uh.Wm)(n,{theme:\"light\",placement:\"bottomLeft\",\"overlay-class-name\":\"flysafe-tooltip\"},{title:(0,uh.w5)(()=>[(0,uh.Uk)((0,uh.zw)(e.$t(\"web.map.altitude_info\")),1)]),default:(0,uh.w5)(()=>[(0,uh.wy)((0,uh._)(\"span\",null,null,512),[[b,\"web.map.altitude_zones\"]])]),_:1})]),_:1},8,[\"checked\",\"disabled\"])]),(0,uh._)(\"div\",w2,[(0,uh.Wm)(u,{checked:c.areaType1,\"onUpdate:checked\":a[5]||(a[5]=e=>c.areaType1=e),disabled:!i.value},{default:(0,uh.w5)(()=>[w3,(0,uh.Wm)(n,{theme:\"light\",placement:\"bottomLeft\",\"overlay-class-name\":\"flysafe-tooltip\"},{title:(0,uh.w5)(()=>[(0,uh.Uk)((0,uh.zw)(e.$t(\"web.map.authorization_info\")),1)]),default:(0,uh.w5)(()=>[(0,uh.wy)((0,uh._)(\"span\",null,null,512),[[b,\"web.map.authorization_zones\"]])]),_:1})]),_:1},8,[\"checked\",\"disabled\"])]),(0,uh._)(\"div\",w4,[(0,uh.Wm)(u,{checked:c.areaType0,\"onUpdate:checked\":a[6]||(a[6]=e=>c.areaType0=e),disabled:!i.value},{default:(0,uh.w5)(()=>[w5,(0,uh.Wm)(n,{theme:\"light\",placement:\"bottomLeft\",\"overlay-class-name\":\"flysafe-tooltip\"},{title:(0,uh.w5)(()=>[(0,uh.Uk)((0,uh.zw)(e.$t(\"web.map.warning_info\")),1)]),default:(0,uh.w5)(()=>[(0,uh.wy)((0,uh._)(\"span\",null,null,512),[[b,\"web.map.warning_zones\"]])]),_:1})]),_:1},8,[\"checked\",\"disabled\"])]),(0,uh._)(\"div\",w6,[(0,uh.Wm)(u,{checked:c.areaType3,\"onUpdate:checked\":a[7]||(a[7]=e=>c.areaType3=e),disabled:!i.value},{default:(0,uh.w5)(()=>[w9,(0,uh.Wm)(n,{theme:\"light\",placement:\"bottomLeft\",\"overlay-class-name\":\"flysafe-tooltip\"},{title:(0,uh.w5)(()=>[(0,uh.Uk)((0,uh.zw)(e.$t(\"web.map.enhanced_warning_info\")),1)]),default:(0,uh.w5)(()=>[(0,uh.wy)((0,uh._)(\"span\",null,null,512),[[b,\"web.map.enhanced_warning_zones\"]])]),_:1})]),_:1},8,[\"checked\",\"disabled\"])]),(0,uh._)(\"div\",w8,[(0,uh.Wm)(u,{checked:c.areaType7,\"onUpdate:checked\":a[8]||(a[8]=e=>c.areaType7=e),disabled:!i.value},{default:(0,uh.w5)(()=>[w7,(0,uh.Wm)(n,{theme:\"light\",placement:\"bottomLeft\",\"overlay-class-name\":\"flysafe-tooltip\"},{title:(0,uh.w5)(()=>[(0,uh.Uk)((0,uh.zw)(e.$t(\"web.map.regulatory_restricted_info\")),1)]),default:(0,uh.w5)(()=>[(0,uh.wy)((0,uh._)(\"span\",null,null,512),[[b,\"web.map.regulatory_restricted_zones\"]])]),_:1})]),_:1},8,[\"checked\",\"disabled\"])]),l?((0,uh.wg)(),(0,uh.iD)(\"div\",ye,[(0,uh.Wm)(u,{checked:c.areaType8,\"onUpdate:checked\":a[9]||(a[9]=e=>c.areaType8=e),disabled:!i.value},{default:(0,uh.w5)(()=>[ya,(0,uh.Wm)(n,{theme:\"light\",placement:\"bottomLeft\",\"overlay-class-name\":\"flysafe-tooltip\"},{title:(0,uh.w5)(()=>[(0,uh.Uk)((0,uh.zw)(p.value?e.$t(\"web.map.recommended_info_ft\"):e.$t(\"web.map.recommended_info\")),1)]),default:(0,uh.w5)(()=>[(0,uh.wy)((0,uh._)(\"span\",null,null,512),[[b,\"web.map.recommended_zones\"]])]),_:1})]),_:1},8,[\"checked\",\"disabled\"])])):(0,uh.kq)(\"\",!0),(0,uh.SU)(d)?((0,uh.wg)(),(0,uh.iD)(\"div\",yr,[(0,uh.wy)((0,uh._)(\"a\",yt,null,512),[[b,\"web.map.check_temporary_restricted_zones\"]])])):(0,uh.kq)(\"\",!0)])]),default:(0,uh.w5)(()=>[(0,uh._)(\"div\",yn,[(0,uh.Wm)(t,{name:\"flysafe\",class:(0,uh.C_)([\"map-action-icon\",i.value?\"flysafe_active\":\"\"])},null,8,[\"class\"])])]),_:1},8,[\"trigger\"])}}}),yo=(0,_S.default)(yi,[[\"__scopeId\",\"data-v-740f44c6\"]]),ys={class:\"adsb-risk-modal-head\"},yl=[\"src\"],yd={class:\"tag\"},yc={class:\"tag middle-tag\"},yu={class:\"tag low-tag\"},yp=[\"src\"],ym=[\"src\"],yh=[\"src\"],yg=[\"src\"],yf=[\"src\"],y_=[\"src\"],yb={class:\"adsb-risk-modal-desc\"},yk=r.p+\"../assets/svg/set-risk-bg-img.cfdd9706.svg\",yv=\"/map/api/v1/projects\";async function yz(e){return(await pi.get(`${yv}/${e}/air-sense-config`)).data}async function yw(e,a){return(await pi.post(`${yv}/${e}/air-sense-config`,a)).data}async function yy(e,a){return(await pi.put(`${yv}/${e}/air-sense-config`,a)).data}let yS={highDistance:sz.HighDistance,highAltitude:sz.HighAltitude,modalDistance:sz.ModalDistance,modalAltitude:sz.ModalAltitude,lowDistance:sz.LowDistance,lowAltitude:sz.LowAltitude},yj=(0,uh.aZ)({name:\"MapSetRiskModal\",props:{visible:Boolean},emits:[\"ok\",\"update:visible\"],setup(e,{emit:a}){let r=window.location.pathname.split(\"/\"),t=r[r.length-1],n=(0,uh.iH)(!1),i=(0,uh.iH)(),o=(0,uh.iH)(!0),s=v0(),l=(0,uh.iH)({...yS,project_id:\"\"}),d=(0,uh.Fl)(()=>s.measure_units_system||t5.Metric),c=(0,uh.Fl)(()=>uD(d.value));function u(e,a){var r,t,n;let i=\"highDistance\"===e.field?\"Distance\":\"Altitude\";if(!Number.isFinite(a)){;return Promise.reject(Error(uP(\"projects_adsb_form_empty_notice\",void 0)))}if(a>=l.value[`modal${i}`]){;return Promise.reject(Error(uP(\"projects_adsb_form_no_medium_risk_notice\",void 0)))}if(a>=l.value[`low${i}`]){;return Promise.reject(Error(uP(\"projects_adsb_form_no_low_risk_notice\",void 0)))}return Promise.resolve()}function p(e,a){var r,t,n;let i=\"modalDistance\"===e.field?\"Distance\":\"Altitude\";if(!Number.isFinite(a)){;return Promise.reject(Error(uP(\"projects_adsb_form_empty_notice\",void 0)))}if(a<l.value[`high${i}`]){;return Promise.reject(Error(uP(\"projects_adsb_form_no_high_risk_notice\",void 0)))}if(a>=l.value[`low${i}`]){;return Promise.reject(Error(uP(\"projects_adsb_form_no_low_risk_notice\",void 0)))}return Promise.resolve()}function m(e,a){var r,t,n;let i=\"lowDistance\"===e.field?\"Distance\":\"Altitude\";if(!Number.isFinite(a)){;return Promise.reject(Error(uP(\"projects_adsb_form_empty_notice\",void 0)))}if(a<l.value[`high${i}`]){;return Promise.reject(Error(uP(\"projects_adsb_form_no_high_risk_notice\",void 0)))}if(a<=l.value[`modal${i}`]){;return Promise.reject(Error(uP(\"projects_adsb_form_no_less_medium_risk_notice\",void 0)))}return Promise.resolve()}(0,uh.m0)(()=>{n.value=e.visible,e.visible&&yz(t).then(e=>{if(e?.data){let{low_risk_config:a,medium_risk_config:r,high_risk_config:t,project_id:n}=e.data||{};l.value={highDistance:_(t.distance),highAltitude:_(t.altitude),modalDistance:_(r.distance),modalAltitude:_(r.altitude),lowDistance:_(a.distance),lowAltitude:_(a.altitude),project_id:n}}else g()})}),(0,uh.m0)(()=>{let{highDistance:e,highAltitude:a,modalDistance:r,modalAltitude:t,lowDistance:n,lowAltitude:i}=l.value;o.value=!([e,a,r,t,n,i].every(e=>Number.isFinite(e))&&e<r&&r<n&&a<t&&t<i)});function h(){i.value.resetFields(),f(!1)}function g(){l.value={highDistance:_(yS.highDistance),highAltitude:_(yS.highAltitude),modalDistance:_(yS.modalDistance),modalAltitude:_(yS.modalAltitude),lowDistance:_(yS.lowDistance),lowAltitude:_(yS.lowAltitude),project_id:\"\"}}function f(e,r){n.value=e,a(\"update:visible\",e,r)}function _(e){return uw(e,t8.Length,d.value,!1).value}function b(e){return d.value===t5.Imperial?uy(e,t8.Length):e}return{rules:{highDistance:[{required:!0,validator:u,trigger:[\"change\",\"blur\"]}],highAltitude:[{required:!0,validator:u,trigger:[\"change\",\"blur\"]}],modalDistance:[{required:!0,validator:p,trigger:[\"change\",\"blur\"]}],modalAltitude:[{required:!0,validator:p,trigger:[\"change\",\"blur\"]}],lowDistance:[{required:!0,validator:m,trigger:[\"change\",\"blur\"]}],lowAltitude:[{required:!0,validator:m,trigger:[\"change\",\"blur\"]}]},sVisible:n,formData:l,formRef:i,setRiskHighDistanceSvg:\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBmaWxsPSJub25lIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSIyMS4xNjE4NjUyMzQzNzUiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMS4xNjE4NjUyMzQzNzUgMjAiPjxnIHRyYW5zZm9ybT0ibWF0cml4KDAsMSwtMSwwLDIwLjU4MDgxMDU0Njg3NSwtMjAuNTgwODEwNTQ2ODc1KSI+PGc+PGc+PHBhdGggZD0iTTMxLjY2NTE5ODY3MjAyNzU4Niw4LjkxNTQ5MTk1MzEyNUwzMS42NjUxOTg2NzIwMjc1ODYsNC4yNTY2NjE5NTMxMjUwMDA1TDM0LjAwMzQzODY3MjAyNzU4NSw0LjI1NjY2MTk1MzEyNTAwMDVMMzAuNTgwNDA4NjcyMDI3NTg4LDAuODMzMjUxOTUzMTI1TDI3LjE1NzcyODY3MjAyNzU4OCw0LjI1NjY2MTk1MzEyNTAwMDVMMjkuNDk1OTY4NjcyMDI3NTg3LDQuMjU2NjYxOTUzMTI1MDAwNUwyOS40OTU5Njg2NzIwMjc1ODcsOC45MTU0OTE5NTMxMjVMMjkuNDk1OTY4NjcyMDI3NTg3LDExLjA4NDM1MTk1MzEyNUwyOS40OTU5Njg2NzIwMjc1ODcsMTUuNzQzMTUxOTUzMTI1TDI3LjE1NzcyODY3MjAyNzU4OCwxNS43NDMxNTE5NTMxMjVMMzAuNTgxMTM4NjcyMDI3NTksMTkuMTY2NTUxOTUzMTI1TDM0LjAwMzQzODY3MjAyNzU4NSwxNS43NDMxNTE5NTMxMjVMMzEuNjY1MTk4NjcyMDI3NTg2LDE1Ljc0MzE1MTk1MzEyNUwzMS42NjUxOTg2NzIwMjc1ODYsMTEuMDg0MzUxOTUzMTI1TDMxLjY2NTE5ODY3MjAyNzU4Niw4LjkxNTQ5MTk1MzEyNVoiIGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMSIvPjxwYXRoIGQ9Ik0zMi42NjUxOTg2NzIwMjc1ODYsMTQuNzQzMTUxOTUzMTI1TDMyLjY2NTE5ODY3MjAyNzU4Niw1LjI1NjY2MTk1MzEyNUwzNi40MTc0Njg2NzIwMjc1OSw1LjI1NjY2MTk1MzEyNUwzMC41ODAzNjg2NzIwMjc1OSwtMC41ODEwNzgwNDY4NzUwMDAxTDI0Ljc0Mzg3ODY3MjAyNzU4OCw1LjI1NjY2MTk1MzEyNUwyOC40OTU5Njg2NzIwMjc1ODcsNS4yNTY2NjE5NTMxMjVMMjguNDk1OTY4NjcyMDI3NTg3LDE0Ljc0MzE1MTk1MzEyNUwyNC43NDM1MTg2NzIwMjc1ODcsMTQuNzQzMTUxOTUzMTI1TDMwLjU4MTI0ODY3MjAyNzU4OCwyMC41ODA5NTE5NTMxMjVMMzYuNDE3MDk4NjcyMDI3NTksMTQuNzQzMTUxOTUzMTI1TDMyLjY2NTE5ODY3MjAyNzU4NiwxNC43NDMxNTE5NTMxMjVaTTMxLjU4OTc3ODY3MjAyNzU4OCwxNi43NDMxNTE5NTMxMjVMMzAuNjY1MTk4NjcyMDI3NTksMTYuNzQzMTUxOTUzMTI1TDMwLjY2NTE5ODY3MjAyNzU5LDMuMjU2NjYxOTUzMTI1TDMxLjU4OTQwODY3MjAyNzU4OCwzLjI1NjY2MTk1MzEyNUwzMC41ODA0Mzg2NzIwMjc1ODYsMi4yNDc1ODE5NTMxMjVMMjkuNTcxNTc4NjcyMDI3NTg4LDMuMjU2NjYxOTUzMTI1TDMwLjQ5NTk2ODY3MjAyNzU4NywzLjI1NjY2MTk1MzEyNUwzMC40OTU5Njg2NzIwMjc1ODcsMTYuNzQzMTUxOTUzMTI1TDI5LjU3MTkzODY3MjAyNzU5LDE2Ljc0MzE1MTk1MzEyNUwzMC41ODEwMjg2NzIwMjc1OSwxNy43NTIyNTE5NTMxMjVMMzEuNTg5Nzc4NjcyMDI3NTg4LDE2Ljc0MzE1MTk1MzEyNVoiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0ZGRkZGRiIgZmlsbC1vcGFjaXR5PSIxIi8+PC9nPjxnPjxwYXRoIGQ9Ik0zMS42NjUxOTg2NzIwMjc1ODYsOC45MTU0OTE5NTMxMjVMMzEuNjY1MTk4NjcyMDI3NTg2LDQuMjU2NjYxOTUzMTI1MDAwNUwzNC4wMDM0Mzg2NzIwMjc1ODUsNC4yNTY2NjE5NTMxMjUwMDA1TDMwLjU4MDQwODY3MjAyNzU4OCwwLjgzMzI1MTk1MzEyNUwyNy4xNTc3Mjg2NzIwMjc1ODgsNC4yNTY2NjE5NTMxMjUwMDA1TDI5LjQ5NTk2ODY3MjAyNzU4Nyw0LjI1NjY2MTk1MzEyNTAwMDVMMjkuNDk1OTY4NjcyMDI3NTg3LDguOTE1NDkxOTUzMTI1TDI5LjQ5NTk2ODY3MjAyNzU4NywxMS4wODQzNTE5NTMxMjVMMjkuNDk1OTY4NjcyMDI3NTg3LDE1Ljc0MzE1MTk1MzEyNUwyNy4xNTc3Mjg2NzIwMjc1ODgsMTUuNzQzMTUxOTUzMTI1TDMwLjU4MTEzODY3MjAyNzU5LDE5LjE2NjU1MTk1MzEyNUwzNC4wMDM0Mzg2NzIwMjc1ODUsMTUuNzQzMTUxOTUzMTI1TDMxLjY2NTE5ODY3MjAyNzU4NiwxNS43NDMxNTE5NTMxMjVMMzEuNjY1MTk4NjcyMDI3NTg2LDExLjA4NDM1MTk1MzEyNUwzMS42NjUxOTg2NzIwMjc1ODYsOC45MTU0OTE5NTMxMjVaIiBmaWxsPSIjRTcwMTAyIiBmaWxsLW9wYWNpdHk9IjEiLz48L2c+PC9nPjwvZz48L3N2Zz4=\",setRiskModalDistanceSvg:\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBmaWxsPSJub25lIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSIyMS4xNjE4NjUyMzQzNzUiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMS4xNjE4NjUyMzQzNzUgMjAiPjxnIHRyYW5zZm9ybT0ibWF0cml4KDAsMSwtMSwwLDIwLjU4MDgxMDU0Njg3NSwtMjAuNTgwODEwNTQ2ODc1KSI+PGc+PGc+PHBhdGggZD0iTTMxLjY2NTE5ODY3MjAyNzU4Niw4LjkxNTQ5MTk1MzEyNUwzMS42NjUxOTg2NzIwMjc1ODYsNC4yNTY2NjE5NTMxMjUwMDA1TDM0LjAwMzQzODY3MjAyNzU4NSw0LjI1NjY2MTk1MzEyNTAwMDVMMzAuNTgwNDA4NjcyMDI3NTg4LDAuODMzMjUxOTUzMTI1TDI3LjE1NzcyODY3MjAyNzU4OCw0LjI1NjY2MTk1MzEyNTAwMDVMMjkuNDk1OTY4NjcyMDI3NTg3LDQuMjU2NjYxOTUzMTI1MDAwNUwyOS40OTU5Njg2NzIwMjc1ODcsOC45MTU0OTE5NTMxMjVMMjkuNDk1OTY4NjcyMDI3NTg3LDExLjA4NDM1MTk1MzEyNUwyOS40OTU5Njg2NzIwMjc1ODcsMTUuNzQzMTUxOTUzMTI1TDI3LjE1NzcyODY3MjAyNzU4OCwxNS43NDMxNTE5NTMxMjVMMzAuNTgxMTM4NjcyMDI3NTksMTkuMTY2NTUxOTUzMTI1TDM0LjAwMzQzODY3MjAyNzU4NSwxNS43NDMxNTE5NTMxMjVMMzEuNjY1MTk4NjcyMDI3NTg2LDE1Ljc0MzE1MTk1MzEyNUwzMS42NjUxOTg2NzIwMjc1ODYsMTEuMDg0MzUxOTUzMTI1TDMxLjY2NTE5ODY3MjAyNzU4Niw4LjkxNTQ5MTk1MzEyNVoiIGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMSIvPjxwYXRoIGQ9Ik0zMi42NjUxOTg2NzIwMjc1ODYsMTQuNzQzMTUxOTUzMTI1TDMyLjY2NTE5ODY3MjAyNzU4Niw1LjI1NjY2MTk1MzEyNUwzNi40MTc0Njg2NzIwMjc1OSw1LjI1NjY2MTk1MzEyNUwzMC41ODAzNjg2NzIwMjc1OSwtMC41ODEwNzgwNDY4NzUwMDAxTDI0Ljc0Mzg3ODY3MjAyNzU4OCw1LjI1NjY2MTk1MzEyNUwyOC40OTU5Njg2NzIwMjc1ODcsNS4yNTY2NjE5NTMxMjVMMjguNDk1OTY4NjcyMDI3NTg3LDE0Ljc0MzE1MTk1MzEyNUwyNC43NDM1MTg2NzIwMjc1ODcsMTQuNzQzMTUxOTUzMTI1TDMwLjU4MTI0ODY3MjAyNzU4OCwyMC41ODA5NTE5NTMxMjVMMzYuNDE3MDk4NjcyMDI3NTksMTQuNzQzMTUxOTUzMTI1TDMyLjY2NTE5ODY3MjAyNzU4NiwxNC43NDMxNTE5NTMxMjVaTTMxLjU4OTc3ODY3MjAyNzU4OCwxNi43NDMxNTE5NTMxMjVMMzAuNjY1MTk4NjcyMDI3NTksMTYuNzQzMTUxOTUzMTI1TDMwLjY2NTE5ODY3MjAyNzU5LDMuMjU2NjYxOTUzMTI1TDMxLjU4OTQwODY3MjAyNzU4OCwzLjI1NjY2MTk1MzEyNUwzMC41ODA0Mzg2NzIwMjc1ODYsMi4yNDc1ODE5NTMxMjVMMjkuNTcxNTc4NjcyMDI3NTg4LDMuMjU2NjYxOTUzMTI1TDMwLjQ5NTk2ODY3MjAyNzU4NywzLjI1NjY2MTk1MzEyNUwzMC40OTU5Njg2NzIwMjc1ODcsMTYuNzQzMTUxOTUzMTI1TDI5LjU3MTkzODY3MjAyNzU5LDE2Ljc0MzE1MTk1MzEyNUwzMC41ODEwMjg2NzIwMjc1OSwxNy43NTIyNTE5NTMxMjVMMzEuNTg5Nzc4NjcyMDI3NTg4LDE2Ljc0MzE1MTk1MzEyNVoiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0ZGRkZGRiIgZmlsbC1vcGFjaXR5PSIxIi8+PC9nPjxnPjxwYXRoIGQ9Ik0zMS42NjUxOTg2NzIwMjc1ODYsOC45MTU0OTE5NTMxMjVMMzEuNjY1MTk4NjcyMDI3NTg2LDQuMjU2NjYxOTUzMTI1MDAwNUwzNC4wMDM0Mzg2NzIwMjc1ODUsNC4yNTY2NjE5NTMxMjUwMDA1TDMwLjU4MDQwODY3MjAyNzU4OCwwLjgzMzI1MTk1MzEyNUwyNy4xNTc3Mjg2NzIwMjc1ODgsNC4yNTY2NjE5NTMxMjUwMDA1TDI5LjQ5NTk2ODY3MjAyNzU4Nyw0LjI1NjY2MTk1MzEyNTAwMDVMMjkuNDk1OTY4NjcyMDI3NTg3LDguOTE1NDkxOTUzMTI1TDI5LjQ5NTk2ODY3MjAyNzU4NywxMS4wODQzNTE5NTMxMjVMMjkuNDk1OTY4NjcyMDI3NTg3LDE1Ljc0MzE1MTk1MzEyNUwyNy4xNTc3Mjg2NzIwMjc1ODgsMTUuNzQzMTUxOTUzMTI1TDMwLjU4MTEzODY3MjAyNzU5LDE5LjE2NjU1MTk1MzEyNUwzNC4wMDM0Mzg2NzIwMjc1ODUsMTUuNzQzMTUxOTUzMTI1TDMxLjY2NTE5ODY3MjAyNzU4NiwxNS43NDMxNTE5NTMxMjVMMzEuNjY1MTk4NjcyMDI3NTg2LDExLjA4NDM1MTk1MzEyNUwzMS42NjUxOTg2NzIwMjc1ODYsOC45MTU0OTE5NTMxMjVaIiBmaWxsPSIjRkY5OTAwIiBmaWxsLW9wYWNpdHk9IjEiLz48L2c+PC9nPjwvZz48L3N2Zz4=\",setRiskLowDistanceSvg:\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBmaWxsPSJub25lIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSIyMS4xNjE4NjUyMzQzNzUiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMS4xNjE4NjUyMzQzNzUgMjAiPjxnIHRyYW5zZm9ybT0ibWF0cml4KDAsMSwtMSwwLDIwLjU4MDgxMDU0Njg3NSwtMjAuNTgwODEwNTQ2ODc1KSI+PGc+PGc+PHBhdGggZD0iTTMxLjY2NTE5ODY3MjAyNzU4Niw4LjkxNTQ5MTk1MzEyNUwzMS42NjUxOTg2NzIwMjc1ODYsNC4yNTY2NjE5NTMxMjUwMDA1TDM0LjAwMzQzODY3MjAyNzU4NSw0LjI1NjY2MTk1MzEyNTAwMDVMMzAuNTgwNDA4NjcyMDI3NTg4LDAuODMzMjUxOTUzMTI1TDI3LjE1NzcyODY3MjAyNzU4OCw0LjI1NjY2MTk1MzEyNTAwMDVMMjkuNDk1OTY4NjcyMDI3NTg3LDQuMjU2NjYxOTUzMTI1MDAwNUwyOS40OTU5Njg2NzIwMjc1ODcsOC45MTU0OTE5NTMxMjVMMjkuNDk1OTY4NjcyMDI3NTg3LDExLjA4NDM1MTk1MzEyNUwyOS40OTU5Njg2NzIwMjc1ODcsMTUuNzQzMTUxOTUzMTI1TDI3LjE1NzcyODY3MjAyNzU4OCwxNS43NDMxNTE5NTMxMjVMMzAuNTgxMTM4NjcyMDI3NTksMTkuMTY2NTUxOTUzMTI1TDM0LjAwMzQzODY3MjAyNzU4NSwxNS43NDMxNTE5NTMxMjVMMzEuNjY1MTk4NjcyMDI3NTg2LDE1Ljc0MzE1MTk1MzEyNUwzMS42NjUxOTg2NzIwMjc1ODYsMTEuMDg0MzUxOTUzMTI1TDMxLjY2NTE5ODY3MjAyNzU4Niw4LjkxNTQ5MTk1MzEyNVoiIGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMSIvPjxwYXRoIGQ9Ik0zMi42NjUxOTg2NzIwMjc1ODYsMTQuNzQzMTUxOTUzMTI1TDMyLjY2NTE5ODY3MjAyNzU4Niw1LjI1NjY2MTk1MzEyNUwzNi40MTc0Njg2NzIwMjc1OSw1LjI1NjY2MTk1MzEyNUwzMC41ODAzNjg2NzIwMjc1OSwtMC41ODEwNzgwNDY4NzUwMDAxTDI0Ljc0Mzg3ODY3MjAyNzU4OCw1LjI1NjY2MTk1MzEyNUwyOC40OTU5Njg2NzIwMjc1ODcsNS4yNTY2NjE5NTMxMjVMMjguNDk1OTY4NjcyMDI3NTg3LDE0Ljc0MzE1MTk1MzEyNUwyNC43NDM1MTg2NzIwMjc1ODcsMTQuNzQzMTUxOTUzMTI1TDMwLjU4MTI0ODY3MjAyNzU4OCwyMC41ODA5NTE5NTMxMjVMMzYuNDE3MDk4NjcyMDI3NTksMTQuNzQzMTUxOTUzMTI1TDMyLjY2NTE5ODY3MjAyNzU4NiwxNC43NDMxNTE5NTMxMjVaTTMxLjU4OTc3ODY3MjAyNzU4OCwxNi43NDMxNTE5NTMxMjVMMzAuNjY1MTk4NjcyMDI3NTksMTYuNzQzMTUxOTUzMTI1TDMwLjY2NTE5ODY3MjAyNzU5LDMuMjU2NjYxOTUzMTI1TDMxLjU4OTQwODY3MjAyNzU4OCwzLjI1NjY2MTk1MzEyNUwzMC41ODA0Mzg2NzIwMjc1ODYsMi4yNDc1ODE5NTMxMjVMMjkuNTcxNTc4NjcyMDI3NTg4LDMuMjU2NjYxOTUzMTI1TDMwLjQ5NTk2ODY3MjAyNzU4NywzLjI1NjY2MTk1MzEyNUwzMC40OTU5Njg2NzIwMjc1ODcsMTYuNzQzMTUxOTUzMTI1TDI5LjU3MTkzODY3MjAyNzU5LDE2Ljc0MzE1MTk1MzEyNUwzMC41ODEwMjg2NzIwMjc1OSwxNy43NTIyNTE5NTMxMjVMMzEuNTg5Nzc4NjcyMDI3NTg4LDE2Ljc0MzE1MTk1MzEyNVoiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0ZGRkZGRiIgZmlsbC1vcGFjaXR5PSIxIi8+PC9nPjxnPjxwYXRoIGQ9Ik0zMS42NjUxOTg2NzIwMjc1ODYsOC45MTU0OTE5NTMxMjVMMzEuNjY1MTk4NjcyMDI3NTg2LDQuMjU2NjYxOTUzMTI1MDAwNUwzNC4wMDM0Mzg2NzIwMjc1ODUsNC4yNTY2NjE5NTMxMjUwMDA1TDMwLjU4MDQwODY3MjAyNzU4OCwwLjgzMzI1MTk1MzEyNUwyNy4xNTc3Mjg2NzIwMjc1ODgsNC4yNTY2NjE5NTMxMjUwMDA1TDI5LjQ5NTk2ODY3MjAyNzU4Nyw0LjI1NjY2MTk1MzEyNTAwMDVMMjkuNDk1OTY4NjcyMDI3NTg3LDguOTE1NDkxOTUzMTI1TDI5LjQ5NTk2ODY3MjAyNzU4NywxMS4wODQzNTE5NTMxMjVMMjkuNDk1OTY4NjcyMDI3NTg3LDE1Ljc0MzE1MTk1MzEyNUwyNy4xNTc3Mjg2NzIwMjc1ODgsMTUuNzQzMTUxOTUzMTI1TDMwLjU4MTEzODY3MjAyNzU5LDE5LjE2NjU1MTk1MzEyNUwzNC4wMDM0Mzg2NzIwMjc1ODUsMTUuNzQzMTUxOTUzMTI1TDMxLjY2NTE5ODY3MjAyNzU4NiwxNS43NDMxNTE5NTMxMjVMMzEuNjY1MTk4NjcyMDI3NTg2LDExLjA4NDM1MTk1MzEyNUwzMS42NjUxOTg2NzIwMjc1ODYsOC45MTU0OTE5NTMxMjVaIiBmaWxsPSIjMkQ4Q0YwIiBmaWxsLW9wYWNpdHk9IjEiLz48L2c+PC9nPjwvZz48L3N2Zz4=\",setRiskBgImgSvg:yk,onConfirm:function(e){let{highDistance:a,highAltitude:r,modalDistance:n,modalAltitude:i,lowDistance:s,lowAltitude:d,project_id:c}=l.value,u=c?yy:yw,p={project_id:t,high_risk_config:{altitude:b(Number(r)),distance:b(Number(a))},medium_risk_config:{altitude:b(Number(i)),distance:b(Number(n))},low_risk_config:{altitude:b(Number(d)),distance:b(Number(s))}};o.value=!0,u(t,p).then(()=>{var e;hB.Z.success(uP(\"projects_adsb_risk_modal_success_toast\",void 0)),h()}).finally(()=>{o.value=!1})},onCancel:h,onVisibleChange:function(e){f(e)},setVisible:f,onDefault:g,btnDisabled:o,lengthUnit:c,handleConvert:_}}}),yD=(0,_S.default)(yj,[[\"render\",function(e,a,r,t,n,i){let o=(0,uh.up)(\"a-input-number\"),s=(0,uh.up)(\"a-form-item\"),l=(0,uh.up)(\"a-col\"),d=(0,uh.up)(\"a-row\"),c=(0,uh.up)(\"a-form\"),u=(0,uh.up)(\"uranus-button\"),p=(0,uh.up)(\"a-modal\");return(0,uh.wg)(),(0,uh.j4)(p,(0,uh.dG)(e.$attrs,{closable:!1,\"mask-closable\":!1,visible:e.sVisible,title:e.$t(\"projects_adsb_risk_modal_title\"),width:600,\"wrap-class-name\":\"map-set-risk-moadl\",\"onUpdate:visible\":e.onVisibleChange}),{footer:(0,uh.w5)(()=>[(0,uh.WI)(e.$slots,\"footer\",{},()=>[(0,uh.Wm)(u,{outlined:\"\",theme:\"light\",onClick:e.onCancel},{default:(0,uh.w5)(()=>[(0,uh.Uk)((0,uh.zw)(e.$t(\"common.action.cancel\")),1)]),_:1},8,[\"onClick\"]),(0,uh.Wm)(u,{outlined:\"\",theme:\"light\",onClick:e.onDefault},{default:(0,uh.w5)(()=>[(0,uh.Uk)((0,uh.zw)(e.$t(\"projects_adsb_risk_modal_btn\")),1)]),_:1},8,[\"onClick\"]),(0,uh.Wm)(u,{type:\"primary\",disabled:e.btnDisabled,loading:e.btnDisabled,onClick:e.onConfirm},{default:(0,uh.w5)(()=>[(0,uh.Uk)((0,uh.zw)(e.$t(\"common.action.confirm\")),1)]),_:1},8,[\"disabled\",\"loading\",\"onClick\"])],!0)]),default:(0,uh.w5)(()=>[(0,uh._)(\"div\",ys,[(0,uh._)(\"img\",{src:e.setRiskBgImgSvg},null,8,yl),(0,uh._)(\"div\",yd,(0,uh.zw)(e.$t(\"projects_adsb_risk_modal_bg_high_desc\")),1),(0,uh._)(\"div\",yc,(0,uh.zw)(e.$t(\"projects_adsb_risk_modal_bg_middle_desc\")),1),(0,uh._)(\"div\",yu,(0,uh.zw)(e.$t(\"projects_adsb_risk_modal_bg_low_desc\")),1)]),(0,uh.Wm)(c,{ref:\"formRef\",model:e.formData,class:\"projects-adsb-form\",rules:e.rules},{default:(0,uh.w5)(()=>[(0,uh._)(\"div\",null,(0,uh.zw)(e.$t(\"projects_adsb_risk_modal_high_desc\")),1),(0,uh.Wm)(d,{gutter:24},{default:(0,uh.w5)(()=>[(0,uh.Wm)(l,{span:12},{default:(0,uh.w5)(()=>[(0,uh.Wm)(s,{colon:!1,prop:\"highDistance\"},{label:(0,uh.w5)(()=>[(0,uh._)(\"span\",null,[(0,uh._)(\"img\",{class:\"icon-distance\",src:e.setRiskHighDistanceSvg},null,8,yp),(0,uh.Uk)((0,uh.zw)(e.$t(\"projects_adsb_risk_modal_horizontal_label\"))+\"(\"+(0,uh.zw)(e.lengthUnit)+\") \",1)])]),default:(0,uh.w5)(()=>[(0,uh.Wm)(o,{value:e.formData.highDistance,\"onUpdate:value\":a[0]||(a[0]=a=>e.formData.highDistance=a),valueModifiers:{trim:!0},min:0,max:e.handleConvert(1e4)},null,8,[\"value\",\"max\"])]),_:1})]),_:1}),(0,uh.Wm)(l,{span:12},{default:(0,uh.w5)(()=>[(0,uh.Wm)(s,{colon:!1,prop:\"highAltitude\"},{label:(0,uh.w5)(()=>[(0,uh._)(\"img\",{class:\"icon-altitude\",src:e.setRiskHighDistanceSvg},null,8,ym),(0,uh.Uk)((0,uh.zw)(e.$t(\"projects_adsb_risk_modal_vertical_label\"))+\"(\"+(0,uh.zw)(e.lengthUnit)+\") \",1)]),default:(0,uh.w5)(()=>[(0,uh.Wm)(o,{value:e.formData.highAltitude,\"onUpdate:value\":a[1]||(a[1]=a=>e.formData.highAltitude=a),valueModifiers:{trim:!0},min:0,max:e.handleConvert(4e3)},null,8,[\"value\",\"max\"])]),_:1})]),_:1})]),_:1}),(0,uh._)(\"div\",null,(0,uh.zw)(e.$t(\"projects_adsb_risk_modal_middle_desc\")),1),(0,uh.Wm)(d,{gutter:24},{default:(0,uh.w5)(()=>[(0,uh.Wm)(l,{span:12},{default:(0,uh.w5)(()=>[(0,uh.Wm)(s,{colon:!1,prop:\"modalDistance\"},{label:(0,uh.w5)(()=>[(0,uh._)(\"img\",{class:\"icon-distance\",src:e.setRiskModalDistanceSvg},null,8,yh),(0,uh.Uk)((0,uh.zw)(e.$t(\"projects_adsb_risk_modal_horizontal_label\"))+\"(\"+(0,uh.zw)(e.lengthUnit)+\") \",1)]),default:(0,uh.w5)(()=>[(0,uh.Wm)(o,{value:e.formData.modalDistance,\"onUpdate:value\":a[2]||(a[2]=a=>e.formData.modalDistance=a),valueModifiers:{trim:!0},min:0,max:e.handleConvert(1e4)},null,8,[\"value\",\"max\"])]),_:1})]),_:1}),(0,uh.Wm)(l,{span:12},{default:(0,uh.w5)(()=>[(0,uh.Wm)(s,{colon:!1,prop:\"modalAltitude\"},{label:(0,uh.w5)(()=>[(0,uh._)(\"img\",{class:\"icon-altitude\",src:e.setRiskModalDistanceSvg},null,8,yg),(0,uh.Uk)((0,uh.zw)(e.$t(\"projects_adsb_risk_modal_vertical_label\"))+\"(\"+(0,uh.zw)(e.lengthUnit)+\") \",1)]),default:(0,uh.w5)(()=>[(0,uh.Wm)(o,{value:e.formData.modalAltitude,\"onUpdate:value\":a[3]||(a[3]=a=>e.formData.modalAltitude=a),valueModifiers:{trim:!0},min:0,max:e.handleConvert(4e3)},null,8,[\"value\",\"max\"])]),_:1})]),_:1})]),_:1}),(0,uh._)(\"div\",null,(0,uh.zw)(e.$t(\"projects_adsb_risk_modal_low_desc\")),1),(0,uh.Wm)(d,{gutter:24},{default:(0,uh.w5)(()=>[(0,uh.Wm)(l,{span:12},{default:(0,uh.w5)(()=>[(0,uh.Wm)(s,{colon:!1,prop:\"lowDistance\"},{label:(0,uh.w5)(()=>[(0,uh._)(\"img\",{class:\"icon-distance\",src:e.setRiskLowDistanceSvg},null,8,yf),(0,uh.Uk)((0,uh.zw)(e.$t(\"projects_adsb_risk_modal_horizontal_label\"))+\"(\"+(0,uh.zw)(e.lengthUnit)+\") \",1)]),default:(0,uh.w5)(()=>[(0,uh.Wm)(o,{value:e.formData.lowDistance,\"onUpdate:value\":a[4]||(a[4]=a=>e.formData.lowDistance=a),valueModifiers:{trim:!0},min:0,max:e.handleConvert(1e4)},null,8,[\"value\",\"max\"])]),_:1})]),_:1}),(0,uh.Wm)(l,{span:12},{default:(0,uh.w5)(()=>[(0,uh.Wm)(s,{colon:!1,prop:\"lowAltitude\"},{label:(0,uh.w5)(()=>[(0,uh._)(\"img\",{class:\"icon-altitude\",src:e.setRiskLowDistanceSvg},null,8,y_),(0,uh.Uk)((0,uh.zw)(e.$t(\"projects_adsb_risk_modal_vertical_label\"))+\"(\"+(0,uh.zw)(e.lengthUnit)+\") \",1)]),default:(0,uh.w5)(()=>[(0,uh.Wm)(o,{value:e.formData.lowAltitude,\"onUpdate:value\":a[5]||(a[5]=a=>e.formData.lowAltitude=a),valueModifiers:{trim:!0},min:0,max:e.handleConvert(4e3)},null,8,[\"value\",\"max\"])]),_:1})]),_:1})]),_:1})]),_:1},8,[\"model\",\"rules\"]),(0,uh._)(\"div\",yb,\" *\"+(0,uh.zw)(e.$t(\"projects_adsb_risk_modal_footer_desc\")),1)]),_:3},16,[\"visible\",\"title\",\"onUpdate:visible\"])}],[\"__scopeId\",\"data-v-48e35470\"]]),yI={class:\"airsense-title-con\"},yA={class:\"air-sense-tooltip-title\"},yC=[\"src\"],yx={class:\"airsense-label\"},yM={class:\"option-label\"},yE=(0,uh.aZ)({name:\"MapAirSense\",__name:\"MapAirSense\",setup(e){var a,r,n,i,o;let s=[{label:uP(\"web.projects_flight_map_adsb_layer_danger_btn\",void 0),value:3,disabled:!0,color:\"#e70102\"},{label:uP(\"web.projects_flight_map_adsb_layer_warning_btn\",void 0),value:2,color:\"#FF9900\"},{label:uP(\"web.projects_flight_map_adsb_layer_attention_btn\",void 0),value:1,color:\"#1FA3F6\"}];let l=uP(\"projects_adsb_manned_aircraft_desc\",void 0);let d=uP(\"projects_adsb_risk_modal_title\",void 0),c=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),u=(0,uh.iH)([3]),p=(0,uh.iH)(!1),m=t;(0,uh.YP)(()=>u.value,e=>{e&&e.length>0&&(c?.changeAirSenseCheckbox(e),m&&m.$pager&&m.$pager.main&&m.$pager.main.next({from:\"map-app\",label:\"change-airsense-checkbox\",data:e}))}),(0,uh.YP)(()=>c.airSenseWidget.checkbox,e=>{e&&e.length>0&&(u.value=e)},{immediate:!0});let h=(0,uh.Fl)(()=>pS()?\"click\":\"hover\");function g(){p.value=!0}return(e,a)=>{let r=(0,uh.up)(\"ATooltip\"),t=(0,uh.up)(\"UranusIcon\"),n=(0,uh.up)(\"ACheckbox\"),i=(0,uh.up)(\"ACheckboxGroup\"),o=(0,uh.up)(\"APopover\");return(0,uh.wg)(),(0,uh.j4)(o,{placement:\"left\",align:{offset:[-5,0]},\"overlay-class-name\":\"map-air-sense\",trigger:h.value},{content:(0,uh.w5)(()=>[(0,uh._)(\"div\",{class:\"airsense-title\",onClick:g},[(0,uh._)(\"span\",yI,(0,uh.zw)((0,uh.SU)(l)),1),(0,uh.Wm)(r,{\"overlay-class-name\":\"air-sense-tooltip\",color:\"#fff\"},{title:(0,uh.w5)(()=>[(0,uh._)(\"span\",yA,(0,uh.zw)((0,uh.SU)(d)),1)]),default:(0,uh.w5)(()=>[(0,uh._)(\"img\",{src:(0,uh.SU)(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBmaWxsPSJub25lIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48Zz48Zz48Zz48cGF0aCBkPSJNOS43Njk2NjI3NTgyMTY4NTgsMS4wMTMyODYxMTM3MzkwMTM3TDYuMjMzNjEyNzU4MjE2ODU4LDEuMDEzMjg2MTEzNzM5MDEzN0w1LjYzMDMwMjc1ODIxNjg1OCwzLjE0MjEwNjExMzczOTAxNEw1LjUyMDQxMjc1ODIxNjg1OCwzLjE5NjU4NjExMzczOTAxMzdDNS4zODQxMzI3NTgyMTY4NTgsMy4yNjc4OTYxMTM3MzkwMTM3LDUuMjQ5NTkyNzU4MjE2ODU4LDMuMzQ2MDg2MTEzNzM5MDE0LDUuMTE2MzAyNzU4MjE2ODU4LDMuNDMxMDY2MTEzNzM5MDEzN0w0Ljk4NDk3Mjc1ODIxNjg1NywzLjUxODEwNjExMzczOTAxMzdMMi44MzUwNTI3NTgyMTY4NTgsMi45NzczMzYxMTM3MzkwMTRMMS4wNjY1NTI3NTgyMTY4NTgsNi4wMzY4NTYxMTM3MzkwMTRMMi42MTAzMDI3NTgyMTY4NTgsNy42MjI3NzYxMTM3MzkwMTRMMi42MDc0MjI3NTgyMTY4NTgsNy42NjM1OTYxMTM3MzkwMTRDMi41OTkxMjI3NTgyMTY4NTc3LDcuNzc5Mjc2MTEzNzM5MDE0LDIuNTk0ODUyNzU4MjE2ODU3Nyw3Ljg5MDExNjExMzczOTAxNCwyLjU5NDg1Mjc1ODIxNjg1NzcsOC4wMDAxMDYxMTM3MzkwMTNMMi41OTgwMjI3NTgyMTY4NTgsOC4xNjYyMzYxMTM3MzkwMTRMMi42MTAzMDI3NTgyMTY4NTgsOC4zNzY3NzYxMTM3MzkwMTJMMS4wNjY1NTI3NTgyMTY4NTgsOS45NjMzNjYxMTM3MzkwMTNMMi44MzUwNTI3NTgyMTY4NTgsMTMuMDIyODg2MTEzNzM5MDE0TDQuOTgyMzAyNzU4MjE2ODU4LDEyLjQ4MjA4NjExMzczOTAxNEw1LjEwMzAwMjc1ODIxNjg1OCwxMi41NjMzODYxMTM3MzkwMTRDNS4yMzU3NTI3NTgyMTY4NTgsMTIuNjQ4NDg2MTEzNzM5MDEzLDUuMzcxMzYyNzU4MjE2ODU4LDEyLjcyNzE4NjExMzczOTAxNCw1LjUwOTk2Mjc1ODIxNjg1OCwxMi43OTk0ODYxMTM3MzkwMTNMNS42MzAzMDI3NTgyMTY4NTgsMTIuODU4Nzg2MTEzNzM5MDEzTDYuMjMzNjEyNzU4MjE2ODU4LDE0Ljk4Njg4NjExMzczOTAxM0w5Ljc2OTY2Mjc1ODIxNjg1OCwxNC45ODY4ODYxMTM3MzkwMTNMMTAuMzcyMzAyNzU4MjE2ODU4LDEyLjg1NzQ4NjExMzczOTAxNEwxMC40ODI4NzI3NTgyMTY4NTksMTIuODAzNTg2MTEzNzM5MDE0QzEwLjYxOTE0Mjc1ODIxNjg1OCwxMi43MzIyODYxMTM3MzkwMTMsMTAuNzUzNjgyNzU4MjE2ODU4LDEyLjY1NDA4NjExMzczOTAxNCwxMC44ODY5ODI3NTgyMTY4NTgsMTIuNTY5MTg2MTEzNzM5MDEzTDExLjAxNzY0Mjc1ODIxNjg1OSwxMi40ODE0ODYxMTM3MzkwMTNMMTMuMTY4MjUyNzU4MjE2ODU3LDEzLjAyMjg4NjExMzczOTAxNEwxNC45MzY3NTI3NTgyMTY4NTgsOS45NjMzNjYxMTM3MzkwMTNMMTMuMzkyMzUyNzU4MjE2ODU3LDguMzc2Nzc2MTEzNzM5MDEyTDEzLjM5NjA1Mjc1ODIxNjg1Nyw4LjMzNjY4NjExMzczOTAxM0MxMy40MDQyNTI3NTgyMTY4NTgsOC4yMjIwNTYxMTM3MzkwMTUsMTMuNDA4NDUyNzU4MjE2ODU5LDguMTEyMjQ2MTEzNzM5MDE0LDEzLjQwODQ1Mjc1ODIxNjg1OSw4LjAwMDEwNjExMzczOTAxM0wxMy40MDUzNTI3NTgyMTY4NTksNy44MzI3NTYxMTM3MzkwMTRMMTMuMzkyMzUyNzU4MjE2ODU3LDcuNjIyNzc2MTEzNzM5MDE0TDE0LjkzNjc1Mjc1ODIxNjg1OCw2LjAzNjg1NjExMzczOTAxNEwxMy4xNjgyNTI3NTgyMTY4NTcsMi45NzczMzYxMTM3MzkwMTRMMTEuMDIwMzAyNzU4MjE2ODU3LDMuNTE3NDQ2MTEzNzM5MDE0TDEwLjkwMDI4Mjc1ODIxNjg1NywzLjQzNjc5NjExMzczOTAxMzVDMTAuNzY3NTMyNzU4MjE2ODU3LDMuMzUxNzA2MTEzNzM5MDE0LDEwLjYzMTkyMjc1ODIxNjg1OCwzLjI3MzAxNjExMzczOTAxMzUsMTAuNDkzMzEyNzU4MjE2ODU4LDMuMjAwNzY2MTEzNzM5MDEzNUwxMC4zNzIzMDI3NTgyMTY4NTgsMy4xNDA3NzYxMTM3MzkwMTM2TDkuNzY5NjYyNzU4MjE2ODU4LDEuMDEzMjg2MTEzNzM5MDEzN1pNNy4yNDE3MzI3NTgyMTY4NTgsMi4zNDYxMDYxMTM3MzkwMTM2TDguNzYxMDYyNzU4MjE2ODU5LDIuMzQ2MTA2MTEzNzM5MDEzNkw5LjI2MjY1Mjc1ODIxNjg1Nyw0LjExNDA5NjExMzczOTAxNEw5LjU2MjgwMjc1ODIxNjg1OCw0LjIzNzExNjExMzczOTAxM0M5Ljg4NTA5Mjc1ODIxNjg1OCw0LjM2OTE5NjExMzczOTAxMywxMC4xODgxMzI3NTgyMTY4NTgsNC41NDU2MzYxMTM3MzkwMTQsMTAuNDc3MjUyNzU4MjE2ODU4LDQuNzY4MDM2MTEzNzM5MDEzTDEwLjczMzIyMjc1ODIxNjg1OCw0Ljk2NDkzNjExMzczOTAxNEwxMi41MTc3NTI3NTgyMTY4NTgsNC41MTU0NDYxMTM3MzkwMTRMMTMuMjc3MDUyNzU4MjE2ODU4LDUuODI5NDQ2MTEzNzM5MDE0TDExLjk5NjM1Mjc1ODIxNjg1OCw3LjE0NTMwNjExMzczOTAxMzVMMTIuMDM2MDUyNzU4MjE2ODU4LDcuNDYzNDI2MTEzNzM5MDE0TDEyLjA2MTM1Mjc1ODIxNjg1OCw3LjY5NzY3NjExMzczOTAxM0MxMi4wNzA2NTI3NTgyMTY4NTcsNy44MDU5ODYxMTM3MzkwMTQsMTIuMDc1MTUyNzU4MjE2ODU3LDcuOTAzMzU2MTEzNzM5MDEzLDEyLjA3NTE1Mjc1ODIxNjg1Nyw4LjAwMDEwNjExMzczOTAxM0MxMi4wNzUxNTI3NTgyMTY4NTcsOC4wOTY4NjYxMTM3MzkwMTUsMTIuMDcwNjUyNzU4MjE2ODU3LDguMTk0MjM2MTEzNzM5MDEzLDEyLjA2MTM1Mjc1ODIxNjg1OCw4LjMwMjU0NjExMzczOTAxMkwxMi4wMzYwNTI3NTgyMTY4NTgsOC41MzY3OTYxMTM3MzkwMTRMMTEuOTk2MzUyNzU4MjE2ODU4LDguODU0OTE2MTEzNzM5MDE0TDEzLjI3NzA1Mjc1ODIxNjg1OCwxMC4xNzAxMTYxMTM3MzkwMTNMMTIuNTE3NzUyNzU4MjE2ODU4LDExLjQ4NDA4NjExMzczOTAxNEwxMC43MzgwNzI3NTgyMTY4NTcsMTEuMDM2NDg2MTEzNzM5MDEzTDEwLjQ4MzcyMjc1ODIxNjg1OCwxMS4yMjcyODYxMTM3MzkwMTRDMTAuMTc1OTYyNzU4MjE2ODU4LDExLjQ1ODA4NjExMzczOTAxNCw5Ljg3MjE2Mjc1ODIxNjg1OCwxMS42MzYyODYxMTM3MzkwMTMsOS41NjI4MDI3NTgyMTY4NTgsMTEuNzYzMDg2MTEzNzM5MDE0TDkuMjYyNjUyNzU4MjE2ODU3LDExLjg4NjA4NjExMzczOTAxM0w4Ljc2MTA2Mjc1ODIxNjg1OSwxMy42NTM0ODYxMTM3MzkwMTRMNy4yNDE3MzI3NTgyMTY4NTgsMTMuNjUzNDg2MTEzNzM5MDE0TDYuNzQwODEyNzU4MjE2ODU4LDExLjg4NjA4NjExMzczOTAxM0w2LjQ0MDY2Mjc1ODIxNjg1OCwxMS43NjMwODYxMTM3MzkwMTRDNi4xMTgzNzI3NTgyMTY4NTgsMTEuNjMwOTg2MTEzNzM5MDEzLDUuODE1MzMyNzU4MjE2ODU4LDExLjQ1NDU4NjExMzczOTAxNCw1LjUyNjIxMjc1ODIxNjg1OCwxMS4yMzIxODYxMTM3MzkwMTNMNS4yNzAyNDI3NTgyMTY4NTgsMTEuMDM1Mjg2MTEzNzM5MDE0TDMuNDg1MDYyNzU4MjE2ODU4LDExLjQ4NDA4NjExMzczOTAxNEwyLjcyNTczMjc1ODIxNjg1OCwxMC4xNzAxMTYxMTM3MzkwMTNMNC4wMDcxNDI3NTgyMTY4NTgsOC44NTQ5MTYxMTM3MzkwMTRMMy45NjczNzI3NTgyMTY4NTgsOC41MzY3OTYxMTM3MzkwMTRDMy45NDEzNDI3NTgyMTY4NTgsOC4zMjg1NTYxMTM3MzkwMTQsMy45MjgyODI3NTgyMTY4NTgsOC4xNTc0MzYxMTM3MzkwMTMsMy45MjgyODI3NTgyMTY4NTgsOC4wMDAxMDYxMTM3MzkwMTNDMy45MjgyODI3NTgyMTY4NTgsNy44NDI3ODYxMTM3MzkwMTQsMy45NDEzNDI3NTgyMTY4NTgsNy42NzE2NjYxMTM3MzkwMTQsMy45NjczNzI3NTgyMTY4NTgsNy40NjM0MjYxMTM3MzkwMTRMNC4wMDcxNDI3NTgyMTY4NTgsNy4xNDUzMDYxMTM3MzkwMTM1TDIuNzI1NzMyNzU4MjE2ODU4LDUuODI5NDQ2MTEzNzM5MDE0TDMuNDg1MDYyNzU4MjE2ODU4LDQuNTE1NDQ2MTEzNzM5MDE0TDUuMjY1MzkyNzU4MjE2ODU4LDQuOTYzNzE2MTEzNzM5MDE0TDUuNTE5NzQyNzU4MjE2ODU4LDQuNzcyOTU2MTEzNzM5MDEzNUM1LjgyNzUwMjc1ODIxNjg1OCw0LjU0MjEyNjExMzczOTAxNCw2LjEzMTMwMjc1ODIxNjg1OCw0LjM2Mzg5NjExMzczOTAxMyw2LjQ0MDY2Mjc1ODIxNjg1OCw0LjIzNzExNjExMzczOTAxM0w2Ljc0MDgxMjc1ODIxNjg1OCw0LjExNDA5NjExMzczOTAxNEw3LjI0MTczMjc1ODIxNjg1OCwyLjM0NjEwNjExMzczOTAxMzZaTTguMDAxNjkyNzU4MjE2ODU4LDUuNjY2Nzg2MTEzNzM5MDE0QzkuMjg4MzYyNzU4MjE2ODU4LDUuNjY2Nzg2MTEzNzM5MDE0LDEwLjMzNTAyMjc1ODIxNjg1OSw2LjcxMzQ1NjExMzczOTAxNCwxMC4zMzUwMjI3NTgyMTY4NTksOC4wMDAxMjYxMTM3MzkwMTRDMTAuMzM1MDIyNzU4MjE2ODU5LDkuMjg2Nzg2MTEzNzM5MDE0LDkuMjg4MzYyNzU4MjE2ODU4LDEwLjMzMzQ1NjExMzczOTAxMyw4LjAwMTY5Mjc1ODIxNjg1OCwxMC4zMzM0NTYxMTM3MzkwMTNDNi43MTUwMjI3NTgyMTY4NTgsMTAuMzMzNDU2MTEzNzM5MDEzLDUuNjY4MzYyNzU4MjE2ODU4LDkuMjg2Nzg2MTEzNzM5MDE0LDUuNjY4MzYyNzU4MjE2ODU4LDguMDAwMTI2MTEzNzM5MDE0QzUuNjY4MzYyNzU4MjE2ODU4LDYuNzEzNDU2MTEzNzM5MDE0LDYuNzE1MDIyNzU4MjE2ODU4LDUuNjY2Nzg2MTEzNzM5MDE0LDguMDAxNjkyNzU4MjE2ODU4LDUuNjY2Nzg2MTEzNzM5MDE0Wk04LjAwMTYxMjc1ODIxNjg1OCw3LjAwMDEwNjExMzczOTAxMzVDNy40NTEzMjI3NTgyMTY4NTc1LDcuMDAwMTA2MTEzNzM5MDEzNSw3LjAwMTYxMjc1ODIxNjg1OCw3LjQ0OTgxNjExMzczOTAxNCw3LjAwMTYxMjc1ODIxNjg1OCw4LjAwMDEwNjExMzczOTAxM0M3LjAwMTYxMjc1ODIxNjg1OCw4LjU1MDM4NjExMzczOTAxMiw3LjQ1MTMyMjc1ODIxNjg1NzUsOS4wMDAxMDYxMTM3MzkwMTMsOC4wMDE2MTI3NTgyMTY4NTgsOS4wMDAxMDYxMTM3MzkwMTNDOC41NTE5MDI3NTgyMTY4NTgsOS4wMDAxMDYxMTM3MzkwMTMsOS4wMDE2MTI3NTgyMTY4NTgsOC41NTAzODYxMTM3MzkwMTIsOS4wMDE2MTI3NTgyMTY4NTgsOC4wMDAxMDYxMTM3MzkwMTNDOS4wMDE2MTI3NTgyMTY4NTgsNy40NDk4MTYxMTM3MzkwMTQsOC41NTE5MDI3NTgyMTY4NTgsNy4wMDAxMDYxMTM3MzkwMTM1LDguMDAxNjEyNzU4MjE2ODU4LDcuMDAwMTA2MTEzNzM5MDEzNVoiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzJEOENGMCIgZmlsbC1vcGFjaXR5PSIxIi8+PC9nPjwvZz48L2c+PC9zdmc+\")},null,8,yC)]),_:1})]),(0,uh.Wm)(i,{value:u.value,\"onUpdate:value\":a[0]||(a[0]=e=>u.value=e)},{default:(0,uh.w5)(()=>[((0,uh.wg)(),(0,uh.iD)(uh.HY,null,(0,uh.Ko)(s,e=>(0,uh.Wm)(n,{key:`airsense_${e.value}`,disabled:e.disabled,value:e.value},{default:(0,uh.w5)(()=>[(0,uh._)(\"span\",yx,[(0,uh._)(\"span\",{class:(0,uh.C_)([\"option-icon\",`icon-${e.value}`])},[(0,uh.Wm)(t,{name:\"airsense-map\",size:14,color:e.color},null,8,[\"color\"])],2),(0,uh._)(\"span\",yM,(0,uh.zw)(e.label),1)])]),_:2},1032,[\"disabled\",\"value\"])),64))]),_:1},8,[\"value\"])]),default:(0,uh.w5)(()=>[(0,uh.Wm)(t,{name:\"airsense-map\",color:\"#595959\",size:18}),(0,uh.Wm)(yD,{visible:p.value,\"onUpdate:visible\":a[1]||(a[1]=e=>p.value=e)},null,8,[\"visible\"])]),_:1},8,[\"trigger\"])}}}),yP=(0,uh.aZ)({name:\"MapFrustum\",__name:\"MapFrustum\",setup(e){let a=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),r=(0,uh.Fl)(()=>\"orthographic\"===a.frustum.value?\"3D\":\"2D\");function t(){\"orthographic\"===a.frustum.value?(0,fr.gK)(a,!0):(0,fr.gK)(a,!1)}return(e,a)=>((0,uh.wg)(),(0,uh.iD)(\"div\",{class:\"map-frustum\",onClick:t},(0,uh.zw)(r.value),1))}}),yT=(0,_S.default)(yP,[[\"__scopeId\",\"data-v-9dcb057a\"]]),yR=(0,uh.aZ)({name:\"MapCenter\",__name:\"MapCenter\",setup(e){let a=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),r=a.centerWidget,t=(0,uh.Fl)(()=>!r.center);function n(){if(r.center){if(!a.centerWidgetClick||!!a.centerWidgetClick())a.centerLatLngPosition(r.center,!0)}}return(e,a)=>{let r=(0,uh.up)(\"UranusIcon\");return(0,uh.wg)(),(0,uh.iD)(\"div\",{class:(0,uh.C_)([\"map-center\",{disabled:t.value}]),onClick:n},[(0,uh.Wm)(r,{name:\"back_in\",class:\"map-action-icon\"})],2)}}}),yF=(0,_S.default)(yR,[[\"__scopeId\",\"data-v-0c12e2b0\"]]);(tt=sq||(sq={})).FhCmdFlightDroneKeyboardOperate=\"fh2_cmd_flight_drone_keyboard_operate\",tt.FhCmdFlightDroneReturnToHome=\"fh2_cmd_flight_drone_return_to_home\",tt.FhPlanFlightDroneRecoverMission=\"fh2_plan_flight_drone_recover_mission\",tt.FhPlanFlightDroneCancelReturnToHome=\"fh2_plan_flight_drone_cancel_return_to_home\",tt.FhCmdFlightGetRemoteControl=\"fh2_cmd_flight_get_remote_control\",tt.FhCmdFlightOneClickTakeOff=\"fh2_cmd_flight_one_click_take_off\",tt.FhCmdFlightOneClickTakeOffOver=\"fh2_cmd_flight_one_click_take_off_over\",tt.FhCmdFlightExitRemoteControl=\"fh2_cmd_flight_exit_remote_control\",tt.FhCmdFlightDroneFlyToTask=\"fh2_cmd_flight_drone_fly_to_task\",tt.FhPlanFlightDroneMissionPause=\"fh2_plan_flight_drone_mission_pause\",tt.FHCmdFlightDroneHalt=\"fh2_cmd_flight_drone_halt\",tt.FHCmdFlightDroneLanding=\"fh2_cmd_flight_drone_landing\",tt.FHCmdFlightDroneLandingDoubleCheck=\"fh2_cmd_flight_drone_landing_double_check\",tt.FHCmdPoiOpen=\"fh2_fly_cmd_flight_poi_open\",tt.FHCmdPoiStart=\"fh2_fly_cmd_flight_poi_start\",tt.FHCmdPoiEnd=\"fh2_fly_cmd_flight_poi_end\",tt.FHCmdFlyToOver=\"fh2_cmd_flight_drone_fly_to_task_over\",tt.FHCmdFlyOrpOpen=\"fh2_fly_cmd_flight_orp_open\",tt.FHCmdRelayTaskStart=\"fh2_cmd_flight_auto_swap_task_start\",tt.FHCmdRecommendClick=\"fh2_cmd_flight_drone_recommend_click\",tt.FhCmdFlightPayloadGetRemoteControl=\"fh2_cmd_flight_payload_get_remote_control\",tt.FhCmdFlightPayloadExitRemoteControl=\"fh2_cmd_flight_payload_exit_remote_control\",tt.FhCmdFlightPayloadClickAim=\"fh2_cmd_flight_payload_click_aim\",tt.FhCmdFlightPayloadReturnCenter=\"fh2_cmd_flight_payload_return_center\",tt.FhCmdFlightPayloadCameraAction=\"fh2_cmd_flight_payload_camera_action\",tt.FhCmdFlightPayloadCameraSwitch=\"fh2_cmd_flight_payload_camera_switch\",tt.FhCmdFlightPayloadCameraZoom=\"fh2_cmd_flight_payload_camera_zoom\",tt.FHCmdBoundingZoom=\"fh2_cmd_flight_payload_select_zoom\",tt.FhCmdFlightPayloadMouseDragMove=\"fh2_cmd_flight_payload_mouse_drag_move\",tt.FhCmdFlightPayloadKeyboardDragMove=\"fh2_cmd_flight_payload_keyboard_drag_move\",tt.FhCmdFlightPayloadDragMove=\"fh2_cmd_flight_payload_drag_move\",tt.FhCmdFlightStorageModeSetting=\"fh2_cmd_flight_storage_mode_setting\",tt.FhCmdFlightEnterArStreet=\"fh2_live_ar_street_open\",tt.FhCmdFlightCloseArStreet=\"fh2_live_ar_street_close\",tt.FhCmdFlightArStatus=\"fh2_live_ar_status\",tt.FhLiveLandingArStreet=\"fh2_live_landing_ar_street\",tt.FhCmdFlightEnterInfraredTempMeasure=\"fh2_cmd_flight_enter_infrared_temp_measure\",tt.FhCmdFlightEnterNightLight=\"fh2_cmd_flight_enter_night_light\",tt.FhCmdFlightEnterHiddenMode=\"fh2_cmd_flight_enter_hidden_mode\",tt.FhCmdFlightEnableCombineZoom=\"fh2_cmd_flight_enable_combine_zoom\",tt.FhCmdFlightPayloadClickQuickRecord=\"fh2_cmd_flight_payload_click_quick_record\",tt.FhCmdFlightDroneCockpitEnter=\"fh2_cmd_flight_drone_cockpit_enter\",tt.FhCmdFlightDroneCockpitExit=\"fh2_cmd_flight_drone_cockpit_exit\",tt.FhCmdFlightFirstMouseModeEnter=\"fh2_cmd_flight_first_mouse_mode_enter\",tt.FhCmdFlightSpeedSwitch=\"fh2_cmd_flight_speed_switch\",tt.FhCmdDrcOpenRtChannel=\"fh2_cmd_drc_open_rt_channel\",tt.FhBrowserFeature=\"fh2_browser_feature\",tt.FHCmdMediaSharePageDownload=\"fh2_media_share_page_download\",tt.FHCmdMediaShareIconClick=\"fh2_media_share_icon_click\",tt.FHCmdMediaShareFuncOpen=\"fh2_media_share_func_open\",tt.FHCmdMediaShareLinkCopy=\"fh2_media_share_link_copy\",tt.FHCmdLiveShareIconClick=\"fh2_live_share_icon_click\",tt.FHCmdLiveShareFuncOpen=\"fh2_live_share_func_open\",tt.FHCmdLiveShareLinkCopy=\"fh2_live_share_link_copy\",tt.FHOpenDeviceStatusWindow=\"fh2_open_device_status_window\",tt.FHOpenLiveStreaming=\"open_live_streaming\",tt.FHWindowTabChange=\"fh2_device_status_window_change_dock\",tt.FHTaskEnter=\"fh2_task_enter\",tt.FHTaskCreate=\"fh2_task_create\",tt.FHC2CDockingShow=\"fh2_cloud_docking_show\",tt.FHC2CConfigSuccess=\"fh2_cloud_docking_turnon\",tt.SystemCustomerServiceShow=\"fh2_system_customer_service_show\",tt.FHDeviceStatusWindowSiteAssessMentResult=\"fh2_device_status_window_site_assessment_result\",tt.FHDeviceStatusWindowDockCalibrationResult=\"fh2_device_status_window_dock_calibration_result\",tt.Fh2SystemUserCustomerAudioSetting=\"fh2_system_user_customer_audio_setting\",tt.Fh2LivePreRecordSettingClickEnlargeStorage=\"fh2_live_pre_record_setting_click_enlarge_storage\",tt.Fh2LivePreRecordSettingClickGetMoreDuration=\"fh2_live_pre_record_setting_click_get_more_duration\",tt.FHPsdkAction=\"fh2_cmd_flight_psdk_action\",tt.FHPsdkDjiAction=\"fh2_cmd_flight_dji_psdk_action\",tt.FHPsdkMegaphoneNewFile=\"fh2_cmd_flight_psdk_megaphone_new_file\",tt.FHPsdkMegaphonePlay=\"fh2_cmd_flight_psdk_megaphone_play\",tt.FHPsdkMegaphoneRealtimeEnd=\"fh2_cmd_flight_psdk_megaphone_realtime_end\",tt.FHPsdkSearchlightStrobe=\"fh2_cmd_flight_psdk_searchlight_strobe\",tt.FHPsdkSearchlightLight=\"fh2_cmd_flight_psdk_searchlight_light\",tt.Fh2DeviceRelayImageTransCloseClick=\"fh2_device_relay_imagetrans_close_click\",tt.FH2FlySafetyCustomFlightAreaClick=\"fh2_fly_safety_custom_flight_area_click\",tt.FH2FlySafetyNoLandingZoneManualSave=\"fh2_fly_safety_nolandingzone_manual_save\",tt.FH2FlySafetyNoLandingZoneAutoClick=\"fh2_fly_safety_nolandingzone_auto_click\",tt.Fh2RelaySignalListEnter=\"fh2_relay_signal_list_enter\",tt.Fh2RelaySignalConnectCompleted=\"fh2_relay_signal_connect_completed\",tt.Fh2AlgorithmLoadUpdate=\"fh2_ota_model\",tt.Fh2RelaySetSignalConnectCompleted=\"fh2_relay_set_signal_connect_completed\",tt.Fh2DeviceNetworkSpeedTestEnter=\"fh2_device_network_speed_test_enter\",tt.Fh2DeviceNetworkSpeedTestResult=\"fh2_device_network_speed_test_result\",tt.Fh2AutomatedWorkflowEnter=\"fh2_automated_workflow_enter\",tt.Fh2AutomatedWorkflowModeChoose=\"fh2_automated_workflow_mode_choose\",tt.Fh2AutomatedWorkflowSetDetailEnter=\"fh2_automated_workflow_set_detail_enter\",tt.Fh2AutomatedWorkflowSetDetailSave=\"fh2_automated_workflow_set_detail_save\",tt.Fh2AutomatedWorkflowSetDetailCancel=\"fh2_automated_workflow_set_detail_cancel\",tt.Fh2AutomatedWorkflowSetDetailPreview=\"fh2_automated_workflow_set_detail_preview\",tt.Fh2AutomatedWorkflowSwitch=\"fh2_automated_workflow_switch\",tt.Fh2AutomatedWorkflowSwitchResult=\"fh2_automated_workflow_switch_result\",tt.Fh2AutomatedWorkflowLogClick=\"fh2_automated_workflow_log_click\",(tn=sG||(sG={})).LiveError=\"error_live_streaming\",tn.JoinChannel=\"join_live_channel\",tn.FirstScreenDuration=\"first_screen_loading_duration\",tn.Freeze=\"live_streaming_freeze_rate\",tn.FrameRate=\"live_streaming_frame_rate\",tn.BadNetwork=\"live_streaming_bad_network\",tn.BlackScreen=\"live_streaming_abnormal_black_screen\",tn.Latency=\"live_streaming_latency\",tn.LiveAutoRefresh=\"fh2_live_auto_refresh\",tn.EndToEndDelay=\"fh2_cockpit_end_to_end_delay\",tn.EndToEndDelayPreProd=\"fh2_cockpit_end_to_end_delay_pre_prod\",(ti=sH||(sH={})).EnableAICheck=\"fh2_cmd_flight_enable_ai_check\",ti.EnableSmartTrack=\"fh2_cmd_flight_enable_smart_track\",ti.StartSmartTrack=\"fh2_cmd_flight_start_smart_track\",ti.SmartTrackLost=\"fh2_cmd_flight_spz_lost\",(to=sB||(sB={})).SubmitAppraiseScore=\"fh2_cmd_flight_ai_vlm_feedback_submit\",to.UserIdentificationResult=\"fh2_cmd_flight_ai_vlm_feedback_click\",to.EnableAIVlmClick=\"fh2_cmd_flight_enable_ai_vlm\",to.DisableAIVlmClick=\"fh2_cmd_flight_disable_ai_vlm\",to.StartSearchAIVlm=\"fh2_cmd_flight_start_search_ai_vlm\",to.StopSearchAIVlm=\"fh2_cmd_flight_stop_search_ai_vlm\",(ts=sV||(sV={}))[ts.OnlyAI=0]=\"OnlyAI\",ts[ts.OnlySPZ=1]=\"OnlySPZ\",ts[ts.BothAISPZ=2]=\"BothAISPZ\",(tl=sU||(sU={}))[tl.RecommendedTarget=0]=\"RecommendedTarget\",tl[tl.ShiftBoxSelectionTarget=1]=\"ShiftBoxSelectionTarget\",(td=sK||(sK={}))[td.Agora=0]=\"Agora\",td[td.Volc=1]=\"Volc\",(tc=sW||(sW={}))[tc.Up=0]=\"Up\",tc[tc.Down=1]=\"Down\",(tu=sZ||(sZ={}))[tu.UnPublish=0]=\"UnPublish\",tu[tu.Disconnect=1]=\"Disconnect\",(tp=sY||(sY={}))[tp.UnKnow=-1]=\"UnKnow\",tp[tp.Bad=0]=\"Bad\",tp[tp.Poor=1]=\"Poor\",tp[tp.Good=2]=\"Good\",tp[tp.Excellent=3]=\"Excellent\",(tm=sQ||(sQ={}))[tm.Success=0]=\"Success\",tm[tm.Fail=1]=\"Fail\",tm[tm.Other=2]=\"Other\",(th=s$||(s$={}))[th.NoTask=0]=\"NoTask\",th[th.CommandFlight=1]=\"CommandFlight\",th[th.NormalTask=2]=\"NormalTask\",th[th.AToBTask=3]=\"AToBTask\",th[th.Rc=4]=\"Rc\",(tg=sX||(sX={}))[tg.Wide=0]=\"Wide\",tg[tg.Zoom=1]=\"Zoom\",tg[tg.Ir=2]=\"Ir\",tg[tg.Unknown=3]=\"Unknown\",(tf=s0||(s0={}))[tf.RJPEG=0]=\"RJPEG\",tf[tf.DLT664=1]=\"DLT664\",(t_=s1||(s1={}))[t_.InDock=0]=\"InDock\",t_[t_.InSky=1]=\"InSky\",(tb=s2||(s2={}))[tb.NoSupport=0]=\"NoSupport\",tb[tb.Open=1]=\"Open\",tb[tb.Close=2]=\"Close\",(tk=s3||(s3={}))[tk.Close=0]=\"Close\",tk[tk.Open=1]=\"Open\",(tv=s4||(s4={}))[tv.AllReset=0]=\"AllReset\",tv[tv.YawReset=1]=\"YawReset\",tv[tv.DownYawReset=2]=\"DownYawReset\",tv[tv.DownReset=3]=\"DownReset\",(tz=s5||(s5={}))[tz.Manual=0]=\"Manual\",tz[tz.Auto=1]=\"Auto\",(tw=s6||(s6={}))[tw.TakePhoto=0]=\"TakePhoto\",tw[tw.Record=1]=\"Record\",(ty=s9||(s9={}))[ty.Success=0]=\"Success\",(tS=s8||(s8={}))[tS.Default=0]=\"Default\",tS[tS.LowBatteryReturn=1]=\"LowBatteryReturn\",tS[tS.LowBatteryLanding=2]=\"LowBatteryLanding\",(tj=s7||(s7={}))[tj.DjiNfzLimit=0]=\"DjiNfzLimit\",tj[tj.DjiHeightLimit=1]=\"DjiHeightLimit\",tj[tj.DjiAuthorization=2]=\"DjiAuthorization\",tj[tj.CustomArea=3]=\"CustomArea\",tj[tj.DroneDisLimit=4]=\"DroneDisLimit\",tj[tj.RadiusTooLarge=5]=\"RadiusTooLarge\",(tD=le||(le={}))[tD.unKnown=-1]=\"unKnown\",tD[tD.pointFromPin=0]=\"pointFromPin\",tD[tD.pointFromMap=1]=\"pointFromMap\",(tI=la||(la={}))[tI.windowOfDevice=0]=\"windowOfDevice\",tI[tI.fullScreen=1]=\"fullScreen\",tI[tI.cockPit=2]=\"cockPit\",tI[tI.orgManage=3]=\"orgManage\",(tA=lr||(lr={}))[tA.Mouse=0]=\"Mouse\",tA[tA.Keyboard=1]=\"Keyboard\",(tC=lt||(lt={}))[tC.Connect=0]=\"Connect\",tC[tC.Reconnect=1]=\"Reconnect\",(tx=ln||(ln={}))[tx.PsdkMainPanel=0]=\"PsdkMainPanel\",tx[tx.PsdkMainPanelFunction=1]=\"PsdkMainPanelFunction\",tx[tx.PsdkMainPanelSettings=2]=\"PsdkMainPanelSettings\",tx[tx.PsdkMainPanelSettingsFunction=3]=\"PsdkMainPanelSettingsFunction\",(tM=li||(li={}))[tM.RealtimeSpeaker=0]=\"RealtimeSpeaker\",tM[tM.FileSpeaker=1]=\"FileSpeaker\",tM[tM.Searchlight=2]=\"Searchlight\",(tE=lo||(lo={}))[tE.Record=0]=\"Record\",tE[tE.Tts=1]=\"Tts\",tE[tE.RemoteRecord=2]=\"RemoteRecord\",tE[tE.Realtime=3]=\"Realtime\",(tP=ls||(ls={}))[tP.CreateRecord=0]=\"CreateRecord\",tP[tP.CreateTts=1]=\"CreateTts\",tP[tP.Import=2]=\"Import\",(tT=ll||(ll={}))[tT.Male=0]=\"Male\",tT[tT.Female=1]=\"Female\",(tR=ld||(ld={}))[tR.LandingCancel=0]=\"LandingCancel\",tR[tR.LandingConfirm=1]=\"LandingConfirm\",(tF=lc||(lc={}))[tF.LandingDoubleConfirm=0]=\"LandingDoubleConfirm\",tF[tF.LandingDoubleCancel=1]=\"LandingDoubleCancel\",(tL=lu||(lu={}))[tL.OPEN=0]=\"OPEN\",tL[tL.CLOSE=1]=\"CLOSE\",(tN=lp||(lp={}))[tN.quick=0]=\"quick\",tN[tN.checkbox=1]=\"checkbox\",(tJ=lm||(lm={}))[tJ.open=0]=\"open\",tJ[tJ.close=1]=\"close\",(tO=lh||(lh={}))[tO.base=1]=\"base\",tO[tO.traffic=2]=\"traffic\",tO[tO.public=3]=\"public\",tO[tO.food=4]=\"food\",tO[tO.house=5]=\"house\",tO[tO.financial=6]=\"financial\",(tq=lg||(lg={}))[tq.realistic=1]=\"realistic\",tq[tq.line=2]=\"line\",(tG=lf||(lf={}))[tG.close=0]=\"close\",tG[tG.open=1]=\"open\",(tH=l_||(l_={}))[tH.close=0]=\"close\",tH[tH.open=1]=\"open\",(tB=lb||(lb={}))[tB.pin=1]=\"pin\",tB[tB.line=2]=\"line\",tB[tB.area=3]=\"area\",(tV=lk||(lk={}))[tV.close=0]=\"close\",tV[tV.open=1]=\"open\",(tU=lv||(lv={}))[tU.current=0]=\"current\",tU[tU.wide=1]=\"wide\",tU[tU.zoom=2]=\"zoom\",tU[tU.ir=3]=\"ir\",tU[tU.vision=4]=\"vision\",(tK=lz||(lz={}))[tK.OPEN=0]=\"OPEN\",tK[tK.CLOSE=1]=\"CLOSE\",(tW=lw||(lw={})).FhAnalyzerClick=\"fh2_analyzer_click\",tW.FhAnalyzerItemCalculate=\"fh2_analyzer_item_calculate\",tW.FhAnalyzerReportGenerate=\"fh2_analyzer_report_generate\",tW.FhAnalyzerReportConfig=\"fh2_analyzer_report_config\",tW.FhAnalyzerMediaTimeline=\"fh2_analyzer_media_timeline\",tW.FhAnalyzerMediaTimelineTypeFilter=\"fh2_analyzer_media_timeline_type_filter\",tW.FhAnalyzerMediaTimelineSwitch=\"fh2_analyzer_media_timeline_switch\",tW.FhAnalyzerMediaTimelineFileTime=\"fh2_analyzer_media_timeline_file_time\",tW.FhAnalyzerModelTimelineSwitch=\"fh2_analyzer_model_timeline_switch\",tW.FhMediaDesignFileCalibrate=\"fh2_media_designfile_calibrate\",tW.FhSystemCoordinateSystem=\"fh2_system_coordinate_system\",tW.FhSystemCoordinateSystemStart=\"fh2_system_coordinate_system_start\",tW.FhSystemParameterConfigurationCalculate=\"fh2_system_parameter_configuration_calculate\",tW.FhSystemParameterConfigurationOutput=\"fh2_system_parameter_configuration_output\",tW.FhSystemParameterConfigurationApply=\"fh2_system_parameter_configuration_apply\",tW.FhConstructStart=\"fh2_construct_start\",tW.FhCloudGcpImport=\"fh2_cloud_gcp_import\",tW.FhLocalGcpImport=\"fh2_local_gcp_import\",tW.FhGcpManagementClick=\"fh2_gcp_management_click\",tW.FhAnalyzerShareIconClick=\"fh2_analyzer_share_icon_click\",tW.FhAnalyzerShareFuncOpen=\"fh2_analyzer_share_func_open\",tW.FhAnalyzerShareLinkCopy=\"fh2_analyzer_share_link_copy\",tW.FhAnalyzerSharePageOpen=\"fh2_analyzer_share_page_open\",(tZ=ly||(ly={}))[tZ.CLOSE=0]=\"CLOSE\",tZ[tZ.OPEN=1]=\"OPEN\",(tY=lS||(lS={}))[tY.NO=0]=\"NO\",tY[tY.YES=1]=\"YES\",(tQ=lj||(lj={}))[tQ.CoordinateSetting=0]=\"CoordinateSetting\",tQ[tQ.DesignMarkPoint=1]=\"DesignMarkPoint\",(t$=lD||(lD={}))[t$.FourParams=4]=\"FourParams\",t$[t$.SevenParams=7]=\"SevenParams\",(tX=lI||(lI={}))[tX.Common=0]=\"Common\",tX[tX.Custom=1]=\"Custom\",tX[tX.WithCoordinates=2]=\"WithCoordinates\",tX[tX.WithoutCoordinates=3]=\"WithoutCoordinates\",(t0=lA||(lA={}))[t0.Close=0]=\"Close\",t0[t0.Open=1]=\"Open\",(lC||(lC={})).FhStartConversation=\"fh2_ai_assistant_start_conversation\",(t1=lx||(lx={})).NoticeAction=\"fh2_automated_workflow_dfr_notice_action\",t1.LatterAction=\"fh2_automated_workflow_dfr_notice_latter_action\";let yL={key:0,class:\"desp\"},yN=(0,uh.aZ)({name:\"KeyBoardBlock\",props:{keyboardKey:{type:String,default:su.enter},theme:{type:String,default:\"light\"},type:{type:String,default:\"desp\"},width:{type:Number,default:50},height:{type:Number,default:20},iconSize:{type:Number,default:12},inDark:Boolean},setup(e,{emit:a}){let r=(0,uh.Fl)(()=>{var a;return a=e.keyboardKey,Object.values(sp).includes(a)});return{showContent:(0,uh.Fl)(()=>{let a=mG[e.keyboardKey];if(!a)return\"\";let t=e.type;return r.value&&(t=\"icon\"),a[t]}),isMouse:r}}}),yJ=(0,_S.default)(yN,[[\"render\",function(e,a,r,t,n,i){let o=(0,uh.up)(\"uranus-icon\");return e.isMouse?((0,uh.wg)(),(0,uh.j4)(o,{key:0,size:e.height,name:e.showContent+(\"dark\"===e.theme?\"_light\":\"\")},null,8,[\"size\",\"name\"])):((0,uh.wg)(),(0,uh.iD)(\"div\",{key:1,class:(0,uh.C_)([\"key-board-block\",[e.theme]]),style:(0,uh.j5)({width:e.width?e.width+\"px\":\"auto\",height:e.height?e.height+\"px\":\"auto\"})},[\"desp\"===e.type?((0,uh.wg)(),(0,uh.iD)(\"div\",yL,(0,uh.zw)(e.showContent),1)):((0,uh.wg)(),(0,uh.j4)(o,{key:1,class:\"icon\",size:e.iconSize,name:e.showContent,inline:\"\"},null,8,[\"size\",\"name\"]))],6))}],[\"__scopeId\",\"data-v-104485de\"]]),yO=[\"onClick\"],yq={class:\"pop-item-item\"},yG={class:\"pop-item-item\"},yH=(0,uh.aZ)({name:\"ExtraItem\",__name:\"ExtraItem\",props:{item:{},activeKey:{},activePop:{default:\"\"}},emits:[\"update:active-pop\"],setup(e,{emit:a}){let r=(0,uh.iH)(!1),t=(0,uh.Fl)(()=>e.item.key===e.activeKey||e.item.disabled&&e.item.disabledHighlight),n=(0,uh.Fl)(()=>({show:!!(e.item.tooltip&&\"string\"!=typeof e.item.tooltip),tooltip:e.item.tooltip})),i=(0,uh.Fl)(()=>e.item.type===sr.Activate||e.item.type===sr.ActivatePop||e.item.type===sr.ActivateDraw),o=(0,uh.Fl)(()=>(e.item.type===sr.Activate||e.item.type===sr.ActivatePop||e.item.type===sr.ActivateDraw)&&\"highlight\"===e.item.activeStyle),s=(0,uh.Fl)(()=>e.item?.popItems||[]),l=(0,uh.Fl)(()=>e.item.type===sr.ActivatePop?s.value.find(a=>a.key===e.activePop)?.icon||\"\":e.item.icon),d=(0,uh.Fl)(()=>{if(e.item.type!==sr.ActivatePop)return e.item.iconSize});function c(e){r.value=e}return(u,p)=>{let m=(0,uh.up)(\"i18n-t\"),h=(0,uh.up)(\"UranusIcon\"),g=(0,uh.up)(\"UranusTooltip\"),f=(0,uh.Q2)(\"element-hover\");return(0,uh.wy)(((0,uh.wg)(),(0,uh.iD)(\"div\",{class:(0,uh.C_)([\"map-extra-item map-action-container\",{activate:i.value,immediate:\"immediate\"===u.item.type,active:i.value&&t.value,disabled:u.item.disabled,\"highlight-activate\":o.value}])},[n.value.show?((0,uh.wg)(),(0,uh.j4)(g,{key:0,theme:\"light\",placement:\"left\"},{title:(0,uh.w5)(()=>[(0,uh.Wm)(m,{keypath:n.value.tooltip.title.text,tag:\"div\",class:\"tooltip-title\"},(0,uh.Nv)({_:2},[n.value.tooltip.title.click?{name:\"click\",fn:(0,uh.w5)(()=>[(0,uh.Wm)(yJ,{\"keyboard-key\":n.value.tooltip.title.click,width:20,type:\"icon\"},null,8,[\"keyboard-key\"])]),key:\"0\"}:void 0]),1032,[\"keypath\"]),((0,uh.wg)(!0),(0,uh.iD)(uh.HY,null,(0,uh.Ko)(n.value.tooltip.content,(e,a)=>((0,uh.wg)(),(0,uh.j4)(m,{key:a,keypath:e.text,tag:\"div\",class:\"tooltip-content\"},(0,uh.Nv)({_:2},[e.keyboard?{name:\"keyboard\",fn:(0,uh.w5)(()=>[(0,uh.Wm)(yJ,{\"keyboard-key\":e.keyboard,width:30},null,8,[\"keyboard-key\"])]),key:\"0\"}:void 0,e.click?{name:\"click\",fn:(0,uh.w5)(()=>[(0,uh.Wm)(yJ,{\"keyboard-key\":e.click,width:20,type:\"icon\"},null,8,[\"keyboard-key\"])]),key:\"1\"}:void 0]),1032,[\"keypath\"]))),128))]),default:(0,uh.w5)(()=>[(0,uh.Wm)(h,{name:l.value,size:d.value,class:\"map-action-icon\"},null,8,[\"name\",\"size\"])]),_:1})):u.item.tooltip&&\"\"!==u.item.tooltip?((0,uh.wg)(),(0,uh.j4)(g,{key:1,theme:\"light\",placement:\"left\",content:u.item.tooltip},{default:(0,uh.w5)(()=>[(0,uh.Wm)(h,{name:l.value,size:d.value,class:\"map-action-icon\"},null,8,[\"name\",\"size\"])]),_:1},8,[\"content\"])):\"add-route\"===u.item.key?((0,uh.wg)(),(0,uh.j4)(g,{key:2,theme:\"light\",placement:\"leftTop\"},{title:(0,uh.w5)(()=>[(0,uh.Wm)(m,{keypath:\"web.wayline.left_add_waypoint\",tag:\"div\",class:\"tooltip-title\"},{click:(0,uh.w5)(()=>[(0,uh.Wm)(yJ,{\"keyboard-key\":(0,uh.SU)(sp).left,width:20,type:\"icon\"},null,8,[\"keyboard-key\"])]),_:1}),(0,uh.Wm)(m,{keypath:\"web.wayline.left_add_before_waypoint\",tag:\"div\",class:\"tooltip-content\"},{ctrl:(0,uh.w5)(()=>[(0,uh.Wm)(yJ,{\"keyboard-key\":(0,uh.SU)(su).ctrl,width:30},null,8,[\"keyboard-key\"])]),click:(0,uh.w5)(()=>[(0,uh.Wm)(yJ,{\"keyboard-key\":(0,uh.SU)(sp).left,width:20,type:\"icon\"},null,8,[\"keyboard-key\"])]),_:1}),(0,uh.Wm)(m,{keypath:\"web.wayline.left_add_after_waypoint\",tag:\"div\",class:\"tooltip-content\"},{alt:(0,uh.w5)(()=>[(0,uh.Wm)(yJ,{\"keyboard-key\":(0,uh.SU)(su).alt,width:30},null,8,[\"keyboard-key\"])]),click:(0,uh.w5)(()=>[(0,uh.Wm)(yJ,{\"keyboard-key\":(0,uh.SU)(sp).left,width:20,type:\"icon\"},null,8,[\"keyboard-key\"])]),_:1})]),default:(0,uh.w5)(()=>[(0,uh.Wm)(h,{name:l.value,size:d.value,class:\"map-action-icon\"},null,8,[\"name\",\"size\"])]),_:1})):((0,uh.wg)(),(0,uh.j4)(h,{key:3,name:l.value,size:d.value,class:\"map-action-icon\"},null,8,[\"name\",\"size\"])),s.value.length>0?((0,uh.wg)(),(0,uh.j4)(uh.uT,{key:4,name:\"slide-fade\"},{default:(0,uh.w5)(()=>[(0,uh.wy)((0,uh._)(\"div\",{class:\"pop-item-picker\",style:(0,uh.j5)({top:t.value?\"-1px\":\"0px\"}),onClick:p[0]||(p[0]=(0,uh.iM)(()=>{},[\"stop\"]))},[((0,uh.wg)(!0),(0,uh.iD)(uh.HY,null,(0,uh.Ko)(s.value,r=>((0,uh.wg)(),(0,uh.iD)(\"div\",{key:r.icon,class:\"pop-item\",onClick:t=>{var n;return n=r.key,void(e.activePop!==n&&a(\"update:active-pop\",n))}},[r.key===(0,uh.SU)(c2.tT).NoLandingZone?((0,uh.wg)(),(0,uh.j4)(g,{key:0,theme:\"light\",placement:\"bottom\",class:\"no-landing-wrapper\",content:u.$t(\"web.zone_customer_zone_no_land_zone_tool_tip\")},{default:(0,uh.w5)(()=>[(0,uh.Wm)(h,{class:\"pop-item-item\",name:r.icon},null,8,[\"name\"]),(0,uh._)(\"span\",yq,(0,uh.zw)(r.label),1),(0,uh.wy)((0,uh.Wm)(h,{class:\"pop-item-item\",name:\"checkbox_active\",color:\"#1088F2\"},null,512),[[uh.F8,r.key===u.activePop]])]),_:2},1032,[\"content\"])):((0,uh.wg)(),(0,uh.iD)(uh.HY,{key:1},[(0,uh.Wm)(h,{class:\"pop-item-item\",name:r.icon},null,8,[\"name\"]),(0,uh._)(\"span\",yG,(0,uh.zw)(r.label),1),(0,uh.wy)((0,uh.Wm)(h,{class:\"pop-item-item\",name:\"checkbox_active\",color:\"#1088F2\"},null,512),[[uh.F8,r.key===u.activePop]])],64))],8,yO))),128))],4),[[uh.F8,r.value]])]),_:1})):(0,uh.kq)(\"\",!0)],2)),[[f,c,void 0,{pcOnly:!0}]])}}}),yB=(0,_S.default)(yH,[[\"__scopeId\",\"data-v-7c6e6186\"]]),yV={class:\"map-action-group\"},yU={class:\"guide-title\"},yK={class:\"img-container\"},yW=[\"src\"],yZ={class:\"button-container\"},yY=(0,uh.aZ)({name:\"MapExtraGroup\",__name:\"ExtraGroup\",props:{group:{}},setup(e){let a=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),r=(0,uh.iH)([]),t=a.operationActive;async function n(e){!e.disabled&&(e.type===sr.Activate||e.type===sr.ActivatePop||e.type===sr.ActivateDraw?await a.toggleActiveOperation(e.key):e.onClick?.(),window.$reportStatData&&window.$reportStatData?.({type:sq.FH2FlySafetyCustomFlightAreaClick}))}(0,uh.YP)(()=>e.group,e=>{Array.isArray(e)?r.value=e.filter(e=>!e.invisible):r.value=[e]},{immediate:!0});let i=a.operationPopActive;return(e,o)=>{let s=(0,uh.up)(\"UranusButton\"),l=(0,uh.up)(\"APopover\");return(0,uh.wg)(),(0,uh.iD)(\"div\",yV,[((0,uh.wg)(!0),(0,uh.iD)(uh.HY,null,(0,uh.Ko)(r.value,r=>{var o;return(0,uh.wg)(),(0,uh.j4)(l,{key:`icon-${r.key}`,\"overlay-class-name\":\"overlay-class-icon-guide-popover\",placement:\"leftBottom\",visible:(o=r,o.guideConfig?.visible||!1)},{content:(0,uh.w5)(()=>{var a,t;return[(0,uh._)(\"div\",yU,(0,uh.zw)((a=r,a.guideConfig?.title||\"\")),1),(0,uh._)(\"div\",yK,[(0,uh._)(\"img\",{class:\"img\",src:(t=r,t.guideConfig?.img||\"\")},null,8,yW)]),(0,uh._)(\"div\",yZ,[(0,uh.Wm)(s,{type:\"primary\",onClick:e=>{var a;return a=r,void(a.guideConfig?.onClose&&a.guideConfig.onClose())}},{default:(0,uh.w5)(()=>[(0,uh.Uk)((0,uh.zw)(e.$t(\"common.status.uesr_read\")),1)]),_:2},1032,[\"onClick\"])])]}),default:(0,uh.w5)(()=>[((0,uh.wg)(),(0,uh.j4)(yB,{key:`icon-${r.key}`,item:r,\"active-key\":(0,uh.SU)(t),\"active-pop\":(0,uh.SU)(i)[r.key],\"onUpdate:activePop\":e=>{var t,n;return t=r,n=e,void(a.operationPopActive.value={...a.operationPopActive.value,[t.key]:n},t.type===sr.ActivatePop&&t.onPopActiveChange?.(n))},onClick:e=>n(r)},null,8,[\"item\",\"active-key\",\"active-pop\",\"onUpdate:activePop\",\"onClick\"]))]),_:2},1032,[\"visible\"])}),128))])}}}),yQ=(0,_S.default)(yY,[[\"__scopeId\",\"data-v-1850fb6a\"]]),y$=(0,uh.aZ)({name:\"MapExtras\",__name:\"Extras\",props:{position:{}},setup(e){let a=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),r=a=>!a.invisible&&e.position===(a.position||\"rightTop\"),t=(0,uh.Fl)(()=>{let e=[];return a.operations.value.forEach(a=>{if(Array.isArray(a)){let t=a.filter(e=>r(e));e.push(t)}else r(a)&&e.push(a)}),e});return(e,a)=>((0,uh.wg)(),(0,uh.iD)(\"div\",{class:(0,uh.C_)(t.value.length?\"map-extras\":\"map-extras-empty\")},[((0,uh.wg)(!0),(0,uh.iD)(uh.HY,null,(0,uh.Ko)(t.value,(e,a)=>((0,uh.wg)(),(0,uh.j4)(yQ,{key:a,group:e},null,8,[\"group\"]))),128))],2))}}),yX=(0,_S.default)(y$,[[\"__scopeId\",\"data-v-d78d1290\"]]),y0={class:\"map-navigation\"},y1=(0,uh.aZ)({name:\"MapNavigation\",__name:\"index\",setup(e){let{navigationWidget:a,centerWidget:r,airSenseWidget:t}=(0,uh.SU)((0,uh.f3)(\"cesiumManager\"));return(e,n)=>((0,uh.wg)(),(0,uh.iD)(\"div\",y0,[(0,uh.SU)(a).compassVisible?((0,uh.wg)(),(0,uh.j4)(wt,{key:0,class:\"nav-item\"})):(0,uh.kq)(\"\",!0),(0,uh.SU)(a).frustumVisible?((0,uh.wg)(),(0,uh.j4)(yT,{key:1,class:\"nav-item map-action-container center\"})):(0,uh.kq)(\"\",!0),(0,uh.SU)(a).flySafeVisible?((0,uh.wg)(),(0,uh.j4)(yo,{key:2,class:\"nav-item map-action-container center\",\"unlock-license-setting-label-visible\":(0,uh.SU)(a).unlockLicenseSettingLabelVisible,\"custom-area-visible\":(0,uh.SU)(a).customAreaVisible},null,8,[\"unlock-license-setting-label-visible\",\"custom-area-visible\"])):(0,uh.kq)(\"\",!0),(0,uh.SU)(t).visible?((0,uh.wg)(),(0,uh.j4)(yE,{key:3,class:\"nav-item map-action-container center\"})):(0,uh.kq)(\"\",!0),(0,uh.SU)(r).visible?((0,uh.wg)(),(0,uh.j4)(yF,{key:4,class:\"nav-item map-action-container center\"})):(0,uh.kq)(\"\",!0),(0,uh.Wm)(yX,{position:\"rightBottom\"}),(0,uh.SU)(a).zoomVisible?((0,uh.wg)(),(0,uh.j4)(wl,{key:5,class:\"nav-item\"})):(0,uh.kq)(\"\",!0),(0,uh.SU)(a).switchVisible?((0,uh.wg)(),(0,uh.j4)(wL,{key:6,class:\"nav-item\"})):(0,uh.kq)(\"\",!0)]))}}),y2={key:0,class:\"map-legend\"},y3={class:\"label\"},y4=(0,uh.aZ)({name:\"ScaleLegend\",__name:\"ScaleLegend\",setup(e){let a=v0(),r=(0,uh.Fl)(()=>a.measure_units_system||t5.Metric),{distanceLabel:t,barWidth:n}=function(e,a){let r=(0,uh.qj)({distanceLabel:\"\",barWidth:0}),t=new uf.EllipsoidGeodesic,n={};function i(){let e,r,t,n,i;return t5.Imperial===a.value?(n=[2,5,10,20,50,100,200,500,1e3,2e3,4e3,5280,10560,26400,52800,105600,264e3,528e3,1056e3,264e4],r=\"mi\",e=\"ft\",t=5280,i=3.280839895):(n=[1,2,3,5,10,20,30,50,100,200,300,500,1e3,2e3,3e3,5e3,1e4,2e4,3e4,5e4,1e5,2e5,3e5,5e5,1e6,2e6,3e6,5e6,1e7,2e7,3e7,5e7],r=\"km\",e=\"m\",t=1e3,i=1),{distances:n,unitLabel:e,unitBigLabel:r,dividing:t,oneMeter:i}}function o(){let a;let i=e.scene.canvas.clientWidth,o=e.scene.canvas.clientHeight,s=p6(e,new uf.Cartesian2(i/2|0,o/2)),l=p6(e,new uf.Cartesian2(1+i/2|0,o/2));if(void 0===s||void 0===l){r.barWidth=0,r.distanceLabel=\"\";return}let d=uf.Cartographic.fromCartesian(s),c=uf.Cartographic.fromCartesian(l);t.setEndPoints(d,c);let u=t.surfaceDistance*n.oneMeter;for(let e=n.distances.length-1;void 0===a&&e>=0;--e)n.distances[e]/u<100&&(a=n.distances[e]);if(void 0!==a){let e=\"\";e=a>=n.dividing?`${(a/n.dividing).toString()} ${n.unitBigLabel}`:`${a.toString()} ${n.unitLabel}`,r.barWidth=a/u|0,r.distanceLabel=e}else r.barWidth=0,r.distanceLabel=\"\"}n=i();let s=(0,lL.throttle)(()=>{if(!e.isDestroyed())o()},300);return(0,uh.bv)(()=>{e.scene.postRender.addEventListener(s)}),(0,uh.SK)(()=>{e.scene.postRender.removeEventListener(s)}),(0,uh.YP)(a,e=>{e&&(n=i(),o())}),(0,uh.BK)(r)}((0,uh.SU)((0,uh.f3)(\"cesiumManager\")).viewer,r);return(e,a)=>(0,uh.SU)(t)&&(0,uh.SU)(n)?((0,uh.wg)(),(0,uh.iD)(\"div\",y2,[(0,uh._)(\"div\",y3,(0,uh.zw)((0,uh.SU)(t)),1),(0,uh._)(\"span\",{class:\"mark\",style:(0,uh.j5)({width:`${(0,uh.SU)(n)}px`})},null,4)])):(0,uh.kq)(\"\",!0)}}),y5=(0,_S.default)(y4,[[\"__scopeId\",\"data-v-7bf86a5f\"]]);var y6=r(\"87146\");let y9={class:\"map-annotation\"},y8={class:\"anno-item asl\"},y7={class:\"anno-item hae\"},Se={class:\"anno-item\"},Sa=(0,uh.aZ)({name:\"Annotation\",__name:\"Annotation\",setup(e){let{height:a,asl:r}=function(e){let a=e.viewer,r=a.scene,t=r.canvas,n=(0,uh.qj)({x:t.clientWidth/2,y:t.clientHeight/2}),i=(0,uh.Fl)(()=>new uf.Cartesian2(n.x,n.y)),o=(0,uh.qj)({latitude:\"\",longitude:\"\",height:null,asl:null});async function s(){if(e.viewer.isDestroyed()||e.screenSpaceCameraController.onMotion)return;let a=await e.picker.pickPositionAsync(i.value);if(a){let e=r.globe.ellipsoid.cartesianToCartographic(a),t=uf.Math.toDegrees(e.latitude),n=uf.Math.toDegrees(e.longitude);o.latitude=uI(t,\"lat\"),o.longitude=uI(n,\"long\"),r.camera.positionCartographic.height<12e5?(o.height=uA(e.height),o.asl=uA((0,y6.ellipsoidToEgm96)(t,n,e.height))):(o.height=null,o.asl=null)}}let l=(0,lL.throttle)(()=>{if(!a.isDestroyed())s()},100);(0,uh.YP)(i,l);let d=new uf.ScreenSpaceEventHandler(t);return(0,uh.bv)(()=>{!pS()&&d.setInputAction(e=>{n.x=e.endPosition.x,n.y=e.endPosition.y},uf.ScreenSpaceEventType.MOUSE_MOVE),r.preUpdate.addEventListener(l)}),(0,uh.SK)(()=>{!pS()&&d.removeInputAction(uf.ScreenSpaceEventType.MOUSE_MOVE),r.preUpdate.removeEventListener(l)}),(0,uh.BK)(o)}((0,uh.SU)((0,uh.f3)(\"cesiumManager\"))),t=v0(),n=(0,uh.iH)(\"--\"),i=(0,uh.iH)(\"--\");(0,uh.YP)(r,e=>{if((0,lL.isNil)(e))return\"--\";let a=uw(e,t8.Length,t.measure_units_system,!1,t9.round);n.value=a.text}),(0,uh.YP)(a,e=>{if((0,lL.isNil)(e))return\"--\";let r=uw(Number(a.value),t8.Length,t.measure_units_system,!1,t9.round);i.value=r.text});let o=pS();return(e,a)=>{let r=(0,uh.up)(\"UranusIcon\");return(0,uh.wg)(),(0,uh.iD)(\"div\",y9,[(0,uh.SU)(o)?((0,uh.wg)(),(0,uh.j4)(r,{key:0,class:\"anno-item center-icon\",name:\"map_center_pad2\"})):(0,uh.kq)(\"\",!0),(0,uh._)(\"span\",y8,\"ASL: \"+(0,uh.zw)(n.value),1),(0,uh._)(\"span\",y7,\"HAE: \"+(0,uh.zw)(i.value),1),(0,uh._)(\"span\",Se,[(0,uh.Wm)(r,{name:\"wgs\"}),(0,uh.Uk)(\" WGS 84 \")])])}}}),Sr=(0,_S.default)(Sa,[[\"__scopeId\",\"data-v-cd773510\"]]);(t2=lM||(lM={})).DISK_APP=\"disk-app\",t2.USER_CENTER_APP=\"user-center-app\",t2.MAP_APP=\"map-app\",t2.DIST_APP=\"dist-app\",t2.ORGANIZATION_MANAGER_APP=\"organization-manager-app\",t2.PLAN_APP=\"plan-app\",t2.PROJECT_APP=\"project-app\",t2.PROJECT_LIST_APP=\"project-list-app\",t2.REAL_TIME_APP=\"real-time-app\",t2.WAYLINE_APP=\"wayline-app\",t2.SHARE_RESOURCES_APP=\"share-resources-app\",t2.COCKPIT_APP=\"cockpit-app\",t2.AEC_MANAGER=\"aec-manager\",t2.AUTO_WORKFLOW_APP=\"auto-workflow-app\",t2.DASHBOARD_APP=\"dashboard-app\",t2.LIVE_APP=\"live-app\",t2.MAIN_APP=\"main-app\",t2.CESIUM_APP=\"Cesium\",t2.UPLOAD_MASTER=\"upload-master\",t2.CHAT_APP=\"chat-app\",t2.AEC_APP=\"aec-app\",t2.URANUS_FTS=\"uranus-fts\",t2.MESSAGE_APP=\"message-app\";let St=Date.now(),Sn=`?__NO_CACHE_TIME_STAMP__=${St}`,Si={[lM.DISK_APP]:{name:\"disk-app\",entry:`/disk-app/index.html${Sn}`,container:\"#disk-app-container\"},[lM.USER_CENTER_APP]:{name:\"user-center-app\",entry:`/user-center-app/index.html${Sn}`,container:\"#user-center-app-container\"},[lM.MAP_APP]:{name:\"map-app\",entry:`/map-app/index.html${Sn}`,container:\"#map-app-container\"},[lM.DIST_APP]:{name:\"dist-app\",entry:`/dist-app/index.html${Sn}`,container:\"#dist-app-container\"},[lM.ORGANIZATION_MANAGER_APP]:{name:\"organization-manager-app\",entry:`/organization-manager-app/index.html${Sn}`,container:\"#organization-manager-app-container\"},[lM.PLAN_APP]:{name:\"plan-app\",entry:`/plan-app/index.html${Sn}`,container:\"#plan-app-container\"},[lM.PROJECT_APP]:{name:\"project-app\",entry:`/project-app/index.html${Sn}`,container:\"#project-app-container\"},[lM.PROJECT_LIST_APP]:{name:\"project-list-app\",entry:`/project-list-app/index.html${Sn}`,container:\"#project-list-app-container\"},[lM.REAL_TIME_APP]:{name:\"real-time-app\",entry:`/real-time-app/index.html${Sn}`,container:\"#real-time-app-container\"},[lM.WAYLINE_APP]:{name:\"wayline-app\",entry:`/wayline-app/index.html${Sn}`,container:\"#wayline-app-container\"},[lM.SHARE_RESOURCES_APP]:{name:\"share-resources-app\",entry:`/share-resources-app/index.html${Sn}`,container:\"#share-resources-app-container\"},[lM.COCKPIT_APP]:{name:\"cockpit-app\",entry:`/cockpit-app/index.html${Sn}`,container:\"#cockpit-app-container\"},[lM.AEC_MANAGER]:{name:\"aec-manage\",entry:\"/aec-app/manager.html\",container:\"#aec-manager-container\"},[lM.AUTO_WORKFLOW_APP]:{name:\"auto-workflow-app\",entry:`/auto-workflow-app/index.html${Sn}`,container:\"#auto-workflow-app-container\"},[lM.DASHBOARD_APP]:{name:\"dashboard-app\",entry:`/dashboard-app/index.html${Sn}`,container:\"#dashboard-container\"},[lM.MESSAGE_APP]:{name:\"message-app\",entry:`/message-app/index.html${Sn}`,container:\"#message-app-container\"}},So={class:\"circular-progress\"},Ss=[\"stroke-dasharray\",\"stroke-dashoffset\"],Sl=(0,uh.aZ)({name:\"CircularProgress\",__name:\"CircularProgress\",props:{percent:{default:100}},setup(e){let a=12*Math.PI,r=(0,uh.Fl)(()=>a*(1-e.percent/100));return(e,t)=>((0,uh.wg)(),(0,uh.iD)(\"svg\",So,[(0,uh._)(\"circle\",{class:\"circular-progress-inner\",\"stroke-width\":\"3\",\"stroke-dasharray\":`${a} ${a}`,\"stroke-dashoffset\":r.value,fill:\"transparent\",r:6,cx:\"8\",cy:\"8\"},null,8,Ss)]))}}),Sd=(0,_S.default)(Sl,[[\"__scopeId\",\"data-v-2a341716\"]]),Sc={class:\"map-loading\"},Su={class:\"label\"},Sp=(0,uh.aZ)({name:\"MapLoading\",__name:\"MapLoading\",setup(e){let a=(0,uh.FN)().proxy,r=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),t=!1,n=!1,i=[Si[lM.PROJECT_APP],Si[lM.REAL_TIME_APP]],o=[Si[lM.PROJECT_LIST_APP],Si[lM.DISK_APP],Si[lM.PLAN_APP]],{percent:s}=function(e){let a=(0,uh.iH)(100),r=(0,lL.throttle)(()=>{if(e.viewer.isDestroyed())return;let r=i.value,s=o.value;e.globeShow&&(r+=t.value,s+=n.value),a.value=r>0?Math.round(s/r*100):0},500),{totalTileCount:t,loadedTileCount:n}=function(e,a){let r=(0,uh.iH)(0),t=0;function n(n){n>t&&(r.value=n),t=n,i.value=r.value-t,!e.viewer.scene.globe.show&&(r.value=0),a()}(0,uh.bv)(()=>{e&&e.viewer.scene.globe.tileLoadProgressEvent.addEventListener(n)}),(0,uh.SK)(()=>{e&&e.viewer.scene.globe.tileLoadProgressEvent.removeEventListener(n)});let i=(0,uh.iH)(0);return{totalTileCount:r,loadedTileCount:i}}(e,r),{totalTileCount:i,loadedTileCount:o}=function(e,a){let r={},t={},n={};function i(e,a){\"add\"===a?o([e]):\"delete\"===a&&l(e)}function o(e){e.forEach(e=>{let a=e.id;if(!n[a]&&e.loadProgress){r[a]=0,t[a]=0;let i=0;n[a]=e.loadProgress.addEventListener(()=>{let{numberOfAttemptedRequests:n,numberOfPendingRequests:o,numberOfTilesProcessing:s}=e.statistics,l=i;if((i=n)<10&&l>10)return;let d=n+o+s;d>t[a]&&(r[a]=d),t[a]=d,u()}),u()}})}function s(e){n[e]?.(),delete r[e],delete t[e],u()}function l(e){e?s(e.id):Object.keys(n).forEach(s)}(0,uh.bv)(()=>{e&&(o(e.elements.getTilesets()),e.elements.addListener(\"tilesetUpdate\",i))}),(0,uh.SK)(()=>{e&&(l(),e.elements.removeListener(\"tilesetUpdate\",i))});let d=(0,uh.iH)(0),c=(0,uh.iH)(0);function u(){d.value=Object.values(r).reduce((e,a)=>e+a,0),c.value=d.value-Object.values(t).reduce((e,a)=>e+a,0),a()}return{totalTileCount:d,loadedTileCount:c}}(e,r);return{percent:a}}(r),l=(0,uh.YP)(s,e=>{if(100===e){let e=[];if(location.pathname.includes(\"/project-list\")&&!t&&(t=!0,e=i),location.pathname.includes(\"/project/\")&&!n&&(n=!0,e=o),0===e.length)return;a.$pager?.main.next({from:\"map-app\",label:\"prefetch-micro-app\",data:e})}t&&n&&l()});return(e,a)=>((0,uh.wg)(),(0,uh.iD)(\"span\",Sc,[(0,uh.Wm)(Sd,{percent:(0,uh.SU)(s)},null,8,[\"percent\"]),(0,uh._)(\"span\",Su,(0,uh.zw)((0,uh.SU)(s))+\"%\",1)]))}}),Sm=(0,_S.default)(Sp,[[\"__scopeId\",\"data-v-312494c0\"]]),Sh={class:\"map-dsm-tips\"},Sg={class:\"title\"},Sf={class:\"tips-button-container\"},S_=(0,uh.aZ)({name:\"MapDsmTips\",__name:\"MapDsmTips\",props:{tipsShow:{type:Boolean,default:!1}},setup(e,{expose:a}){let r=(0,uh.iH)(!1),t=(0,uh.iH)(!1);function n(){r.value=!1,t.value=!0}function i(){!r.value&&(r.value=!0)}function o(){t.value&&(r.value=!1)}let s=(0,uh.Fl)(()=>e.tipsShow&&r.value);return a({refresh:function(){if(!e.tipsShow)return;let a=r.value;r.value=!1,r.value=a}}),(0,uh.bv)(()=>{setTimeout(()=>{r.value=!0})}),(e,a)=>{let r=(0,uh.up)(\"UranusButton\"),t=(0,uh.up)(\"uranus-icon\"),l=(0,uh.up)(\"APopover\");return(0,uh.wg)(),(0,uh.iD)(\"div\",Sh,[(0,uh.Wm)(l,{\"overlay-class-name\":\"overlay-class-dsm-tips-popover index\",placement:\"topRight\",\"arrow-point-at-center\":!0,trigger:\"hover\",visible:s.value},{content:(0,uh.w5)(()=>[(0,uh._)(\"div\",Sg,(0,uh.zw)(e.$t(\"web.p_map.no_dsm_tips\")),1),(0,uh._)(\"div\",Sf,[(0,uh.Wm)(r,{type:\"primary\",onClick:n},{default:(0,uh.w5)(()=>[(0,uh.Uk)((0,uh.zw)(e.$t(\"common.status.uesr_read\")),1)]),_:1})])]),default:(0,uh.w5)(()=>[(0,uh.Wm)(r,{name:\"info\",size:16,class:\"map-dsm-tips-btn\",onMouseenter:i,onMouseleave:o},{default:(0,uh.w5)(()=>[(0,uh.Wm)(t,{name:\"info\",size:16,color:\"#FF9300\",class:\"icon\"})]),_:1})]),_:1},8,[\"visible\"])])}}}),Sb=(0,_S.default)(S_,[[\"__scopeId\",\"data-v-63e96f9e\"]]),Sk={key:0,class:\"map-hotkey-tips\"},Sv=(0,uh.aZ)({name:\"HotKeyTips\",__name:\"HotkeyTips\",props:{dark:{type:Boolean}},setup(e){let a=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),r=(0,uh.Fl)(()=>a.hotkeys.value),t=(0,uh.Fl)(()=>Object.keys(r.value).length>0),n=pS();return(e,a)=>!(0,uh.SU)(n)&&t.value?((0,uh.wg)(),(0,uh.iD)(\"div\",Sk,[((0,uh.wg)(!0),(0,uh.iD)(uh.HY,null,(0,uh.Ko)(r.value,(a,r)=>((0,uh.wg)(),(0,uh.iD)(\"span\",{key:r,class:\"hotkey-tip-block\"},[(0,uh.Wm)(yJ,{\"keyboard-key\":r,theme:e.dark?\"dark\":\"light\",width:0},null,8,[\"keyboard-key\",\"theme\"]),(0,uh.Uk)(\" \"+(0,uh.zw)(a),1)]))),128))])):(0,uh.kq)(\"\",!0)}}),Sz=(0,_S.default)(Sv,[[\"__scopeId\",\"data-v-1fb58547\"]]),Sw=ux(\"uranus-tips\",{}),Sy={class:\"operation-tips\"},SS={class:\"fh2-operation-tips__content\"},Sj={class:\"section header\"};let SD=(s=()=>(0,uh._)(\"div\",null,null,-1),(0,uh.dD)(\"data-v-6cc7e8ca\"),s=s(),(0,uh.Cn)(),s),SI={class:\"section\"},SA={class:\"header\"},SC={key:0,class:\"section\"},Sx={class:\"header\"},SM=(0,uh.aZ)({name:\"OperationTips\",__name:\"OperationTips\",props:{dark:{type:Boolean}},setup(e){let a=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),r=(0,uh.Fl)(()=>a.hotKeyWidget.disableTravelBy.length>0),t=(0,uh.iH)(!Sw.mapKeyboardShow);function n(e=!t.value){t.value=e,!Sw.mapKeyboardShow&&!e&&(Sw.mapKeyboardShow=1)}let i=ff();return(e,a)=>{let o=(0,uh.up)(\"UranusIcon\"),s=(0,uh.up)(\"i18n-t\"),l=(0,uh.Q2)(\"t\");return(0,uh.wg)(),(0,uh.iD)(\"div\",Sy,[(0,uh.Wm)(o,{name:\"keyboard\",size:24,onClick:a[0]||(a[0]=e=>n())}),(0,uh.wy)((0,uh._)(\"div\",SS,[(0,uh._)(\"div\",Sj,[SD,(0,uh.wy)((0,uh._)(\"div\",null,null,512),[[l,\"web.map.hotkey_drag_map\"]]),(0,uh.wy)((0,uh._)(\"div\",null,null,512),[[l,\"web.map.hotkey_rotate_map\"]]),(0,uh.wy)((0,uh._)(\"div\",null,null,512),[[l,\"web.map.hotkey_scale_map\"]]),(0,uh.wy)((0,uh._)(\"div\",null,null,512),[[l,\"web.map.hotkey_look_map\"]]),(0,uh.wy)((0,uh._)(\"div\",null,null,512),[[l,\"web.map.hotkey_translate_map\"]])]),(0,uh._)(\"div\",SI,[(0,uh.wy)((0,uh._)(\"div\",SA,null,512),[[l,\"web.map.hotkey_mouse_operation\"]]),(0,uh._)(\"div\",null,[(0,uh.Wm)(o,{name:\"mouse_left_light\",size:24})]),(0,uh.Wm)(s,{keypath:\"web.map.hotkey_or_operation\",tag:\"div\"},{op1:(0,uh.w5)(()=>[(0,uh.Wm)(o,{name:\"mouse_middle_light\",size:24})]),op2:(0,uh.w5)(()=>[(0,uh.Wm)(yJ,{\"keyboard-key\":(0,uh.SU)(su).ctrl,theme:\"dark\",width:0,height:0},null,8,[\"keyboard-key\"]),(0,uh.Uk)(\" +\"),(0,uh.Wm)(o,{name:\"mouse_left_light\",size:24})]),_:1}),(0,uh.Wm)(s,{keypath:\"web.map.hotkey_or_operation\",tag:\"div\"},{op1:(0,uh.w5)(()=>[(0,uh.Wm)(o,{name:\"mouse_right_light\",size:24})]),op2:(0,uh.w5)(()=>[(0,uh.Wm)(o,{name:\"mouse_scroll_light\",size:24})]),_:1}),(0,uh._)(\"div\",null,[(0,uh.Wm)(yJ,{\"keyboard-key\":(0,uh.SU)(su).alt,theme:\"dark\",width:0,height:0},null,8,[\"keyboard-key\"]),(0,uh.Uk)(\" +\"),(0,uh.Wm)(o,{name:\"mouse_left_light\",size:24})]),(0,uh._)(\"div\",null,[(0,uh.Wm)(yJ,{\"keyboard-key\":(0,uh.SU)(su).shift,theme:\"dark\",width:0,height:0},null,8,[\"keyboard-key\"]),(0,uh.Uk)(\" +\"),(0,uh.Wm)(o,{name:\"mouse_left_light\",size:24})])]),r.value?(0,uh.kq)(\"\",!0):((0,uh.wg)(),(0,uh.iD)(\"div\",SC,[(0,uh.wy)((0,uh._)(\"div\",Sx,null,512),[[l,\"web.map.hotkey_keyboard_operation\"]]),(0,uh._)(\"div\",null,[(0,uh.Wm)(o,{name:\"keyboard_arrow\",height:38,size:62})]),(0,uh._)(\"div\",null,[(0,uh.SU)(i)?(0,uh.kq)(\"\",!0):((0,uh.wg)(),(0,uh.iD)(uh.HY,{key:0},[(0,uh.Wm)(yJ,{\"keyboard-key\":(0,uh.SU)(su).ctrl,theme:\"dark\",width:0,height:0},null,8,[\"keyboard-key\"]),(0,uh.Uk)(\" + \"),(0,uh.Wm)(o,{name:\"keyboard_arrow\",height:38,size:62})],64))]),(0,uh._)(\"div\",null,[(0,uh.Wm)(yJ,{\"keyboard-key\":(0,uh.SU)(su).minus,theme:\"dark\",width:24,height:24,\"icon-size\":20,type:\"icon\",style:{marginRight:\"2px\"}},null,8,[\"keyboard-key\"]),(0,uh.Wm)(yJ,{\"keyboard-key\":(0,uh.SU)(su).equal,theme:\"dark\",type:\"icon\",\"icon-size\":20,width:24,height:24},null,8,[\"keyboard-key\"])]),(0,uh._)(\"div\",null,[(0,uh.Wm)(yJ,{\"keyboard-key\":(0,uh.SU)(su).alt,theme:\"dark\",width:0,height:0},null,8,[\"keyboard-key\"]),(0,uh.Uk)(\" + \"),(0,uh.Wm)(o,{name:\"keyboard_arrow\",height:38,size:62})]),(0,uh._)(\"div\",null,[(0,uh.Wm)(yJ,{\"keyboard-key\":(0,uh.SU)(su).shift,theme:\"dark\",width:0,height:0},null,8,[\"keyboard-key\"]),(0,uh.Uk)(\" + \"),(0,uh.Wm)(o,{name:\"keyboard_arrow\",height:38,size:62})])])),(0,uh.Wm)(o,{class:\"close-icon\",size:16,name:\"close\",onClick:a[1]||(a[1]=e=>n(!1))})],512),[[uh.F8,t.value]])])}}}),SE=(0,_S.default)(SM,[[\"__scopeId\",\"data-v-6cc7e8ca\"]]);let SP=(l=()=>(0,uh._)(\"span\",{class:\"filled\"},null,-1),(0,uh.dD)(\"data-v-37a86fde\"),l=l(),(0,uh.Cn)(),l),ST=(0,uh.aZ)({name:\"Imprint\",__name:\"index\",props:{showDsmTips:{type:Boolean,default:!1}},setup(e,{expose:a}){let r=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),t=(0,uh.Fl)(()=>{let e=\"street\"!==r.baseMapProvider.mode.value;return\"\"!==r.theme.value?\"dark\"===r.theme.value:e}),{needCheckDsm:n}=r,i=(0,uh.Fl)(()=>e.showDsmTips&&n.value),o=(0,uh.iH)(null);return a({refreshDsmTips:function(){o.value?.refresh()}}),(e,a)=>((0,uh.wg)(),(0,uh.iD)(\"div\",{class:(0,uh.C_)([\"map-imprint\",{dark:t.value}])},[(0,uh.Wm)(SE,{dark:t.value},null,8,[\"dark\"]),(0,uh.Wm)(Sm),(0,uh.Wm)(Sz,{dark:t.value},null,8,[\"dark\"]),SP,(0,uh.Wm)(y5),(0,uh.SU)(g4)((0,uh.SU)(sI).MAP_TERRAIN_PRIVATE)?(0,uh.wy)(((0,uh.wg)(),(0,uh.j4)(Sb,{key:0,ref_key:\"mapDsmElRef\",ref:o,\"tips-show\":i.value},null,8,[\"tips-show\"])),[[uh.F8,i.value]]):(0,uh.kq)(\"\",!0),(0,uh.Wm)(Sr)],2))}}),SR=(0,_S.default)(ST,[[\"__scopeId\",\"data-v-37a86fde\"]]);var SF=r(\"6680\"),SL=r.n(SF);let SN={icon:\"location_point\",shapeType:1,type:\"position\"};async function SJ(e,a){let{centerPosition:r}=a,t=`${r.latitude},${r.longitude}`,n=await pi.get(\"/geo_resource/v1/proxy/map/place/v2/suggestion\",{params:{coord_type:1,ret_coordtype:\"gcj02ll\",output:\"json\",q:e,location:t},ignoreCodeJudgment:!0}),i=n?.data?.result;return Array.isArray(i)?i.filter(e=>e.name&&e.location).map(e=>{let a=SL().gcj02ToWgs84(e.location.lat,e.location.lng),r=e.address||`${e.city}${e.district}`||\"\";return{...SN,title:e.name,description:r,shapeData:{latitude:a.lat,longitude:a.lng}}}):[]}async function SO(e,a){return((await pi.get(function(e,a){let r=\"/geo_resource/v1/proxy/map/search/fuzzy/json\",t=new URLSearchParams;t.append(\"api-version\",\"1.0\"),t.append(\"query\",e),t.append(\"maxFuzzyLevel\",\"3\"),t.append(\"lon\",String(a.longitude)),t.append(\"lat\",String(a.latitude));let n=t.toString();return`${r}?${n}`}(e,a.centerPosition),{ignoreCodeJudgment:!0,ignoreGlobalErrorHandler:!0}))?.data).results.map(e=>{let a=\"\",r=\"\";if(\"POI\"===e.type)a=e.poi.name,r=e.address.freeformAddress;else{let[t,...n]=e.address.freeformAddress.split(\",\");a=t.trim(),r=n.map(e=>e.trim()).concat(e.address.country).join(\", \")}return{...SN,title:a,description:r,shapeData:{latitude:e.position.lat,longitude:e.position.lon}}})}function Sq(e,a,r){let{removeElement:t,updateElement:n}=um(r),i=(0,uh.iH)(null),o=!1;function s(){i.value&&(t(i.value),i.value=null)}return(0,uh.bv)(async()=>{var a;i.value=(a=await e())?(0,uh.Xl)(a):a,o&&s()}),(0,uh.Jd)(()=>{s(),o=!0}),(0,uh.m0)(()=>{i.value&&n(i.value,a())}),i}let SG={class:\"component-map-app-pin-shape\"},SH=(0,uh.aZ)({__name:\"MarkerShape\",props:{image:{},width:{default:48},height:{default:48},position:{},label:{},pointTopOffset:{default:-17}},setup(e){let{addBillboard:a,addLabel:r}=um(),t={category:se.position,clampToGround:!0,disableDepthTestDistance:Number.POSITIVE_INFINITY};return Sq(()=>a({...t,name:\"search-point\",pixelOffset:[0,e.pointTopOffset]}),()=>({width:e.width,height:e.height,image:e.image,position:e.position,removable:!1})),e.label&&Sq(()=>r({...t,style:\"FILL_AND_OUTLINE\",font:'600 14px \"Open Sans\", BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Helvetica, \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", SimSun, sans-serif',fillColor:\"#19BE6B\",outlineColor:\"#fff\",outlineWidth:4,pixelOffset:[0,-e.height/2-6+e.pointTopOffset]}),()=>({text:e.label,position:e.position})),(e,a)=>((0,uh.wg)(),(0,uh.iD)(\"div\",SG))}}),SB={class:\"map-component-search\"},SV=[\"id\",\"onClick\",\"onMouseenter\"],SU=(0,uh.aZ)({name:\"MapSearch\",__name:\"Search\",setup(e){var a;let r=kt.Z.Option,t=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),n=(0,uh.iH)(\"all\"),i=(0,uh.iH)(!1),o=(0,uh.iH)(\"\"),s=(0,uh.iH)(null),l=(0,uh.iH)([]),d=(0,uh.iH)(!1),c=(0,uh.iH)(0),u=(0,uh.iH)(null),p=(0,uh.iH)(!1),m=(0,uh.iH)(null);let{geoSearch:h}=(a=0,{geoSearch:function(e,a){if(g4(sI.MAP_SEARCH_PRIVATE))return function(e){let a=function(e){let a;let r=/^(\\d+)Â°(\\d+)'([\\d.]+)\"([NS]) (\\d+)Â°(\\d+)'([\\d.]+)\"([EW])$/,t=/^([\\d.-]+),\\s*([\\d.-]+)$/;function n(e,a,r,t){let n=Number.parseInt(e)+Number.parseInt(a)/60+Number.parseFloat(r)/3600;return(\"S\"===t||\"W\"===t)&&(n=-n),n}if(r.test(e)){let[,t,i,o,s,l,d,c,u]=e.match(r),p=n(t,i,o,s);a={latitude:p,longitude:n(l,d,c,u)}}else if(t.test(e)){let[,r,n]=e.match(t);a={latitude:Number.parseFloat(r),longitude:Number.parseFloat(n)}}else a=null;return function(e,a){let r=n(e,-90,90),t=n(a,-180,180);return r&&t;function n(e,a,r){return!(0,lL.isNil)(e)&&e>=a&&e<=r}}(a?.latitude,a?.longitude)?a:null}(e);return a?[{...SN,title:`${a.latitude},${a.longitude}`,shapeData:a}]:[]}(e);let r=window.CURRENT_BE_ENV_CONFIG.map_engine,t={centerPosition:a,language:uF()};return(\"g\"===r?SO:SJ)(e,t)}});function g(){return`${pk.global.t(\"web.map.search_placeholder_position\")}`}let f=(0,uh.iH)({key:\"position\",index:0,text:pk.global.t(\"web.map.search_type_position\"),placeholder:g(),singlePlaceholder:g4(sI.MAP_SEARCH_PRIVATE)?pk.global.t(\"web.priv_bypass_push.search_location_placeholder\"):void 0,onSearch:h,onItemClick(e){m.value={position:e.shapeData,label:e.title,image:\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDhweCIgaGVpZ2h0PSI0OHB4IiB2aWV3Qm94PSIwIDAgNDggNDgiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+MuWbvuaghy80OHB4L21hcCBwb2ludDwvdGl0bGU+CiAgICA8ZGVmcz4KICAgICAgICA8cGF0aCBkPSJNMjQuMzMzMzMzMyw4IEMzMS42OTA2NjY3LDggMzcuNjU4NjY2NywxMy45MzA2NjY3IDM3LjY2NjY2NjcsMjEuMjU2IEMzNy42NjE0OTgzLDI0Ljc3NTEzNDQgMzYuMjU0NjkyNywyOC4xNDcyNDU0IDMzLjc1NzMzMzMsMzAuNjI2NjY2NyBMMzMuNzU3MzMzMywzMC42MjY2NjY3IEwyNC4zMzMzMzMzLDQwIEwxNC45MDkzMzMzLDMwLjYyNjY2NjcgQzEyLjQ5MzMzMzMsMjguMjI5MzMzMyAxMSwyNC45MTczMzMzIDExLDIxLjI1NiBDMTEsMTMuOTI4IDE2Ljk2OCw4IDI0LjMzMzMzMzMsOCBaIE0yNC4zMywxMyBDMTkuOTExNzIyLDEzIDE2LjMzLDE2LjU4MTcyMiAxNi4zMywyMSBDMTYuMzMsMjUuNDE4Mjc4IDE5LjkxMTcyMiwyOSAyNC4zMywyOSBDMjguNzQ4Mjc4LDI5IDMyLjMzLDI1LjQxODI3OCAzMi4zMywyMSBDMzIuMzMsMTYuNTgxNzIyIDI4Ljc0ODI3OCwxMyAyNC4zMywxMyBaIiBpZD0icGF0aC0xIj48L3BhdGg+CiAgICAgICAgPGZpbHRlciB4PSItNDEuMiUiIHk9Ii0zNC40JSIgd2lkdGg9IjE4Mi41JSIgaGVpZ2h0PSIxNzMuOSUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0zIj4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjMiIG9wZXJhdG9yPSJkaWxhdGUiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dTcHJlYWRPdXRlcjEiPjwvZmVNb3JwaG9sb2d5PgogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIwIiBpbj0ic2hhZG93U3ByZWFkT3V0ZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMiIgaW49InNoYWRvd09mZnNldE91dGVyMSIgcmVzdWx0PSJzaGFkb3dCbHVyT3V0ZXIxIj48L2ZlR2F1c3NpYW5CbHVyPgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd0JsdXJPdXRlcjEiIGluMj0iU291cmNlQWxwaGEiIG9wZXJhdG9yPSJvdXQiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUNvbXBvc2l0ZT4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuMDk4MDM5MjE1NyAgIDAgMCAwIDAgMC43NDUwOTgwMzkgICAwIDAgMCAwIDAuNDE5NjA3ODQzICAwIDAgMCAxIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVDb2xvck1hdHJpeD4KICAgICAgICA8L2ZpbHRlcj4KICAgIDwvZGVmcz4KICAgIDxnIGlkPSIy5Zu+5qCHLzQ4cHgvbWFwLXBvaW50IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+CiAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgPC9tYXNrPgogICAgICAgIDxnIGlkPSLlvaLnirbnu5PlkIgiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDx1c2UgZmlsbD0iYmxhY2siIGZpbGwtb3BhY2l0eT0iMSIgZmlsdGVyPSJ1cmwoI2ZpbHRlci0zKSIgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgICAgIDxwYXRoIHN0cm9rZT0iI0ZGRkZGRiIgc3Ryb2tlLXdpZHRoPSIyIiBkPSJNMjQuMzMzMzMzMyw3IEMyOC4yODc3MTcxLDcgMzEuODY4NDgxNyw4LjU5NDMxMDkxIDM0LjQ2MTcxOTcsMTEuMTcyNTA4MiBDMzcuMDU2MTk2NywxMy43NTE5MzcyIDM4LjY2MjM2NDUsMTcuMzE2MDYxNSAzOC42NjY2NjU2LDIxLjI1NzQ2ODcgQzM4LjY2MTQ5LDI0Ljc4MTQ4OTcgMzcuMzQ5NTM0MiwyOC4xNjg0MzI2IDM1LjAwMDg0MzMsMzAuNzcxMDYxIEwzNC43MzU2MjUsMzEuMDU2OTgxNCBMMjQuMzMzNTkxNyw0MS40MTA2NzQxIEwxNC4yMDQ5NzQxLDMxLjMzNjUxMDMgQzExLjYwNTk1ODEsMjguNzU3NTc1IDEwLDI1LjE5NDU0NzUgMTAsMjEuMjU2IEMxMCwxNy4zMTU2NDQ5IDExLjYwMzk1NCwxMy43NTE0NSAxNC4xOTgyODkyLDExLjE3MjE2MiBDMTYuNzkxNDU1MSw4LjU5NDAzNjQ0IDIwLjM3NDQyMSw3IDI0LjMzMzMzMzMsNyBaIE0yNC4zMywxNCBDMjIuMzk3MDAzNCwxNCAyMC42NDcwMDM0LDE0Ljc4MzUwMTcgMTkuMzgwMjUyNSwxNi4wNTAyNTI1IEMxOC4xMTM1MDE3LDE3LjMxNzAwMzQgMTcuMzMsMTkuMDY3MDAzNCAxNy4zMywyMSBDMTcuMzMsMjIuOTMyOTk2NiAxOC4xMTM1MDE3LDI0LjY4Mjk5NjYgMTkuMzgwMjUyNSwyNS45NDk3NDc1IEMyMC42NDcwMDM0LDI3LjIxNjQ5ODMgMjIuMzk3MDAzNCwyOCAyNC4zMywyOCBDMjYuMjYyOTk2NiwyOCAyOC4wMTI5OTY2LDI3LjIxNjQ5ODMgMjkuMjc5NzQ3NSwyNS45NDk3NDc1IEMzMC41NDY0OTgzLDI0LjY4Mjk5NjYgMzEuMzMsMjIuOTMyOTk2NiAzMS4zMywyMSBDMzEuMzMsMTkuMDY3MDAzNCAzMC41NDY0OTgzLDE3LjMxNzAwMzQgMjkuMjc5NzQ3NSwxNi4wNTAyNTI1IEMyOC4wMTI5OTY2LDE0Ljc4MzUwMTcgMjYuMjYyOTk2NiwxNCAyNC4zMywxNCBaIiBmaWxsPSIjMTlCRTZCIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==\"},t.centerLatLngPosition(e.shapeData,!0)}}),_=(0,uh.Fl)(()=>{let e=[f.value],a=t.searchWidget.items;return a.length>0&&(e=e.concat(a)),e.sort((e,a)=>e.index-a.index),e}),b=(0,uh.Fl)(()=>_.value.find(e=>e.key===n.value)),k=0,v=(0,lL.debounce)(async e=>{let a=[],r=t.getCameraPosition(),i=Date.now();if(a=\"all\"!==n.value&&b.value?await b.value.onSearch(e,r)||[]:(await Promise.allSettled(_.value.map(a=>a.onSearch(e,r)))).reduce((e,a)=>{if(\"fulfilled\"===a.status){let r=a.value;if(r)return e.concat(r)}return e},[]),e===o.value)k=Date.now()-i,l.value=a,d.value=!1},500,{trailing:!0});function z(){if(l.value=[],d.value=!0,!!o.value)v(o.value)}(0,uh.YP)(o,z),(0,uh.YP)(n,z);let w=(0,uh.FN)().proxy.$pager;function y(e,a=!0){f.value={...f.value,placeholder:g()};let r=!i.value;\"boolean\"==typeof e&&(r=e),i.value=!!o.value||r,i.value&&a&&(0,uh.Y3)(()=>{s.value?.focus()}),!i.value&&(m.value=null)}function S(e){!e.disabled&&(e.type&&(_.value.find(a=>a.key===e.type)?.onItemClick(e),window.$reportStatData?.({type:\"fh2_map_search\",eventValue:{search_source:n.value,search_type:e.type,search_scene:w?.route?.value||\"unknown\",search_duration:k,search_sdk:\"g\"===window.CURRENT_BE_ENV_CONFIG.map_engine?1:0}})),o.value=e.title,p.value=!1,y(!1,!1))}(0,uh.m0)(()=>{\"all\"!==n.value&&!b.value&&(n.value=\"all\")});let j=(0,uh.Fl)(()=>{if(\"all\"===n.value){if(1===_.value.length){let e=_.value[0];return e?.singlePlaceholder||e?.placeholder||\"\"}return _.value.map(e=>e.placeholder).join(window.LANGUAGE===n8.ZH?\"ï¼Œ\":\"/\")}return b.value?.singlePlaceholder||b.value?.placeholder||\"\"});function D(){o.value=\"\",s.value?.focus(),m.value=null}function I(){y(!1,!1)}function A(e){e?.target?.blur(),l.value?.[c.value]&&S(l.value[c.value])}(0,uh.YP)(l,e=>{e&&e.length>0&&(c.value=0)});function C(e){let a=c.value+e;a<0?a=0:a>l.value.length-1&&(a=l.value.length-1),c.value=a,!function(){let e=u.value?.querySelector(`#item-${c.value}`);e?.scrollIntoView?.({behavior:\"instant\",block:\"nearest\"})}()}function x(){p.value=!0,z()}let M=(0,uh.iH)();function E(){return M.value}return(e,a)=>{let t=(0,uh.up)(\"UranusSelect\"),h=(0,uh.up)(\"UranusInput\"),g=(0,uh.up)(\"UranusIcon\"),f=(0,uh.up)(\"UranusHighlight\"),b=(0,uh.up)(\"UranusOverflow\"),k=(0,uh.up)(\"UranusTooltip\"),v=(0,uh.up)(\"UranusEmpty\"),z=(0,uh.Q2)(\"click-outside\");return(0,uh.wy)(((0,uh.wg)(),(0,uh.iD)(\"div\",{ref_key:\"searchContainerRef\",ref:M,class:\"map-action-container map-component-search-container\"},[(0,uh._)(\"div\",SB,[(0,uh.wy)((0,uh._)(\"div\",{class:(0,uh.C_)([\"input-container\",{\"separator-border\":i.value}])},[_.value.length>1?((0,uh.wg)(),(0,uh.j4)(t,{key:0,value:n.value,\"onUpdate:value\":a[0]||(a[0]=e=>n.value=e),class:\"search-select-type\",size:\"small\",\"get-popup-container\":E},{default:(0,uh.w5)(()=>[(0,uh.Wm)((0,uh.SU)(r),{value:\"all\"},{default:(0,uh.w5)(()=>[(0,uh.Uk)((0,uh.zw)(e.$t(\"web.map.search_type_all\")),1)]),_:1}),((0,uh.wg)(!0),(0,uh.iD)(uh.HY,null,(0,uh.Ko)(_.value,e=>((0,uh.wg)(),(0,uh.j4)((0,uh.SU)(r),{key:e.key,value:e.key},{default:(0,uh.w5)(()=>[(0,uh.Uk)((0,uh.zw)(e.text),1)]),_:2},1032,[\"value\"]))),128))]),_:1},8,[\"value\"])):(0,uh.kq)(\"\",!0),(0,uh.Wm)(h,{ref_key:\"inputEl\",ref:s,modelValue:o.value,\"onUpdate:modelValue\":a[1]||(a[1]=e=>o.value=e),placeholder:j.value,class:\"tips-input\",onFocus:x,onEnter:A,onKeydown:[a[2]||(a[2]=(0,uh.D2)((0,uh.iM)(e=>C(-1),[\"prevent\"]),[\"up\"])),a[3]||(a[3]=(0,uh.D2)((0,uh.iM)(e=>C(1),[\"prevent\"]),[\"down\"]))]},null,8,[\"modelValue\",\"placeholder\"]),(0,uh.wy)((0,uh.Wm)(g,{name:\"close-circle-fill\",class:\"search-clear\",onClick:D},null,512),[[uh.F8,o.value&&i.value]])],2),[[uh.F8,i.value]]),(0,uh.wy)((0,uh._)(\"div\",{ref_key:\"tipsListRef\",ref:u,class:\"tips-list uranus-scrollbar\"},[l.value.length>0?((0,uh.wg)(!0),(0,uh.iD)(uh.HY,{key:0},(0,uh.Ko)(l.value,(e,a)=>((0,uh.wg)(),(0,uh.j4)(k,{key:a,placement:\"left\",theme:\"light\",title:e.tooltips},{default:(0,uh.w5)(()=>[(0,uh._)(\"div\",{id:`item-${a}`,class:(0,uh.C_)([\"tips-item\",{active:c.value===a,disabled:e.disabled}]),onClick:a=>S(e),onMouseenter:e=>c.value=a},[(0,uh.Wm)(g,{name:e.icon,color:e.iconColor,class:\"search-item-icon\"},null,8,[\"name\",\"color\"]),(0,uh.Wm)(f,{class:\"title\",content:e.title,keyword:o.value},null,8,[\"content\",\"keyword\"]),(0,uh.Wm)(b,{class:\"sub-title\",content:e.description},null,8,[\"content\"]),e.locked?((0,uh.wg)(),(0,uh.j4)(g,{key:0,name:\"lock\",class:\"search-item-icon-action\"})):(0,uh.kq)(\"\",!0),e.invisible?((0,uh.wg)(),(0,uh.j4)(g,{key:1,name:\"visibility_off\",class:\"search-item-icon-action\"})):(0,uh.kq)(\"\",!0)],42,SV)]),_:2},1032,[\"title\"]))),128)):o.value&&!d.value?((0,uh.wg)(),(0,uh.j4)(v,{key:1},{default:(0,uh.w5)(()=>[(0,uh.Uk)((0,uh.zw)(e.$t(\"web.map.search_empty_text\")),1)]),_:1})):(0,uh.kq)(\"\",!0)],512),[[uh.F8,p.value]]),(0,uh._)(\"span\",{class:\"search-icon\",onClick:a[4]||(a[4]=e=>y())},[(0,uh.Wm)(g,{name:\"search\"})])]),m.value?((0,uh.wg)(),(0,uh.j4)(SH,{key:0,image:m.value.image,position:m.value.position,label:m.value.label},null,8,[\"image\",\"position\",\"label\"])):(0,uh.kq)(\"\",!0)])),[[z,I]])}}}),SK=(0,_S.default)(SU,[[\"__scopeId\",\"data-v-461fc664\"]]);(t3=lE||(lE={})).PostReconstructionFront=\"post-reconstruction-front\",t3.ModelImportFront=\"model-import-front\",t3.WaylineImportFront=\"wayline-import-front\",t3.LiveScreenPage=\"live-screen-page\",t3.VirtualCockpitPage=\"virtual-cockpit-page\",t3.FlightAreasFront=\"flight-areas-front\",t3.TaskCreate=\"create-task-front\",t3.TaskEdit=\"edit-plan-front\",t3.TaskCopy=\"copy-plan-front\",t3.WaylineView=\"wayline-view-front\",t3.WaylineUploadCallback=\"wayline-create-front\",t3.WaylineDelete=\"wayline-delete-front\",t3.WaylineLockUnlock=\"wayline-lock-unlock-front\",t3.WaylineConcat=\"wayline-concat-front\",t3.WaylineBatchDownload=\"wayline-batch-download-front\",t3.ModelsView=\"model-view-front\",t3.ModelComparator=\"model-comparator-front\",t3.MapElementGroups=\"map-mark-view-front\",t3.MapElementCreate=\"map-mark-edit-front\",t3.MediaDirCreateFront=\"media-dir-create-front\",t3.MediaMoveFront=\"media-move-front\",t3.MediaDeleteFront=\"media-delete-front\",t3.MediaImportFront=\"media-import-front\",t3.MediaZipDownloadFront=\"media-zip-download-front\",t3.MediaShareFront=\"media-share-front\",t3.ProjectEditFront=\"project-edit-front\",t3.ModelShowOnMap=\"model-show-on-map-front\",t3.MediaAiDiffBtn=\"media-ai-diff-front\",t3.ModelAiDiffBtn=\"model-ai-diff-front\",t3.GetLayerFront=\"get-layer-front\",t3.GetImageryFront=\"get-imagery-front\",t3.GetModelFront=\"get-model-front\",t3.GetWaylineFront=\"get-wayline-front\",t3.GetTerrainObstacleFront=\"get-terrain-obstacle-front\",t3.GetCustomFlightAreaFront=\"get-custom-flight-area-front\",t3.GetMapMediaFront=\"get-map-media-front\",t3.GetDesignsFront=\"analysis-front\",t3.GetTopoFrontWs=\"get-topo-front-ws\",t3.RecommendFlyToHere=\"recommend-fly-to-here\",t3.MediaAiSearch=\"media-ai-search\",t3.RemoteDebugSwitch=\"remote-debug-switch\";let SW={class:\"doodle-color-content\"},SZ=(0,uh.aZ)({name:\"DoodleItem\",__name:\"DoodleItem\",props:{type:{default:\"pin\"},active:{type:Boolean},color:{}},emits:[\"change-color\"],setup(e){let a={pin:\"pin-draw\",polyline:\"line-draw\",polygon:\"polygon-draw\",circle:\"circle-draw\"},r=(0,uh.iH)(!1),t=pS();function n(e){r.value=e}let i=(0,uh.Fl)(()=>a[e.type]),o=(0,uh.Fl)(()=>t?e.active:r.value);return(e,a)=>{let r=(0,uh.up)(\"uranus-icon\"),t=(0,uh.up)(\"UranusColorPicker\"),s=(0,uh.Q2)(\"element-hover\");return(0,uh.wy)(((0,uh.wg)(),(0,uh.iD)(\"div\",{class:(0,uh.C_)([\"doodle-item-container map-action-container\",{active:e.active}])},[(0,uh.Wm)(r,{name:i.value,class:\"map-action-icon\",color:e.color},null,8,[\"name\",\"color\"]),(0,uh.Wm)(uh.uT,{name:\"slide-fade\"},{default:(0,uh.w5)(()=>[(0,uh.wy)((0,uh._)(\"div\",{class:\"doodle-color-picker\",onClick:a[1]||(a[1]=(0,uh.iM)(()=>{},[\"stop\"]))},[(0,uh._)(\"div\",SW,[(0,uh.Wm)(t,{\"color-list\":(0,uh.SU)(sv),\"model-value\":e.color,\"onUpdate:modelValue\":a[0]||(a[0]=a=>e.$emit(\"change-color\",a))},null,8,[\"color-list\",\"model-value\"])])],512),[[uh.F8,o.value]])]),_:1})],2)),[[s,n,void 0,{pcOnly:!0}]])}}}),SY=(0,_S.default)(SZ,[[\"__scopeId\",\"data-v-5cd2e3dc\"]]),SQ={class:\"map-doodle map-action-group\"},S$=(0,uh.aZ)({name:\"MapDoodle\",__name:\"Doodle\",setup(e){let a=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),{drawer:r,piner:t,doodleWidget:n}=a,i=(0,uh.iH)(\"\"),o=n.color;function s(e){if(!!window.$alertPermission(lE.MapElementCreate))i.value===e?(i.value=\"\",r.exitDrawing()):(i.value=e,e===c2.oO.circle?r.enterDrawing(e,c2.tT.map,{outlineStyle:sf.Normal,maxRadius:pP.MaxRadiusMarker}):r.enterDrawing(e))}function l(){let{pin:e,draw:t}=a.mode;t&&r.origin===c2.tT.map?i.value=r.getDrawingMode():e?i.value=\"pin\":i.value=\"\"}function d(){if(!!window.$alertPermission(lE.MapElementCreate))\"pin\"===i.value?(i.value=\"\",t.exitPinning()):(i.value=\"pin\",t.enterPinning())}function c(e,r){a.changeDoodleColor(e,r)}return(0,uh.bv)(()=>{a.on(\"modeChange\",l)}),(0,uh.Jd)(()=>{a.off(\"modeChange\",l)}),(e,a)=>((0,uh.wg)(),(0,uh.iD)(\"div\",SQ,[(0,uh.Wm)(SY,{type:\"pin\",active:\"pin\"===i.value,color:(0,uh.SU)(o).pin,onClick:d,onChangeColor:a[0]||(a[0]=e=>c(\"pin\",e))},null,8,[\"active\",\"color\"]),(0,uh.Wm)(SY,{type:\"polyline\",active:\"line\"===i.value,color:(0,uh.SU)(o).polyline,onClick:a[1]||(a[1]=e=>s((0,uh.SU)(c2.oO).line)),onChangeColor:a[2]||(a[2]=e=>c(\"polyline\",e))},null,8,[\"active\",\"color\"]),(0,uh.Wm)(SY,{type:\"polygon\",active:\"polygon\"===i.value,color:(0,uh.SU)(o).polygon,onClick:a[3]||(a[3]=e=>s((0,uh.SU)(c2.oO).polygon)),onChangeColor:a[4]||(a[4]=e=>c(\"polygon\",e))},null,8,[\"active\",\"color\"]),(0,uh.Wm)(SY,{type:\"circle\",active:\"circle\"===i.value,color:(0,uh.SU)(o).circle,onClick:a[5]||(a[5]=e=>s((0,uh.SU)(c2.oO).circle)),onChangeColor:a[6]||(a[6]=e=>c(\"circle\",e))},null,8,[\"active\",\"color\"])]))}}),SX={key:0,class:\"map-guide-wrapper\"},S0={key:0,class:\"title\"},S1=[\"src\"],S2={key:2,class:\"button-container\"},S3=(0,uh.aZ)({name:\"MapGuide\",__name:\"MapGuide\",setup(e){let a=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")).guideWidget;return(e,r)=>{let t=(0,uh.up)(\"UranusButton\");return(0,uh.SU)(a)?((0,uh.wg)(),(0,uh.iD)(\"div\",SX,[(0,uh.SU)(a).title?((0,uh.wg)(),(0,uh.iD)(\"div\",S0,(0,uh.zw)((0,uh.SU)(a).title),1)):(0,uh.kq)(\"\",!0),(0,uh.SU)(a).img?((0,uh.wg)(),(0,uh.iD)(\"img\",{key:1,class:\"img\",src:(0,uh.SU)(a).img},null,8,S1)):(0,uh.kq)(\"\",!0),(0,uh.SU)(a).onClose?((0,uh.wg)(),(0,uh.iD)(\"div\",S2,[(0,uh.Wm)(t,{type:\"primary\",onClick:r[0]||(r[0]=e=>(0,uh.SU)(a).onClose())},{default:(0,uh.w5)(()=>[(0,uh.Uk)((0,uh.zw)(e.$t(\"common.status.uesr_read\")),1)]),_:1})])):(0,uh.kq)(\"\",!0)])):(0,uh.kq)(\"\",!0)}}}),S4=(0,_S.default)(S3,[[\"__scopeId\",\"data-v-779222fe\"]]),S5={class:\"map-operations\"},S6=(0,uh.aZ)({name:\"MapOperations\",__name:\"index\",setup(e){let{doodleWidget:a,operationsWidget:r}=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),t=(0,uh.Vh)(a,\"visible\"),n=(0,uh.Vh)(r,\"searchVisible\");return(e,a)=>((0,uh.wg)(),(0,uh.iD)(\"div\",S5,[n.value?((0,uh.wg)(),(0,uh.j4)(SK,{key:0})):(0,uh.kq)(\"\",!0),t.value?((0,uh.wg)(),(0,uh.j4)(S$,{key:1})):(0,uh.kq)(\"\",!0),(0,uh.Wm)(yX,{position:\"rightTop\"}),(0,uh.Wm)(S4)]))}}),S9=(0,_S.default)(S6,[[\"__scopeId\",\"data-v-0c67ab8d\"]]);function S8(e,a,r=(0,uh.iH)(!0)){let t;let n=e.viewer,i=(0,uh.iH)(a.value),o=(0,uh.qj)({left:0,top:0});function s(){let t=e.worldToCanvas(r.value&&i.value||a.value);if(t){o.left=t.x,o.top=t.y;return}o.left=0,o.top=0}function l(){t&&(t.unclamp(),t=void 0)}function d(){if(r.value){let r=uf.Cartographic.fromCartesian(a.value);t?t.update(r):t=e.picker.clampWithWatcher(r,e=>{e?i.value=e:i.value=a.value,s()})}else l()}return(0,uh.YP)(a,d,{immediate:!0}),(0,uh.YP)(r,d,{immediate:!0}),(0,uh.bv)(()=>{n.scene.postRender.addEventListener(s),d()}),(0,uh.SK)(()=>{n.scene.postRender.removeEventListener(s),l()}),{position:i,canvasPosition:o}}let S7={class:\"hover-popup popup-meter\"},je={key:0,class:\"hover-angle\"},ja=(0,uh.aZ)({name:\"DistancePop\",__name:\"DistancePop\",props:{point:{},angle:{},distance:{},clampToGround:{type:Boolean}},setup(e){let a=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),{canvasPosition:r}=S8(a,(0,uh.Vh)(e,\"point\"),(0,uh.Vh)(e,\"clampToGround\")),t=v0(),{left:n,top:i}=(0,uh.BK)(r);return(e,a)=>{var r;return(0,uh.wg)(),(0,uh.iD)(\"div\",{class:(0,uh.C_)([\"map-pop drawing-point\",{hidden:0===(0,uh.SU)(i)&&0===(0,uh.SU)(n)}]),style:(0,uh.j5)({top:`${(0,uh.SU)(i)}px`,left:`${(0,uh.SU)(n)}px`})},[(0,uh._)(\"div\",S7,(0,uh.zw)(void 0===(r=e.distance)?Number.NaN:uw(r,t8.Length,t.measure_units_system,!0).text),1),(0,uh.SU)(pg.ri)(e.angle)?((0,uh.wg)(),(0,uh.iD)(\"div\",je,(0,uh.zw)((0,uh.SU)(uz)(e.angle,\"degree\"))+\"\\xb0 \",1)):(0,uh.kq)(\"\",!0)],6)}}}),jr=(0,_S.default)(ja,[[\"__scopeId\",\"data-v-f240bb1c\"]]),jt={key:1,class:\"hover-popup popup-info\"};let jn=(d=()=>(0,uh._)(\"br\",null,null,-1),(0,uh.dD)(\"data-v-031024dc\"),d=d(),(0,uh.Cn)(),d),ji={key:2,class:\"hover-popup popup-meter\"},jo=(0,uh.aZ)({name:\"DrawingPointPop\",__name:\"DrawingPointPop\",props:{point:{},distance:{},type:{default:\"normal\"}},emits:[\"click\"],setup(e,{emit:a}){let r=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),t=(0,uh.Vh)(e,\"point\"),n=gH(r),i=(0,uh.Fl)(()=>{let e=r.drawer.getDrawingMode();return e===c2.oO.cylinder||e===c2.oO.circle}),{canvasPosition:o,position:s}=S8(r,t,(0,uh.iH)(n)),l=v0(),d=e=>uw(e,t8.Length,l.measure_units_system).text,{left:c,top:u}=(0,uh.BK)(o),p=(0,uh.Fl)(()=>{let e=uf.Cartographic.fromCartesian(s.value),a=uf.Math.toDegrees(e.longitude),r=uf.Math.toDegrees(e.latitude);return{longitude:uI(a,\"long\"),latitude:uI(r,\"lat\"),asl:uA((0,y6.ellipsoidToEgm96)(r,a,e.height))}});return(e,r)=>{let t=(0,uh.up)(\"uranus-icon\");return(0,uh.wg)(),(0,uh.iD)(\"div\",{class:(0,uh.C_)([\"map-pop drawing-point\",{hidden:0===(0,uh.SU)(u)&&0===(0,uh.SU)(c)}]),style:(0,uh.j5)({top:`${(0,uh.SU)(u)}px`,left:`${(0,uh.SU)(c)}px`})},[\"mid\"!==e.type?((0,uh.wg)(),(0,uh.iD)(\"span\",{key:0,class:(0,uh.C_)([\"point\",{\"disable-click\":i.value}]),onClick:r[0]||(r[0]=r=>a(\"click\",e.type))},[\"end\"===e.type?((0,uh.wg)(),(0,uh.j4)(t,{key:0,name:\"draw_complete\",size:14})):(0,uh.kq)(\"\",!0)],2)):(0,uh.kq)(\"\",!0),p.value&&\"mid\"!==e.type?((0,uh.wg)(),(0,uh.iD)(\"div\",jt,[(0,uh.Uk)(\" GPS: \"+(0,uh.zw)(p.value.latitude)+\" \"+(0,uh.zw)(p.value.longitude)+\" \",1),jn,(0,uh.Uk)(\" ASL: \"+(0,uh.zw)(d(p.value.asl)),1)])):(0,uh.kq)(\"\",!0),\"mid\"===e.type&&e.distance?((0,uh.wg)(),(0,uh.iD)(\"div\",ji,(0,uh.zw)(d(e.distance)),1)):(0,uh.kq)(\"\",!0)],6)}}}),js=(0,_S.default)(jo,[[\"__scopeId\",\"data-v-031024dc\"]]),jl=(e=[],a=[])=>{let r=(e,a)=>e.id===a.id,{newListInterval:t,oldListInterval:n}=((e=[],a=[])=>{let r=0,t=a.length-1,n=0,i=e.length-1;for(;r<a.length&&n<e.length&&a[r].id===e[n].id;r++,n++);for(;t>=0&&i>=0&&a[t].id===e[i].id;t--,i--);let o=e=>-1===e?0:e;return{newListInterval:a.slice(o(r-1),t+1),oldListInterval:e.slice(o(n-1),i+1)}})(e,a);return{added:(0,lL.differenceWith)(t,n,r),deleted:(0,lL.differenceWith)(n,t,r)}},jd=(e,a)=>{let r=a.findIndex(a=>a.id===e.id);return a[r+1]},jc=(e,a)=>{let r=a.findIndex(a=>a.id===e.id);return a[r-1]},ju=(0,uh.aZ)({name:\"EditingMidPoint\",props:{points:{type:Array,required:!0},distance:Number,labelShow:{type:Boolean,default:!0},pointShow:{type:Boolean,default:!0}},setup(e,{emit:a}){let r=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),t=new Map,n=v0();function i(e){e.forEach(e=>{let a=e.id;t.get(a)?.destroy(),t.delete(a)})}return(0,uh.YP)(()=>e.points,(o,s)=>{let{added:l,deleted:d}=jl(s,o),c=function(){let e=r.editor.activeElement;return e instanceof hW&&e.clampToGround||e instanceof mX||e instanceof h8&&e.clampToGround}(),u=new Set(l),p=o.length,m=\"polygon\"===r.editor.editingMode||\"polygon3d\"===r.editor.editingMode||\"prism\"===r.editor.editingMode,h=m&&p>2;if(l.forEach(e=>{let a=jc(e,o);if(void 0===a){h&&u.add(o[o.length-1]);return}u.add(a)}),0===l.length&&1===d.length){let e=jc(d[0],s||[]);void 0!==e?u.add(e):h&&s?.length&&u.add(s[s.length-1])}let g=[];u.forEach(e=>{let a=jd(e,o);if(void 0===a){if(h){let a=o[0],r=uf.Cartesian3.midpoint(e,a,new uf.Cartesian3),t=c?(0,pg.Q5)(e,a):(0,pg.v9)(e,a);g.push({id:(0,uW.k)(),fatherId:e.id,midpoint:r,distance:t})}return}let r=uf.Cartesian3.midpoint(e,a,new uf.Cartesian3),t=c?(0,pg.Q5)(e,a):(0,pg.v9)(e,a);g.push({id:(0,uW.k)(),fatherId:e.id,midpoint:r,distance:t})});let f=new Set(d);if(d.forEach(e=>{let a=jc(e,s||[]);if(void 0===a){h&&f.add(o[o.length-1]);return}f.add(a)}),1===l.length&&0===d.length){let e=o.findIndex(e=>e.id===l[0].id);f.add(o[e-1])}i([...f]),g.forEach(i=>{let o=new hm({position:(0,pg.KO)(i.midpoint,!0),show:!0,preventClickEvent:!0,onLeftDown(){r.screenSpaceCameraController.stopMouse(),a(\"add-and-drag\",{id:i.fatherId,point:i.midpoint}),window.addEventListener(\"mouseup\",()=>{r.screenSpaceCameraController.startMouse()},{once:!0})},point:{show:e.pointShow,pixelSize:10,cssColor:\"#ffffff\",clampToGround:c,disableDepthTestDistance:Number.POSITIVE_INFINITY,translucencyByDistance:[1,.8,1e6,.8]},label:{text:uw(i.distance,t8.Length,n.measure_units_system,!0).text,show:e.labelShow,verticalOrigin:\"BOTTOM\",pixelOffset:[0,-6],...pM}},r.collection);t.set(i.fatherId,o)})},{immediate:!0}),(0,uh.YP)(()=>e.labelShow,a=>{e.points.forEach(e=>{let r=e.id,n=t.get(r);n&&n.update({label:{show:a}})})}),(0,uh.YP)(()=>e.pointShow,a=>{e.points.forEach(e=>{let r=e.id,n=t.get(r);n&&n.update({point:{show:a}})})},{immediate:!0}),(0,uh.Jd)(()=>{i(e.points)}),{}}}),jp=(0,_S.default)(ju,[[\"render\",function(e,a,r,t,n,i){return(0,uh.wg)(),(0,uh.iD)(\"span\")}]]),jm=(0,uh.aZ)({name:\"EditingEndPoint\",__name:\"EditingEndPoint\",props:{dragging:{type:Boolean,default:!1},points:{},enableEndPointSelected:{type:Boolean,default:!1},activeIndex:{default:-1}},emits:[\"click\",\"remove\",\"close-tooltip\",\"show-tooltip\",\"left-down\"],setup(e,{emit:a}){let{t:r}=(0,pb.QT)(),t=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),n=new Map;function i(e){e.forEach(e=>{let a=n.get(e.id);n.delete(e.id),a?.destroy()})}function o(a=!1){return a&&e.enableEndPointSelected?{outlineWidth:2,outlineColor:\"#FFFFFF\",cssColor:hZ}:{outlineWidth:0,outlineColor:\"#FFFFFF\",cssColor:\"#FFFFFF\"}}let s=(0,uh.Fl)(()=>e.points[e.activeIndex]?.id||\"\");function l(e,a=!1){if(e){let r=n.get(e);r&&r.update({point:o(a)})}}return(0,uh.YP)(s,(e,a)=>{l(a,!1),l(e,!0)}),(0,uh.YP)(()=>e.points,(e,l)=>{let{added:d,deleted:c}=jl(l,e),u=function(){let e=t.editor.activeElement;return e instanceof hW&&e.clampToGround||e instanceof mX||e instanceof h8&&e.clampToGround}();if(1===d.length&&1===c.length){let e=d[0],a=c[0],r=n.get(a.id);if(n.delete(a.id),r){n.set(e.id,r),r.update({id:e.id,point:o(e.id===s.value)});let a=(0,pg.KO)(e,!0);e.dynamic?r.dynamicPosition=a:(r.dynamicPosition=void 0,r.position=a)}}else i(c),d.forEach((e,i)=>{let l=new hm({id:e.id,position:(0,pg.KO)(e,!0),show:!0,preventClickEvent:!0,contextmenu:[{text:r(\"web.map.delete_endpoint\"),key:\"remove\"}],point:{pixelSize:14,clampToGround:u,disableDepthTestDistance:Number.POSITIVE_INFINITY,...o(e.id===s.value)},onLeftDown:()=>{t.screenSpaceCameraController.stopMouse(),l.id&&a(\"left-down\",l.id),window.addEventListener(\"mouseup\",()=>{t.screenSpaceCameraController.startMouse()},{once:!0})},onMouseEnter:()=>{l.positionCartesian3&&a(\"show-tooltip\",l.positionCartesian3)},onMouseLeave:()=>{a(\"close-tooltip\")},onRemove:()=>{l.id&&a(\"remove\",l.id)}},t.collection);n.set(d[i].id,l)})},{immediate:!0}),(0,uh.Jd)(()=>{a(\"close-tooltip\"),i(e.points)}),(e,a)=>((0,uh.wg)(),(0,uh.iD)(\"span\"))}}),jh={ref:\"scrollerRef\",class:\"infinite-scroll uranus-scrollbar\"},jg=(0,uh.aZ)({name:\"InfiniteScroll\",props:{distance:{type:Number,default:0},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!1},direction:{type:String,default:\"column\"}},emits:[\"load-more\"],setup(e,{emit:a}){let r=(0,uh.iH)(null),t=(0,uh.Fl)(()=>!e.loading&&!e.disabled),n=(0,lL.throttle)(()=>{let n=r.value;if(n&&t.value){if(\"column\"===e.direction){let r=n.clientHeight+n.scrollTop;0!==r&&n.scrollHeight-r<=e.distance&&a(\"load-more\")}if(\"row\"===e.direction){let r=n.clientWidth+n.scrollLeft;0!==r&&n.scrollWidth-r<=e.distance&&a(\"load-more\")}}},500);return(0,uh.m0)(()=>{t.value&&e.immediate&&(0,uh.Y3)(()=>{n()})}),(0,uh.bv)(async()=>{let a=r.value;a&&a.addEventListener(\"scroll\",n),e.immediate&&(await (0,uh.Y3)(),n())}),(0,uh.SK)(()=>{let e=r.value;e&&e.removeEventListener(\"scroll\",n)}),{scrollerRef:r}}}),jf=(0,_S.default)(jg,[[\"render\",function(e,a,r,t,n,i){return(0,uh.wg)(),(0,uh.iD)(\"div\",jh,[(0,uh.WI)(e.$slots,\"default\",{},void 0,!0)],512)}],[\"__scopeId\",\"data-v-3a9d7a66\"]]),j_={key:0,class:\"group-title-wrapper mb4\"},jb={class:\"group-title\"},jk={key:0},jv=[\"onClick\"],jz={key:0},jw=[\"onClick\"],jy={key:0},jS=(0,uh.aZ)({name:\"MapContextmenu\",__name:\"MapContextmenu\",setup(e){let{contextmenu:a}=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),r=(0,uh.iH)(new Map);function t(e,r){a.onItemClick(e,r),a.state.show=!1}function n(e){return r.value.get(e)||0}function i(e){let a=r.value.get(e)||0;r.value.set(e,a+1)}function o(e){return n(e.key),e.items?.filter(e=>e?.key.startsWith(\"[manual-auto-dispatch]\"))||[]}async function s(e){e.loadMoreCallback&&\"function\"==typeof e.loadMoreCallback&&(await e.loadMoreCallback(),await (0,uh.Y3)(),i(e.key))}let l=(0,uh.Fl)(()=>a.groups.value),d=(0,uh.Fl)(()=>a.groups.value.filter(e=>!!e.withIcon)[0]?.withIcon||\"\"),{show:c,left:u,top:p}=(0,uh.BK)(a.state);return(0,uh.YP)(()=>a.groups.value,e=>{e&&e.forEach(e=>{i(e.key)})},{deep:!0}),(e,a)=>{let r=(0,uh.up)(\"UranusIcon\"),i=(0,uh.up)(\"uranus-contextmenu\");return(0,uh.wg)(),(0,uh.j4)(i,{value:(0,uh.SU)(c),\"onUpdate:value\":a[0]||(a[0]=e=>(0,uh.dq)(c)?c.value=e:null)},{overlay:(0,uh.w5)(()=>[(0,uh._)(\"div\",{class:(0,uh.C_)([\"map-contextmenu\",{\"icon-offset\":!!d.value}])},[((0,uh.wg)(!0),(0,uh.iD)(uh.HY,null,(0,uh.Ko)(l.value,e=>{var a;return(0,uh.wg)(),(0,uh.iD)(\"div\",{key:e.key,class:\"menu-item-group\"},[e.withTitle?((0,uh.wg)(),(0,uh.iD)(\"div\",j_,[(0,uh._)(\"div\",jb,[e.withTitleIcon?((0,uh.wg)(),(0,uh.iD)(\"span\",jk,[(0,uh.Wm)(r,{class:\"mr8\",name:e.withTitleIcon,size:16},null,8,[\"name\"])])):(0,uh.kq)(\"\",!0),(0,uh._)(\"span\",null,(0,uh.zw)(e.withTitle),1)])])):(0,uh.kq)(\"\",!0),((0,uh.wg)(!0),(0,uh.iD)(uh.HY,null,(0,uh.Ko)((n((a=e).key),a.items?.filter(e=>!e?.key.startsWith(\"[manual-auto-dispatch]\"))||[]),a=>((0,uh.wg)(),(0,uh.iD)(\"div\",{key:a.key,class:\"menu-item\",onClick:r=>t(a.key,e.key)},[e.showItemIcon&&a.icon?((0,uh.wg)(),(0,uh.iD)(\"span\",jz,[(0,uh.Wm)(r,{class:\"mr8\",name:a.icon,size:16},null,8,[\"name\"])])):(0,uh.kq)(\"\",!0),(0,uh._)(\"span\",null,(0,uh.zw)(a.text),1)],8,jv))),128)),o(e).length>0?((0,uh.wg)(),(0,uh.j4)(jf,{key:1,class:\"manual-auto-dispatch-container\",distance:50,loading:e.loading||!1,disabled:!e.hasMore,onLoadMore:a=>s(e)},{default:(0,uh.w5)(()=>[((0,uh.wg)(!0),(0,uh.iD)(uh.HY,null,(0,uh.Ko)(o(e),a=>((0,uh.wg)(),(0,uh.iD)(\"div\",{key:a.key,class:\"menu-item\",onClick:r=>t(a.key,e.key)},[e.showItemIcon&&a.icon?((0,uh.wg)(),(0,uh.iD)(\"span\",jy,[(0,uh.Wm)(r,{class:\"mr8\",name:a.icon,size:16},null,8,[\"name\"])])):(0,uh.kq)(\"\",!0),(0,uh._)(\"span\",null,(0,uh.zw)(a.text),1)],8,jw))),128))]),_:2},1032,[\"loading\",\"disabled\",\"onLoadMore\"])):(0,uh.kq)(\"\",!0)])}),128))],2)]),default:(0,uh.w5)(()=>[(0,uh._)(\"div\",{class:\"contextmenu-trigger\",style:(0,uh.j5)({left:`${(0,uh.SU)(u)}px`,top:`${(0,uh.SU)(p)}px`})},[d.value&&(0,uh.SU)(c)?((0,uh.wg)(),(0,uh.j4)(r,{key:0,class:\"contextmenu-icon\",name:d.value,size:28},null,8,[\"name\"])):(0,uh.kq)(\"\",!0)],4)]),_:1},8,[\"value\"])}}}),jj=(0,_S.default)(jS,[[\"__scopeId\",\"data-v-27047422\"]]),jD=(0,uh.aZ)({name:\"DrawingPoint\",__name:\"DrawingPoint\",props:{dragging:{type:Boolean,default:!1},points:{}},emits:[\"show-tooltip\",\"close-tooltip\"],setup(e,{emit:a}){let r=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),t=new Map;return(0,uh.YP)(()=>e.points,(e,n)=>{let{added:i,deleted:o}=jl(n,e);o.forEach(e=>{let a=t.get(e.id);t.delete(e.id),a?.destroy()});let s=gH(r);i.forEach((e,n)=>{let o=new hm({position:(0,pg.KO)(e,!0),preventClickEvent:!0,point:{pixelSize:14,cssColor:\"#ffffff\",clampToGround:s,disableDepthTestDistance:Number.POSITIVE_INFINITY},onMouseEnter:()=>{a(\"show-tooltip\",e)},onMouseLeave:()=>{a(\"close-tooltip\")}},r.collection);t.set(i[n].id,o)})},{immediate:!0}),(e,a)=>((0,uh.wg)(),(0,uh.iD)(\"span\"))}}),jI=(0,uh.aZ)({__name:\"DrawingMidLabel\",props:{points:{},clampToGround:{type:Boolean},labelShow:{type:Boolean,default:!0}},setup(e){let a=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),r=new Map,t=v0();function n(e){e.forEach(e=>{let a=e.id;r.get(a)?.destroy(),r.delete(a)})}return(0,uh.YP)(()=>e.points,(i,o)=>{let{added:s,deleted:l}=jl(o,i),d=new Set(s),c=[];d.forEach(a=>{let r=jc(a,i);if(void 0===r)return;let t=uf.Cartesian3.midpoint(a,r,new uf.Cartesian3),n=e.clampToGround?(0,pg.Q5)(a,r):(0,pg.v9)(a,r);c.push({id:(0,uW.k)(),fatherId:a.id,midpoint:t,distance:n})});n([...new Set(l)]),c.forEach(n=>{let i=(0,pg.KO)(n.midpoint,!0),o=function(){let e=a.editor.activeElement;return e instanceof hW&&e.clampToGround||e instanceof mX||e instanceof h8&&e.clampToGround}(),s=new hm({position:i,preventClickEvent:!0,point:{clampToGround:o},label:{text:uw(n.distance,t8.Length,t.measure_units_system,!0).text,position:i,show:e.labelShow,clampToGround:o,pixelOffset:e.clampToGround?[0,-25]:void 0,...pM}},a.collection);r.set(n.fatherId,s)})},{immediate:!0}),(0,uh.YP)(()=>e.labelShow,a=>{e.points.forEach(e=>{let t=e.id,n=r.get(t);n&&n.update({label:{show:a}})})}),(0,uh.Jd)(()=>{n(e.points)}),(e,a)=>((0,uh.wg)(),(0,uh.iD)(\"span\"))}}),jA=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAJVSURBVFiF7Zg9bttAEIUfg6SnU6rayo0BQ41VU6dwOp3AbVzu8CKGiKTILagbmAjkJo22SmeBhTsXL4VEQSA55JL6gYXwAWyo3ZlvZzkz2gUGDRp0MgXHMELyGsAtgBsAIwBfALwD+AvgBcDvIAj+HMNXX8ARyUeSz/TT83b86JyQVySF5KsnZFmv2/lXpwa9I7nsCVnWkuTdqUDvSa6PBFpoTfL+FKBvvgRpmnYBfjsaMDdb7x1Ray0B0FrbBXjNQz8JbpLJ+xstQIunI/CShyQdN1nbC7QnsDTxfGoAHQF48FmUcw5BEEBEEIYhAMAYAxFBEARwznkFB8AD+9Rhbgp4ZxljCIBRFPWZTpKPGpMaWQDfOq/wOFL91sJy0+vHTRY7bG3XeeOt/4q0yN42WRMRJEnSTlajJEkgIm3Dav1rsDeaFRFBHMd+ZIriOG4DrvX/WRlcm5H7oPP5HIvFojKm2OYsyzCdTtXfCzsKtH9FIPlUTtE0TWvr6KGP0pqf6ri0yL6XX0RRBGvtLiLGGBhjKhOzLEOe5wjDEONxNUedc7voWmsRRZGXf1UkrVYEi04lUt/c2uqsiPh0NlvHpUX2RVuIRya3ylrbZkf1XxHJ66Zlk+RqteoVWW1eSf51dnu4y5oWVPe9+shjXqYdLpva7a9eNIdL9at9swDwE8B3AF/brDvndh0tz/Pdu6JyzGYz351YA/jhM7AifrD/s22wl3NS2AJPeJ4z2OQg0D3gyzjdloA//r3BHvCEl3Ajswd8GXddJeiz3yL+H/ezgwYNatc/ItaKkJkaF+wAAAAASUVORK5CYII=\",jC=(0,uh.aZ)({name:\"CirclePoint\",__name:\"CirclePoint\",props:{point:{},dragging:{type:Boolean,default:!1},useCrossIcon:{type:Boolean,default:!1}},emits:[\"dragstart\",\"dragend\",\"dragmove\"],setup(e,{emit:a}){let r=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),{addBillboard:t,addPoint:n}=um(f8.key);function i(){return{position:e.point,draggable:{horizontal:!0},clampToGround:gH(r)}}function o(r,t,n=!0){return(r,i)=>{switch(r&&n&&(r.height=e.point.height),!r&&\"start\"===t&&(r=e.point),t){case\"start\":a(\"dragstart\",i);break;case\"end\":a(\"dragend\");break;case\"move\":a(\"dragmove\",r)}}}function s(e){let a=\"line\"===e,r=o(e,\"start\",a);return{onDragStart:e=>r(void 0,e),onDragMove:o(e,\"move\",a),onDragEnd:o(e,\"end\",a)}}return e.useCrossIcon?Sq(()=>t({width:18,height:18,image:jA,cssColor:\"#ffffff\",clampToGround:gH(r),disableDepthTestDistance:Number.POSITIVE_INFINITY,...s(\"label\")}),i,f8.key):Sq(()=>n({pixelSize:14,cssColor:\"#ffffff\",clampToGround:gH(r),disableDepthTestDistance:Number.POSITIVE_INFINITY,...s(\"label\")}),i,f8.key),(e,a)=>((0,uh.wg)(),(0,uh.iD)(\"span\"))}}),jx=(0,uh.aZ)({name:\"CircleRadius\",__name:\"CircleRadius\",props:{circleCenterPos:{},circleEdgePoint:{},radius:{},circleColor:{},useDistanceScaleLabel:{type:Boolean,default:!0}},setup(e){let a=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),{addPolyline:r,addLabel:t}=um(f8.key),n=v0();Sq(()=>r({clampToGround:gH(a),width:3,dash:!0,fromDraw:!1,removable:!1,depthFailAlpha:1,dynamicPositions:!0}),()=>({positions:[e.circleCenterPos,e.circleEdgePoint],cssColor:e.circleColor,clampToGround:gH(a)}),f8.key);let i={...pM};return i.distanceDisplayCondition=void 0,Sq(()=>t({clampToGround:gH(a),show:!0,...i}),()=>({position:{latitude:(e.circleCenterPos.latitude+e.circleEdgePoint.latitude)/2,longitude:(e.circleCenterPos.longitude+e.circleEdgePoint.longitude)/2,height:gH(a)?void 0:e.circleCenterPos.height},text:uw(e.radius,t8.Length,n.measure_units_system,!0).text,clampToGround:gH(a)}),f8.key),(e,a)=>((0,uh.wg)(),(0,uh.iD)(\"span\"))}}),jM=Math.floor(22.5),jE=(0,uh.aZ)({name:\"EditingCylinder\",__name:\"EditingCylinder\",props:{cylinderEditPoints:{},labelShow:{type:Boolean,default:!0}},emits:[\"remove\",\"show-tooltip\",\"close-tooltip\",\"start-drag\"],setup(e,{emit:a}){let r=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),t=[],n=null,i=null,o=v0();function s(){t.forEach(e=>{e.destroy()}),t.length=0,n&&(n.destroy(),n=null),i&&(i.destroy(),i=null)}return(0,uh.YP)(()=>e.cylinderEditPoints,e=>{if(s(),!e)return;e.forEach((e,n)=>{e.forEach((e,i)=>{!function(e,n){let i={id:e,position:n,show:!0,preventClickEvent:!0,contextmenu:[],onLeftDown:()=>{r.screenSpaceCameraController.stopMouse(),a(\"start-drag\",o.id),window.addEventListener(\"mouseup\",()=>{r.screenSpaceCameraController.startMouse()},{once:!0})},onMouseEnter:()=>{a(\"show-tooltip\",o.positionCartesian3)},onMouseLeave:()=>{a(\"close-tooltip\")},onRemove:()=>{a(\"remove\",o.id)}};e.includes(\"center\")?i.billboard={width:18,height:18,clampToGround:!1,image:jA,disableDepthTestDistance:Number.POSITIVE_INFINITY}:i.point={pixelSize:14,cssColor:\"#ffffff\",clampToGround:!1,disableDepthTestDistance:Number.POSITIVE_INFINITY};let o=new hm(i,r.collection);t.push(o)}(`cylinder_${0===n?\"bottom\":\"top\"}_${0===i?\"center\":\"edge\"}`,(0,pg.KO)(e,!0))})});let l=e.flat();if(!Array.isArray(l))return;let d=l[1],c=l[3];if(!d||!c)return;let u=uf.Cartesian3.midpoint(d,c,new uf.Cartesian3);n=new hD({id:\"cylinder-sideEdge-height\",text:uw(uf.Cartesian3.distance(d,c),t8.Length,o.measure_units_system,!0).text,position:(0,pg.KO)(u,!0),show:!0,disableInteractive:!0,verticalOrigin:\"CENTER\",...pM},r.collection);let p=l[2];if(!p)return;let m=uf.Cartesian3.midpoint(p,c,new uf.Cartesian3);i=new hD({id:\"cylinder-radius\",text:uw(uf.Cartesian3.distance(p,c),t8.Length,o.measure_units_system,!0).text,position:(0,pg.KO)(m,!0),show:!0,disableInteractive:!0,verticalOrigin:\"CENTER\",...pM},r.collection)},{immediate:!0}),(0,uh.YP)(()=>e.labelShow,e=>{n&&n.update({show:e}),i&&i.update({show:e})}),(0,uh.Jd)(()=>{s()}),(e,a)=>((0,uh.wg)(),(0,uh.iD)(\"span\"))}}),jP={arrIndex:-1,pointIndex:-1};let jT=(c=()=>(0,uh._)(\"br\",null,null,-1),(0,uh.dD)(\"data-v-6d13e092\"),c=c(),(0,uh.Cn)(),c),jR=(0,uh.aZ)({name:\"PopsContainer\",__name:\"PopsContainer\",props:{dragging:{type:Boolean,default:!1}},setup(e){let a=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),{editor:r}=a,{selectedPoint:t,enableEndPointSelected:n,updateSelectedPoint:i}=function(e){let a=e.editor,r=(0,uh.iH)(jP),t=(0,uh.Fl)(()=>!!a.config?.endPoint?.enableSelected);function n(e,a){r.value={arrIndex:e,pointIndex:a}}function i(e){let{activePointArrayIndex:a,activePointIndex:r}=e;n(a,r)}function o(){n(-1,-1)}return(0,uh.bv)(()=>{a.on(\"editing-point-change\",i),a.on(\"exit-edit\",o)}),(0,uh.Jd)(()=>{a.off(\"editing-point-change\",i),a.off(\"exit-edit\",o)}),{selectedPoint:r,enableEndPointSelected:t,updateSelectedPoint:n}}(a),o=(0,uh.iH)(!1),s=(0,uh.Fl)(()=>{if(o.value)return!0;let e=a.editor.activeElement,r=a.hover.hoveringElement;return\"prism\"===a.editor.editingMode?a.hover.isPrismHovering.value&&e===r:\"cylinder\"!==a.editor.editingMode||a.hover.isCylinderHovering.value&&e===r}),l=a.drawer.activeShapePoints,d=a.drawer.floatingPoint,c=(0,uh.Fl)(()=>{let e=\"polyline3d\"===r.editingModeReactive.value,a=\"polygon3d\"===r.editingModeReactive.value&&r.activeElement instanceof hY&&r.activeElement.category===se.annotations;return r.getEditing()&&(e||a)}),u=(0,uh.Fl)(()=>!c.value),p=(0,uh.Fl)(()=>!c.value),m=(0,uh.Fl)(()=>{if(a.drawer.getDrawingMode()===c2.oO.prism&&a.drawer.activeSolidStatus===sA.height){let e=l.value[0].clone();return e.id=(0,uW.k)(),l.value.concat([e])}return l.value}),{circleCenterPos:h,circleEdgePoint:g,circleRadius:f,circleHandleMode:_,circleColor:b,startDragCircleCenter:k,onDraggingCircleCenter:v,startDragCircleEdge:z,onDraggingCircleEdge:w}=function(){let e=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),a=(0,uh.iH)(mJ);e.on(\"elementAreaOversize\",(e,{exceed:r})=>{e instanceof h8&&setTimeout(()=>{r?a.value=e.errorCssColor||\"#f00\":a.value=e.cssColor||\"#fff\"})});let r=(0,uh.Fl)(()=>e.editor.activeCirclePosParams.centerPosCartesian3||e.drawer.activeCirclePosParams.centerPosCartesian3),t=(0,uh.Fl)(()=>e.editor.activeCirclePosParams.centerPos||e.drawer.activeCirclePosParams.centerPos),n=(0,uh.Fl)(()=>e.editor.activeCirclePosParams.radius||e.drawer.activeCirclePosParams.radius),i=(0,uh.Fl)(()=>e.editor.activeCirclePosParams.maxRadius),o=(0,uh.Fl)(()=>e.editor.activeCirclePosParams.centerPos?e.editor.activeCirclePosParams.circleEdgePoint||mF(e.editor.activeCirclePosParams.centerPos,e.editor.activeCirclePosParams.radius,90)[jM]:e.drawer.activeCirclePosParams.centerPos?e.drawer.activeCirclePosParams.circleEdgePoint:void 0),s=()=>{let r=e.drawer.getDrawingMode();if(r===c2.oO.cylinder)a.value=sv.Blue;else if(r===c2.oO.circle){let r=e.drawer.origin;r===c2.tT.map?a.value=e.doodleWidget.color.circle:(0,c2.P3)(r)?a.value=mJ:(0,c2.SG)(r)&&(a.value=mN)}},l=(0,uh.Fl)(()=>e.editor.activeCirclePosParams.centerPos?\"edit\":e.drawer.activeCirclePosParams.centerPos?(s(),\"draw\"):\"\");return(0,uh.YP)(()=>t.value,(r,t)=>{(function(){e.drawer.getDrawingMode()!==c2.oO.cylinder&&(\"edit\"===l.value&&a.value!==e.editor.cssColor?a.value=e.editor.cssColor:\"draw\"===l.value&&s())})(),t&&(r?.latitude!==t?.latitude||r?.longitude!==t?.longitude)&&(e.editor.activeCirclePosParams.circleEdgePoint=mF(e.editor.activeCirclePosParams.centerPos,e.editor.activeCirclePosParams.radius,90)[jM])}),(0,uh.bv)(()=>{s()}),{startDragCircleCenter:function(a){\"edit\"===l.value&&e.editor.startEditCircle()},onDraggingCircleCenter:function(a){\"edit\"===l.value&&a&&(e.editor.activeCirclePosParams.centerPos?e.editor.activeCirclePosParams.centerPos=a:e.drawer.activeCirclePosParams.centerPos&&(e.drawer.activeCirclePosParams.centerPos=a))},startDragCircleEdge:function(a){\"edit\"===l.value&&e.editor.startEditCircle()},onDraggingCircleEdge:function(a){let r;if(\"edit\"===l.value&&!!a)e.editor.activeCirclePosParams.centerPos&&(r=mE([e.editor.activeCirclePosParams.centerPos,a]).horizontalCumulativeDistance),r&&r<=i.value?(e.editor.activeCirclePosParams.radius=r,e.editor.activeCirclePosParams.circleEdgePoint=a):e.editor.activeCirclePosParams.circleEdgePoint=(0,lL.cloneDeep)(e.editor.activeCirclePosParams.circleEdgePoint)},circleCenterPosCartesian3:r,circleCenterPos:t,circleEdgePoint:o,circleRadius:n,circleHandleMode:l,circleColor:a}}(),{isCylinderEditing:y,startDragCylinderEdgePoint:S}=function(){let e=(0,uh.SU)((0,uh.f3)(\"cesiumManager\")),a=(0,uh.Fl)(()=>\"cylinder\"===e.editor.editingModeReactive.value);return{startDragCylinderEdgePoint:function(a){if(!a)return;let[,r,t]=a.split(\"_\");e.editor.startDrag(\"center\"===t?0:1,\"bottom\"===r?0:1)},isCylinderEditing:a}}(),j=(0,uh.Fl)(()=>{let e=d.value;if(e){let r=l.value.length,t=a.drawer.getDrawingMode();if(t===c2.oO.line||t===c2.oO.polygon3d){if(r>=1){let n=l.value[r-1],i=t===c2.oO.line?(0,pg.Q5)(n,e):(0,pg.v9)(n,e);if(i>=.1)return[{midpoint:e,angle:t===c2.oO.polygon3d?a.drawer.polygon3DAngle:void 0,distance:i}]}}else if((t===c2.oO.polygon||t===c2.oO.prism||t===c2.oO.cylinder)&&l.value.length>=2){let r=gH(a),n=[];if(a.drawer.activeSolidStatus===sA.height){let r=l.value[0];if(t===c2.oO.cylinder){let{centerPos:e,radius:t}=a.drawer.activeCirclePosParams,n=mF(e,t,void 0,e?.height);r=(0,pg.jL)(n[0])}let i=uf.Cartesian3.midpoint(e,r,new uf.Cartesian3),o=(0,pg.v9)(e,r);return o>=.1&&n.push({midpoint:i,distance:o}),n}let i=l.value[l.value.length-1],o=uf.Cartesian3.midpoint(e,i,new uf.Cartesian3),s=r?(0,pg.Q5)(e,i):(0,pg.v9)(e,i);s>=.1&&n.push({midpoint:o,distance:s,clampToGround:r});let d=l.value[0],c=uf.Cartesian3.midpoint(e,d,new uf.Cartesian3),u=r?(0,pg.Q5)(e,d):(0,pg.v9)(e,d);return u>=.1&&n.push({midpoint:c,distance:u,clampToGround:r}),n}}return[]});function D(e,r){\"end\"===r&&a.drawer.finishDrawing()}function I(){return\"polygon3d\"!==a.drawer.getDrawingMode()&&a.drawer.canFinish()}let A=a.editor.dragging,C=(0,uh.Fl)(()=>{let e=a.editor.activeShapePoints.value;return\"pin\"===a.editor.editingMode?[]:e});function x(e,r=0){return a.editor.activeShapePoints.value[r]?.findIndex(a=>a.id===e)}let M=function(){let e=(0,uh.SU)((0,uh.f3)(\"cesiumManager\"));return function(a){e?.viewer?.canvas.dispatchEvent(new WheelEvent(a.type,a))}}(),E=(0,uh.qj)({visible:!1,left:0,top:0,longitude:\"\",latitude:\"\",asl:0});function P(){E.visible=!1,o.value=!1}function T(e){if(!e)return;P(),o.value=!0;let r=0,t=0,n=uf.Cartographic.fromCartesian(e),i=uv(uf.Math.toDegrees(n.longitude),6),s=uv(uf.Math.toDegrees(n.latitude),6),l=a.worldToCanvas(e);l&&(r=l.x,t=l.y),E.top=t,E.left=r+12,E.longitude=uI(i,\"long\"),E.latitude=uI(s,\"lat\"),E.asl=uA((0,y6.ellipsoidToEgm96)(s,i,n.height)),E.visible=!0}(0,uh.YP)(()=>C.value,e=>{0===e.length&&P()});let R=v0(),F=e=>uw(e,t8.Length,R.measure_units_system).text;return(e,d)=>((0,uh.wg)(),(0,uh.iD)(\"div\",{class:(0,uh.C_)([\"pops-container\",{dragging:(0,uh.SU)(A)}]),onWheel:d[7]||(d[7]=(0,uh.iM)((...e)=>(0,uh.SU)(M)&&(0,uh.SU)(M)(...e),[\"prevent\"]))},[((0,uh.wg)(!0),(0,uh.iD)(uh.HY,null,(0,uh.Ko)(j.value,(e,a)=>((0,uh.wg)(),(0,uh.j4)(jr,{key:a,point:e.midpoint,angle:e.angle,distance:e.distance,\"clamp-to-ground\":e.clampToGround},null,8,[\"point\",\"angle\",\"distance\",\"clamp-to-ground\"]))),128)),(0,uh.Wm)(jD,{points:(0,uh.SU)(l),onShowTooltip:T,onCloseTooltip:P},null,8,[\"points\"]),(0,uh.Wm)(jI,{points:m.value,\"clamp-to-ground\":gH(a)},null,8,[\"points\",\"clamp-to-ground\"]),I()&&!(0,uh.SU)(h)?((0,uh.wg)(),(0,uh.j4)(js,{key:0,type:\"end\",point:(0,uh.SU)(l)[(0,uh.SU)(l).length-1],onClick:d[0]||(d[0]=e=>D((0,uh.SU)(l)[(0,uh.SU)(l).length-1],e))},null,8,[\"point\"])):(0,uh.kq)(\"\",!0),((0,uh.wg)(!0),(0,uh.iD)(uh.HY,null,(0,uh.Ko)(C.value,(e,l)=>((0,uh.wg)(),(0,uh.iD)(uh.HY,null,[e.length<(0,uh.SU)(2e3)&&!(0,uh.SU)(y)?((0,uh.wg)(),(0,uh.iD)(uh.HY,{key:0},[u.value?((0,uh.wg)(),(0,uh.j4)(jm,{key:`ends-${l}`,points:e,\"enable-end-point-selected\":(0,uh.SU)(n),\"active-index\":l===(0,uh.SU)(t).arrIndex?(0,uh.SU)(t).pointIndex:-1,onLeftDown:e=>(function(e,t=0){let n=x(e,t),s=C.value?.[t]?.[n],l={point:s?(0,pg.KO)(s,!0):null,pointIndex:n,pointArrayIndex:t,ownerElement:r.activeTypedElement};a.emit(\"editPointClick\",l),i(t,n),r.startDrag(n,t),P(),o.value=!0})(e,l),onShowTooltip:T,onCloseTooltip:P,onRemove:e=>(function(e,r=0){let t=x(e,r);a.editor.removePoint(t,r)})(e,l)},null,8,[\"points\",\"enable-end-point-selected\",\"active-index\",\"onLeftDown\",\"onRemove\"])):(0,uh.kq)(\"\",!0),((0,uh.wg)(),(0,uh.j4)(jp,{key:`mids-${l}`,points:e,\"label-show\":s.value,\"point-show\":p.value,onAddAndDrag:e=>(function({id:e,point:r},t=0){let"
}