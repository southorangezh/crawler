{
  "metadata": {
    "source_file": "map-app\\static\\js\\437.1e3c2a65.js",
    "chunk_index": 26,
    "total_chunks": 52,
    "chunk_size": 52957,
    "word_count": 800,
    "model_kwargs": {
      "model": "text-embedding-3-large",
      "dimensions": 3072,
      "encoding_format": "float"
    },
    "text_splitter": {
      "split_by": "word",
      "chunk_size": 800,
      "chunk_overlap": 200
    },
    "created_at": "2025-12-17T23:57:49.916Z"
  },
  "content": "t=arguments[0];this.build();var e=new tC;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e}if(2==arguments.length){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,r)}else if(3==arguments.length){if(T(arguments[2],ej)&&arguments[0]instanceof Object&&arguments[1]instanceof eU)for(var i=arguments[0],o=arguments[1],a=arguments[2],s=o.getChildBoundables(),u=0;u<s.size();u++){var l=s.get(u);this.getIntersectsOp().intersects(l.getBounds(),i)&&(l instanceof eU?this.query(i,l,a):l instanceof eB?a.visitItem(l.getItem()):tn.shouldNeverReachHere())}else if(T(arguments[2],tw)&&arguments[0]instanceof Object&&arguments[1]instanceof eU)for(var c=arguments[0],f=arguments[1],h=arguments[2],p=f.getChildBoundables(),d=0;d<p.size();d++){var g=p.get(d);this.getIntersectsOp().intersects(g.getBounds(),c)&&(g instanceof eU?this.query(c,g,h):g instanceof eB?h.add(g.getItem()):tn.shouldNeverReachHere())}}},eG.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},eG.prototype.getRoot=function(){return this.build(),this._root},eG.prototype.remove=function(){if(2==arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3==arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=this.removeItem(r,i);if(o)return!0;for(var a=null,s=r.getChildBoundables().iterator();s.hasNext();){var u=s.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&u instanceof eU&&(o=this.remove(n,u,i))){a=u;break}}return null!==a&&a.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(a),o}},eG.prototype.createHigherLevels=function(t,e){tn.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},eG.prototype.depth=function(){if(0==arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1==arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof eU){var r=this.depth(n);r>t&&(t=r)}}return t+1}},eG.prototype.createParentBoundables=function(t,e){tn.isTrue(!t.isEmpty());var n=new tC;n.add(this.createNode(e));var r=new tC(t);eW.sort(r,this.getComparator());for(var i=r.iterator();i.hasNext();){var o=i.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},eG.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},eG.prototype.interfaces_=function(){return[e]},eG.prototype.getClass=function(){return eG},eG.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},eq.IntersectsOp.get=function(){return eZ},eq.serialVersionUID.get=function(){return -0xca109b37d2b3ac00},eq.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(eG,eq);var eZ=function(){},eX=function(){};eX.prototype.distance=function(t,e){},eX.prototype.interfaces_=function(){return[]},eX.prototype.getClass=function(){return eX};var eY=function(t){function n(e){e=e||n.DEFAULT_NODE_CAPACITY,t.call(this,e)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var r={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return n.prototype.createParentBoundablesFromVerticalSlices=function(t,e){tn.isTrue(t.length>0);for(var n=new tC,r=0;r<t.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[r],e));return n},n.prototype.createNode=function(t){return new eK(t)},n.prototype.size=function(){return 0==arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},n.prototype.insert=function(){if(2!=arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},n.prototype.getIntersectsOp=function(){return n.intersectsOp},n.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),r=Array(e).fill(null),i=t.iterator(),o=0;o<e;o++){r[o]=new tC;for(var a=0;i.hasNext()&&a<n;){var s=i.next();r[o].add(s),a++}}return r},n.prototype.query=function(){if(1==arguments.length){var e=arguments[0];return t.prototype.query.call(this,e)}if(2==arguments.length){var n=arguments[0],r=arguments[1];t.prototype.query.call(this,n,r)}else if(3==arguments.length){if(T(arguments[2],ej)&&arguments[0]instanceof Object&&arguments[1]instanceof eU){var i=arguments[0],o=arguments[1],a=arguments[2];t.prototype.query.call(this,i,o,a)}else if(T(arguments[2],tw)&&arguments[0]instanceof Object&&arguments[1]instanceof eU){var s=arguments[0],u=arguments[1],l=arguments[2];t.prototype.query.call(this,s,u,l)}}},n.prototype.getComparator=function(){return n.yComparator},n.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},n.prototype.remove=function(){if(2==arguments.length){var e=arguments[0],n=arguments[1];return t.prototype.remove.call(this,e,n)}return t.prototype.remove.apply(this,arguments)},n.prototype.depth=function(){return 0==arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},n.prototype.createParentBoundables=function(t,e){tn.isTrue(!t.isEmpty());var r=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),i=new tC(t);eW.sort(i,n.xComparator);var o=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(r))));return this.createParentBoundablesFromVerticalSlices(o,e)},n.prototype.nearestNeighbour=function(){if(1==arguments.length){if(T(arguments[0],eX)){var t=arguments[0],e=new eV(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof eV){var r=arguments[0];return this.nearestNeighbour(r,b.POSITIVE_INFINITY)}}else if(2==arguments.length){if(arguments[0]instanceof n&&T(arguments[1],eX)){var i=arguments[0],o=arguments[1],a=new eV(this.getRoot(),i.getRoot(),o);return this.nearestNeighbour(a)}if(arguments[0]instanceof eV&&\"number\"==typeof arguments[1]){var s=arguments[0],u=arguments[1],l=null,c=new ez;for(c.add(s);!c.isEmpty()&&u>0;){var f=c.poll(),h=f.getDistance();if(h>=u)break;f.isLeaves()?(u=h,l=f):f.expandToQueue(c,u)}return[l.getBoundable(0).getItem(),l.getBoundable(1).getItem()]}}else if(3==arguments.length){var p=arguments[0],d=arguments[1],g=arguments[2],m=new eB(p,d),y=new eV(this.getRoot(),m,g);return this.nearestNeighbour(y)[0]}},n.prototype.interfaces_=function(){return[e$,e]},n.prototype.getClass=function(){return n},n.centreX=function(t){return n.avg(t.getMinX(),t.getMaxX())},n.avg=function(t,e){return(t+e)/2},n.centreY=function(t){return n.avg(t.getMinY(),t.getMaxY())},r.STRtreeNode.get=function(){return eK},r.serialVersionUID.get=function(){return 0x39920f7d5f261e0},r.xComparator.get=function(){return{interfaces_:function(){return[C]},compare:function(e,r){return t.compareDoubles(n.centreX(e.getBounds()),n.centreX(r.getBounds()))}}},r.yComparator.get=function(){return{interfaces_:function(){return[C]},compare:function(e,r){return t.compareDoubles(n.centreY(e.getBounds()),n.centreY(r.getBounds()))}}},r.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},r.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(n,r),n}(eG),eK=function(t){function e(){var e=arguments[0];t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new q(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(eU),eJ=function(){};eJ.prototype.interfaces_=function(){return[]},eJ.prototype.getClass=function(){return eJ},eJ.relativeSign=function(t,e){return t<e?-1:t>e?1:0},eJ.compare=function(t,e,n){if(e.equals2D(n))return 0;var r=eJ.relativeSign(e.x,n.x),i=eJ.relativeSign(e.y,n.y);switch(t){case 0:return eJ.compareValue(r,i);case 1:return eJ.compareValue(i,r);case 2:return eJ.compareValue(i,-r);case 3:return eJ.compareValue(-r,i);case 4:return eJ.compareValue(-r,-i);case 5:return eJ.compareValue(-i,-r);case 6:return eJ.compareValue(-i,r);case 7:return eJ.compareValue(r,-i)}return tn.shouldNeverReachHere(\"invalid octant value\"),0},eJ.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var eQ=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._segString=t,this.coord=new S(e),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!e.equals2D(t.getCoordinate(n))};eQ.prototype.getCoordinate=function(){return this.coord},eQ.prototype.print=function(t){t.print(this.coord),t.print(\" seg # = \"+this.segmentIndex)},eQ.prototype.compareTo=function(t){return this.segmentIndex<t.segmentIndex?-1:this.segmentIndex>t.segmentIndex?1:this.coord.equals2D(t.coord)?0:eJ.compare(this._segmentOctant,this.coord,t.coord)},eQ.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},eQ.prototype.isInterior=function(){return this._isInterior},eQ.prototype.interfaces_=function(){return[E]},eQ.prototype.getClass=function(){return eQ};var e0=function(){this._nodeMap=new f,this._edge=null;var t=arguments[0];this._edge=t};e0.prototype.getSplitCoordinates=function(){var t=new tD;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next();this.addEdgeCoordinates(n,r,t),n=r}return t.toCoordinateArray()},e0.prototype.addCollapsedNodes=function(){var t=new tC;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},e0.prototype.print=function(t){t.println(\"Intersections:\");for(var e=this.iterator();e.hasNext();)e.next().print(t)},e0.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),r=this._edge.getCoordinate(e+2);n.equals2D(r)&&t.add(new F(e+1))}},e0.prototype.addEdgeCoordinates=function(t,e,n){var r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);n.add(new S(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this._edge.getCoordinate(o));i&&n.add(new S(e.coord))},e0.prototype.iterator=function(){return this._nodeMap.values().iterator()},e0.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},e0.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var r=e.segmentIndex-t.segmentIndex;return e.isInterior()||r--,1===r&&(n[0]=t.segmentIndex+1,!0)},e0.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=[,].fill(null),n=this.iterator(),r=n.next();n.hasNext();){var i=n.next();this.findCollapseIndex(r,i,e)&&t.add(new F(e[0])),r=i}},e0.prototype.getEdge=function(){return this._edge},e0.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},e0.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);i||n--;var o=Array(n).fill(null),a=0;o[a++]=new S(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)o[a++]=this._edge.getCoordinate(s);return i&&(o[a]=new S(e.coord)),new e4(o,this._edge.getData())},e0.prototype.add=function(t,e){var n=new eQ(this._edge,t,e,this._edge.getSegmentOctant(e)),r=this._nodeMap.get(n);return null!==r?(tn.isTrue(r.coord.equals2D(t),\"Found equal nodes with different coordinates\"),r):(this._nodeMap.put(n,n),n)},e0.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new tt(\"bad split edge start point at \"+n);var r=t.get(t.size()-1).getCoordinates(),i=r[r.length-1];if(!i.equals2D(e[e.length-1]))throw new tt(\"bad split edge end point at \"+i)},e0.prototype.interfaces_=function(){return[]},e0.prototype.getClass=function(){return e0};var e1=function(){};e1.prototype.interfaces_=function(){return[]},e1.prototype.getClass=function(){return e1},e1.octant=function(){if(\"number\"==typeof arguments[0]&&\"number\"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new _(\"Cannot compute the octant for point ( \"+t+\", \"+e+\" )\");var n=Math.abs(t),r=Math.abs(e);return t>=0?e>=0?n>=r?0:1:n>=r?7:6:e>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof S&&arguments[1]instanceof S){var i=arguments[0],o=arguments[1],a=o.x-i.x,s=o.y-i.y;if(0===a&&0===s)throw new _(\"Cannot compute the octant for two identical points \"+i);return e1.octant(a,s)}};var e2=function(){};e2.prototype.getCoordinates=function(){},e2.prototype.size=function(){},e2.prototype.getCoordinate=function(t){},e2.prototype.isClosed=function(){},e2.prototype.setData=function(t){},e2.prototype.getData=function(){},e2.prototype.interfaces_=function(){return[]},e2.prototype.getClass=function(){return e2};var e3=function(){};e3.prototype.addIntersection=function(t,e){},e3.prototype.interfaces_=function(){return[e2]},e3.prototype.getClass=function(){return e3};var e4=function(){this._nodeList=new e0(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};e4.prototype.getCoordinates=function(){return this._pts},e4.prototype.size=function(){return this._pts.length},e4.prototype.getCoordinate=function(t){return this._pts[t]},e4.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},e4.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},e4.prototype.setData=function(t){this._data=t},e4.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:e1.octant(t,e)},e4.prototype.getData=function(){return this._data},e4.prototype.addIntersection=function(){if(2==arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4==arguments.length){var n=arguments[0],r=arguments[1],i=arguments[3],o=new S(n.getIntersection(i));this.addIntersection(o,r)}},e4.prototype.toString=function(){return Q.toLineString(new t9(this._pts))},e4.prototype.getNodeList=function(){return this._nodeList},e4.prototype.addIntersectionNode=function(t,e){var n=e,r=n+1;if(r<this._pts.length){var i=this._pts[r];t.equals2D(i)&&(n=r)}return this._nodeList.add(t,n)},e4.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},e4.prototype.interfaces_=function(){return[e3]},e4.prototype.getClass=function(){return e4},e4.getNodedSubstrings=function(){if(1==arguments.length){var t=arguments[0],e=new tC;return e4.getNodedSubstrings(t,e),e}if(2==arguments.length)for(var n=arguments[0],r=arguments[1],i=n.iterator();i.hasNext();)i.next().getNodeList().addSplitEdges(r)};var e6=function(){if(this.p0=null,this.p1=null,0==arguments.length)this.p0=new S,this.p1=new S;else if(1==arguments.length){var t=arguments[0];this.p0=new S(t.p0),this.p1=new S(t.p1)}else if(2==arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4==arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this.p0=new S(e,n),this.p1=new S(r,i)}},e5={serialVersionUID:{configurable:!0}};e6.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},e6.prototype.orientationIndex=function(){if(arguments[0]instanceof e6){var t=arguments[0],e=tu.orientationIndex(this.p0,this.p1,t.p0),n=tu.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0?Math.max(e,n):e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof S){var r=arguments[0];return tu.orientationIndex(this.p0,this.p1,r)}},e6.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},e6.prototype.isVertical=function(){return this.p0.x===this.p1.x},e6.prototype.equals=function(t){return t instanceof e6&&this.p0.equals(t.p0)&&this.p1.equals(t.p1)},e6.prototype.intersection=function(t){var e=new to;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},e6.prototype.project=function(){if(arguments[0]instanceof S){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new S(t);var e=this.projectionFactor(t),n=new S;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof e6){var r=arguments[0],i=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(i>=1&&o>=1||i<=0&&o<=0)return null;var a=this.project(r.p0);i<0&&(a=this.p0),i>1&&(a=this.p1);var s=this.project(r.p1);return o<0&&(s=this.p0),o>1&&(s=this.p1),new e6(a,s)}},e6.prototype.normalize=function(){0>this.p1.compareTo(this.p0)&&this.reverse()},e6.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},e6.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},e6.prototype.distancePerpendicular=function(t){return tu.distancePointLinePerpendicular(t,this.p0,this.p1)},e6.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},e6.prototype.midPoint=function(){return e6.midPoint(this.p0,this.p1)},e6.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=e*e+n*n;return r<=0?b.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/r},e6.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=[,,].fill(null),r=b.MAX_VALUE,i=null,o=this.closestPoint(t.p0);r=o.distance(t.p0),n[0]=o,n[1]=t.p0;var a=this.closestPoint(t.p1);(i=a.distance(t.p1))<r&&(r=i,n[0]=a,n[1]=t.p1);var s=t.closestPoint(this.p0);(i=s.distance(this.p0))<r&&(r=i,n[0]=this.p0,n[1]=s);var u=t.closestPoint(this.p1);return(i=u.distance(this.p1))<r&&(r=i,n[0]=this.p1,n[1]=u),n},e6.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},e6.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},e6.prototype.getLength=function(){return this.p0.distance(this.p1)},e6.prototype.compareTo=function(t){var e=this.p0.compareTo(t.p0);return 0!==e?e:this.p1.compareTo(t.p1)},e6.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},e6.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},e6.prototype.lineIntersection=function(t){try{return G.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof W))throw t}return null},e6.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},e6.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),r=this.p0.y+t*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,a=Math.sqrt(i*i+o*o),s=0,u=0;if(0!==e){if(a<=0)throw Error(\"Cannot compute offset from zero-length line segment\");s=e*i/a,u=e*o/a}return new S(n-u,r+s)},e6.prototype.setCoordinates=function(){if(1==arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2==arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},e6.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||b.isNaN(e))&&(e=1),e},e6.prototype.toString=function(){return\"LINESTRING( \"+this.p0.x+\" \"+this.p0.y+\", \"+this.p1.x+\" \"+this.p1.y+\")\"},e6.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},e6.prototype.distance=function(){if(arguments[0]instanceof e6){var t=arguments[0];return tu.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof S){var e=arguments[0];return tu.distancePointLine(e,this.p0,this.p1)}},e6.prototype.pointAlong=function(t){var e=new S;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},e6.prototype.hashCode=function(){var t=b.doubleToLongBits(this.p0.x),e=Math.trunc(t^=31*b.doubleToLongBits(this.p0.y))^Math.trunc(t>>32),n=b.doubleToLongBits(this.p1.x);return Math.trunc(n^=31*b.doubleToLongBits(this.p1.y))^Math.trunc(n>>32)^e},e6.prototype.interfaces_=function(){return[E,e]},e6.prototype.getClass=function(){return e6},e6.midPoint=function(t,e){return new S((t.x+e.x)/2,(t.y+e.y)/2)},e5.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(e6,e5);var e8=function(){this.tempEnv1=new q,this.tempEnv2=new q,this._overlapSeg1=new e6,this._overlapSeg2=new e6};e8.prototype.overlap=function(){if(2==arguments.length);else if(4==arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];t.getLineSegment(e,this._overlapSeg1),n.getLineSegment(r,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},e8.prototype.interfaces_=function(){return[]},e8.prototype.getClass=function(){return e8};var e7=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=r};e7.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},e7.prototype.computeSelect=function(t,e,n,r){var i=this._pts[e],o=this._pts[n];if(r.tempEnv1.init(i,o),n-e==1)return r.select(this,e),null;if(!t.intersects(r.tempEnv1))return null;var a=Math.trunc((e+n)/2);e<a&&this.computeSelect(t,e,a,r),a<n&&this.computeSelect(t,a,n,r)},e7.prototype.getCoordinates=function(){for(var t=Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},e7.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},e7.prototype.setId=function(t){this._id=t},e7.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},e7.prototype.getEnvelope=function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new q(t,e)}return this._env},e7.prototype.getEndIndex=function(){return this._end},e7.prototype.getStartIndex=function(){return this._start},e7.prototype.getContext=function(){return this._context},e7.prototype.getId=function(){return this._id},e7.prototype.computeOverlapsInternal=function(t,e,n,r,i,o){var a=this._pts[t],s=this._pts[e],u=n._pts[r],l=n._pts[i];if(e-t==1&&i-r==1)return o.overlap(this,t,n,r),null;if(o.tempEnv1.init(a,s),o.tempEnv2.init(u,l),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((t+e)/2),f=Math.trunc((r+i)/2);t<c&&(r<f&&this.computeOverlapsInternal(t,c,n,r,f,o),f<i&&this.computeOverlapsInternal(t,c,n,f,i,o)),c<e&&(r<f&&this.computeOverlapsInternal(c,e,n,r,f,o),f<i&&this.computeOverlapsInternal(c,e,n,f,i,o))},e7.prototype.interfaces_=function(){return[]},e7.prototype.getClass=function(){return e7};var e9=function(){};e9.prototype.interfaces_=function(){return[]},e9.prototype.getClass=function(){return e9},e9.getChainStartIndices=function(t){var e=0,n=new tC;n.add(new F(e));do{var r=e9.findChainEnd(t,e);n.add(new F(r)),e=r}while(e<t.length-1);return e9.toIntArray(n)},e9.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var r=eO.quadrant(t[n],t[n+1]),i=e+1;i<t.length&&(t[i-1].equals2D(t[i])||eO.quadrant(t[i-1],t[i])===r);){;i++}return i-1},e9.getChains=function(){if(1==arguments.length){var t=arguments[0];return e9.getChains(t,null)}if(2==arguments.length){for(var e=arguments[0],n=arguments[1],r=new tC,i=e9.getChainStartIndices(e),o=0;o<i.length-1;o++){var a=new e7(e,i[o],i[o+1],n);r.add(a)}return r}},e9.toIntArray=function(t){for(var e=Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var nt=function(){};nt.prototype.computeNodes=function(t){},nt.prototype.getNodedSubstrings=function(){},nt.prototype.interfaces_=function(){return[]},nt.prototype.getClass=function(){return nt};var ne=function(){if(this._segInt=null,0==arguments.length);else if(1==arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}};ne.prototype.setSegmentIntersector=function(t){this._segInt=t},ne.prototype.interfaces_=function(){return[nt]},ne.prototype.getClass=function(){return ne};var nn=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new tC,this._index=new eY,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return e4.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=e9.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=new nr(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),r=this._index.query(n.getEnvelope()).iterator();r.hasNext();){var i=r.next();if(i.getId()>n.getId()&&(n.computeOverlaps(i,t),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return nr},Object.defineProperties(e,n),e}(ne),nr=function(t){function e(){t.call(this),this._si=null;var e=arguments[0];this._si=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.overlap=function(){if(4!=arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3],o=e.getContext(),a=r.getContext();this._si.processIntersections(o,n,a,i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(e8),ni=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0==arguments.length);else if(1==arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2==arguments.length){var n=arguments[0],r=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(r)}else if(4==arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(o),this.setJoinStyle(a),this.setMitreLimit(s)}},no={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};ni.prototype.getEndCapStyle=function(){return this._endCapStyle},ni.prototype.isSingleSided=function(){return this._isSingleSided},ni.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=ni.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=ni.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==ni.JOIN_ROUND&&(this._quadrantSegments=ni.DEFAULT_QUADRANT_SEGMENTS)},ni.prototype.getJoinStyle=function(){return this._joinStyle},ni.prototype.setJoinStyle=function(t){this._joinStyle=t},ni.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},ni.prototype.getSimplifyFactor=function(){return this._simplifyFactor},ni.prototype.getQuadrantSegments=function(){return this._quadrantSegments},ni.prototype.setEndCapStyle=function(t){this._endCapStyle=t},ni.prototype.getMitreLimit=function(){return this._mitreLimit},ni.prototype.setMitreLimit=function(t){this._mitreLimit=t},ni.prototype.setSingleSided=function(t){this._isSingleSided=t},ni.prototype.interfaces_=function(){return[]},ni.prototype.getClass=function(){return ni},ni.bufferDistanceError=function(t){return 1-Math.cos(Math.PI/2/t/2)},no.CAP_ROUND.get=function(){return 1},no.CAP_FLAT.get=function(){return 2},no.CAP_SQUARE.get=function(){return 3},no.JOIN_ROUND.get=function(){return 1},no.JOIN_MITRE.get=function(){return 2},no.JOIN_BEVEL.get=function(){return 3},no.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},no.DEFAULT_MITRE_LIMIT.get=function(){return 5},no.DEFAULT_SIMPLIFY_FACTOR.get=function(){return .01},Object.defineProperties(ni,no);var na=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=tu.COUNTERCLOCKWISE,this._inputLine=t||null},ns={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};na.prototype.isDeletable=function(t,e,n,r){var i=this._inputLine[t],o=this._inputLine[e],a=this._inputLine[n];return!!this.isConcave(i,o,a)&&!!this.isShallow(i,o,a,r)&&this.isShallowSampled(i,o,t,n,r)},na.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e),r=!1;n<this._inputLine.length;){var i=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=na.DELETE,i=!0,r=!0),t=i?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return r},na.prototype.isShallowConcavity=function(t,e,n,r){return tu.computeOrientation(t,e,n)===this._angleOrientation&&tu.distancePointLine(e,t,n)<r},na.prototype.isShallowSampled=function(t,e,n,r,i){var o=Math.trunc((r-n)/na.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var a=n;a<r;a+=o)if(!this.isShallow(t,e,this._inputLine[a],i))return!1;return!0},na.prototype.isConcave=function(t,e,n){return tu.computeOrientation(t,e,n)===this._angleOrientation},na.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=tu.CLOCKWISE),this._isDeleted=Array(this._inputLine.length).fill(null);var e=!1;do e=this.deleteShallowConcavities();while(e);return this.collapseLine()},na.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===na.DELETE;)e++;return e},na.prototype.isShallow=function(t,e,n,r){return tu.distancePointLine(e,t,n)<r},na.prototype.collapseLine=function(){for(var t=new tD,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==na.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},na.prototype.interfaces_=function(){return[]},na.prototype.getClass=function(){return na},na.simplify=function(t,e){return new na(t).simplify(e)},ns.INIT.get=function(){return 0},ns.DELETE.get=function(){return 1},ns.KEEP.get=function(){return 1},ns.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(na,ns);var nu=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new tC},nl={COORDINATE_ARRAY_TYPE:{configurable:!0}};nu.prototype.getCoordinates=function(){return this._ptList.toArray(nu.COORDINATE_ARRAY_TYPE)},nu.prototype.setPrecisionModel=function(t){this._precisionModel=t},nu.prototype.addPt=function(t){var e=new S(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},nu.prototype.revere=function(){},nu.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var r=t.length-1;r>=0;r--)this.addPt(t[r])},nu.prototype.isRedundant=function(t){if(1>this._ptList.size())return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},nu.prototype.toString=function(){return(new eu).createLineString(this.getCoordinates()).toString()},nu.prototype.closeRing=function(){if(1>this._ptList.size())return null;var t=new S(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},nu.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},nu.prototype.interfaces_=function(){return[]},nu.prototype.getClass=function(){return nu},nl.COORDINATE_ARRAY_TYPE.get=function(){return[].fill(null)},Object.defineProperties(nu,nl);var nc=function(){},nf={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};nc.prototype.interfaces_=function(){return[]},nc.prototype.getClass=function(){return nc},nc.toDegrees=function(t){return 180*t/Math.PI},nc.normalize=function(t){for(;t>Math.PI;)t-=nc.PI_TIMES_2;for(;t<=-Math.PI;)t+=nc.PI_TIMES_2;return t},nc.angle=function(){if(1==arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2==arguments.length){var e=arguments[0],n=arguments[1],r=n.x-e.x;return Math.atan2(n.y-e.y,r)}},nc.isAcute=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)>0},nc.isObtuse=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)<0},nc.interiorAngle=function(t,e,n){var r=nc.angle(e,t);return Math.abs(nc.angle(e,n)-r)},nc.normalizePositive=function(t){if(t<0){for(;t<0;)t+=nc.PI_TIMES_2;t>=nc.PI_TIMES_2&&(t=0)}else{for(;t>=nc.PI_TIMES_2;)t-=nc.PI_TIMES_2;t<0&&(t=0)}return t},nc.angleBetween=function(t,e,n){var r=nc.angle(e,t),i=nc.angle(e,n);return nc.diff(r,i)},nc.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},nc.toRadians=function(t){return t*Math.PI/180},nc.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?nc.COUNTERCLOCKWISE:n<0?nc.CLOCKWISE:nc.NONE},nc.angleBetweenOriented=function(t,e,n){var r=nc.angle(e,t),i=nc.angle(e,n)-r;return i<=-Math.PI?i+nc.PI_TIMES_2:i>Math.PI?i-nc.PI_TIMES_2:i},nf.PI_TIMES_2.get=function(){return 2*Math.PI},nf.PI_OVER_2.get=function(){return Math.PI/2},nf.PI_OVER_4.get=function(){return Math.PI/4},nf.COUNTERCLOCKWISE.get=function(){return tu.COUNTERCLOCKWISE},nf.CLOCKWISE.get=function(){return tu.CLOCKWISE},nf.NONE.get=function(){return tu.COLLINEAR},Object.defineProperties(nc,nf);var nh=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new e6,this._seg1=new e6,this._offset0=new e6,this._offset1=new e6,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new to,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===ni.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(r)},np={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};nh.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=tu.computeOrientation(this._s0,this._s1,this._s2),r=n===tu.CLOCKWISE&&this._side===em.LEFT||n===tu.COUNTERCLOCKWISE&&this._side===em.RIGHT;0===n?this.addCollinear(e):r?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},nh.prototype.addLineEndCap=function(t,e){var n=new e6(t,e),r=new e6;this.computeOffsetSegment(n,em.LEFT,this._distance,r);var i=new e6;this.computeOffsetSegment(n,em.RIGHT,this._distance,i);var o=e.x-t.x,a=Math.atan2(e.y-t.y,o);switch(this._bufParams.getEndCapStyle()){case ni.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(e,a+Math.PI/2,a-Math.PI/2,tu.CLOCKWISE,this._distance),this._segList.addPt(i.p1);break;case ni.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(i.p1);break;case ni.CAP_SQUARE:var s=new S;s.x=Math.abs(this._distance)*Math.cos(a),s.y=Math.abs(this._distance)*Math.sin(a);var u=new S(r.p1.x+s.x,r.p1.y+s.y),l=new S(i.p1.x+s.x,i.p1.y+s.y);this._segList.addPt(u),this._segList.addPt(l)}},nh.prototype.getCoordinates=function(){return this._segList.getCoordinates()},nh.prototype.addMitreJoin=function(t,e,n,r){var i=!0,o=null;try{o=G.intersection(e.p0,e.p1,n.p0,n.p1),(r<=0?1:o.distance(t)/Math.abs(r))>this._bufParams.getMitreLimit()&&(i=!1)}catch(t){if(!(t instanceof W))throw t;o=new S(0,0),i=!1}i?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,r,this._bufParams.getMitreLimit())},nh.prototype.addFilletCorner=function(t,e,n,r,i){var o,a=e.x-t.x,s=Math.atan2(e.y-t.y,a),u=n.x-t.x,l=Math.atan2(n.y-t.y,u);r===tu.CLOCKWISE?s<=l&&(s+=2*Math.PI):s>=l&&(s-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,s,l,r,i),this._segList.addPt(n)},nh.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*nh.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===ni.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===ni.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},nh.prototype.createSquare=function(t){this._segList.addPt(new S(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new S(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new S(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new S(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},nh.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},nh.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},nh.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},nh.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},nh.prototype.addLimitedMitreJoin=function(t,e,n,r){var i=this._seg0.p1,o=nc.angle(i,this._seg0.p0),a=nc.angleBetweenOriented(this._seg0.p0,i,this._seg1.p1)/2,s=nc.normalize(o+a),u=nc.normalize(s+Math.PI),l=r*n,c=n-l*Math.abs(Math.sin(a)),f=new S(i.x+l*Math.cos(u),i.y+l*Math.sin(u)),h=new e6(i,f),p=h.pointAlongOffset(1,c),d=h.pointAlongOffset(1,-c);this._side===em.LEFT?(this._segList.addPt(p),this._segList.addPt(d)):(this._segList.addPt(d),this._segList.addPt(p))},nh.prototype.computeOffsetSegment=function(t,e,n,r){var i=e===em.LEFT?1:-1,o=t.p1.x-t.p0.x,a=t.p1.y-t.p0.y,s=Math.sqrt(o*o+a*a),u=i*n*o/s,l=i*n*a/s;r.p0.x=t.p0.x-l,r.p0.y=t.p0.y+u,r.p1.x=t.p1.x-l,r.p1.y=t.p1.y+u},nh.prototype.addFilletArc=function(t,e,n,r,i){var o=r===tu.CLOCKWISE?-1:1,a=Math.abs(e-n),s=Math.trunc(a/this._filletAngleQuantum+.5);if(s<1)return null;for(var u=a/s,l=0,c=new S;l<a;){var f=e+o*l;c.x=t.x+i*Math.cos(f),c.y=t.y+i*Math.sin(f),this._segList.addPt(c),l+=u}},nh.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*nh.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new S((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new S((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},nh.prototype.createCircle=function(t){var e=new S(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},nh.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},nh.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new nu,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*nh.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},nh.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===ni.JOIN_BEVEL||this._bufParams.getJoinStyle()===ni.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,tu.CLOCKWISE,this._distance))},nh.prototype.closeRing=function(){this._segList.closeRing()},nh.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},nh.prototype.interfaces_=function(){return[]},nh.prototype.getClass=function(){return nh},np.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return .001},np.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return .001},np.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},np.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(nh,np);var nd=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};nd.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,r=Math.abs(e),i=this.getSegGen(r);t.length<=1?this.computePointCurve(t[0],i):this.computeOffsetCurve(t,n,i);var o=i.getCoordinates();return n&&tI.reverse(o),o},nd.prototype.computeSingleSidedBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var i=na.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],em.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(i[a],!0)}else{n.addSegments(t,!1);var s=na.simplify(t,r),u=s.length-1;n.initSideSegments(s[0],s[1],em.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(s[l],!0)}n.addLastSegment(),n.closeRing()},nd.prototype.computeRingBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);e===em.RIGHT&&(r=-r);var i=na.simplify(t,r),o=i.length-1;n.initSideSegments(i[o-1],i[0],e);for(var a=1;a<=o;a++){var s=1!==a;n.addNextSegment(i[a],s)}n.closeRing()},nd.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),r=na.simplify(t,n),i=r.length-1;e.initSideSegments(r[0],r[1],em.LEFT);for(var o=2;o<=i;o++)e.addNextSegment(r[o],!0);e.addLastSegment(),e.addLineEndCap(r[i-1],r[i]);var a=na.simplify(t,-n),s=a.length-1;e.initSideSegments(a[s],a[s-1],em.LEFT);for(var u=s-2;u>=0;u--)e.addNextSegment(a[u],!0);e.addLastSegment(),e.addLineEndCap(a[1],a[0]),e.closeRing()},nd.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case ni.CAP_ROUND:e.createCircle(t);break;case ni.CAP_SQUARE:e.createSquare(t)}},nd.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided()||0===e)return null;var n=Math.abs(e),r=this.getSegGen(n);return t.length<=1?this.computePointCurve(t[0],r):this._bufParams.isSingleSided()?this.computeSingleSidedBufferCurve(t,e<0,r):this.computeLineBufferCurve(t,r),r.getCoordinates()},nd.prototype.getBufferParameters=function(){return this._bufParams},nd.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},nd.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return nd.copyCoordinates(t);var r=this.getSegGen(n);return this.computeRingBufferCurve(t,e,r),r.getCoordinates()},nd.prototype.computeOffsetCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){var i=na.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],em.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(i[a],!0)}else{var s=na.simplify(t,r),u=s.length-1;n.initSideSegments(s[0],s[1],em.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(s[l],!0)}n.addLastSegment()},nd.prototype.getSegGen=function(t){return new nh(this._precisionModel,this._bufParams,t)},nd.prototype.interfaces_=function(){return[]},nd.prototype.getClass=function(){return nd},nd.copyCoordinates=function(t){for(var e=Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new S(t[n]);return e};var ng=function(){this._subgraphs=null,this._seg=new e6,this._cga=new tu;var t=arguments[0];this._subgraphs=t},nm={DepthSegment:{configurable:!0}};ng.prototype.findStabbedSegments=function(){if(1==arguments.length){for(var t=arguments[0],e=new tC,n=this._subgraphs.iterator();n.hasNext();){var r=n.next(),i=r.getEnvelope();t.y<i.getMinY()||t.y>i.getMaxY()||this.findStabbedSegments(t,r.getDirectedEdges(),e)}return e}if(3==arguments.length){if(T(arguments[2],tw)&&arguments[0]instanceof S&&arguments[1]instanceof eP){for(var o=arguments[0],a=arguments[1],s=arguments[2],u=a.getEdge().getCoordinates(),l=0;l<u.length-1;l++)if(this._seg.p0=u[l],this._seg.p1=u[l+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x)&&!(this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||tu.computeOrientation(this._seg.p0,this._seg.p1,o)===tu.RIGHT)){var c=a.getDepth(em.LEFT);this._seg.p0.equals(u[l])||(c=a.getDepth(em.RIGHT));var f=new ny(this._seg,c);s.add(f)}}else if(T(arguments[2],tw)&&arguments[0]instanceof S&&T(arguments[1],tw))for(var h=arguments[0],p=arguments[1],d=arguments[2],g=p.iterator();g.hasNext();){var m=g.next();m.isForward()&&this.findStabbedSegments(h,m,d)}}},ng.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:eW.min(e)._leftDepth},ng.prototype.interfaces_=function(){return[]},ng.prototype.getClass=function(){return ng},nm.DepthSegment.get=function(){return ny},Object.defineProperties(ng,nm);var ny=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new e6(t),this._leftDepth=e};ny.prototype.compareTo=function(t){if(this._upwardSeg.minX()>=t._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=t._upwardSeg.minX())return -1;var e=this._upwardSeg.orientationIndex(t._upwardSeg);return 0!==e?e:0!=(e=-1*t._upwardSeg.orientationIndex(this._upwardSeg))?e:this._upwardSeg.compareTo(t._upwardSeg)},ny.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},ny.prototype.toString=function(){return this._upwardSeg.toString()},ny.prototype.interfaces_=function(){return[E]},ny.prototype.getClass=function(){return ny};var nv=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};nv.prototype.area=function(){return nv.area(this.p0,this.p1,this.p2)},nv.prototype.signedArea=function(){return nv.signedArea(this.p0,this.p1,this.p2)},nv.prototype.interpolateZ=function(t){if(null===t)throw new _(\"Supplied point is null.\");return nv.interpolateZ(t,this.p0,this.p1,this.p2)},nv.prototype.longestSideLength=function(){return nv.longestSideLength(this.p0,this.p1,this.p2)},nv.prototype.isAcute=function(){return nv.isAcute(this.p0,this.p1,this.p2)},nv.prototype.circumcentre=function(){return nv.circumcentre(this.p0,this.p1,this.p2)},nv.prototype.area3D=function(){return nv.area3D(this.p0,this.p1,this.p2)},nv.prototype.centroid=function(){return nv.centroid(this.p0,this.p1,this.p2)},nv.prototype.inCentre=function(){return nv.inCentre(this.p0,this.p1,this.p2)},nv.prototype.interfaces_=function(){return[]},nv.prototype.getClass=function(){return nv},nv.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},nv.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},nv.det=function(t,e,n,r){return t*r-e*n},nv.interpolateZ=function(t,e,n,r){var i=e.x,o=e.y,a=n.x-i,s=r.x-i,u=n.y-o,l=r.y-o,c=a*l-s*u,f=t.x-i,h=t.y-o;return e.z+(l*f-s*h)/c*(n.z-e.z)+(-u*f+a*h)/c*(r.z-e.z)},nv.longestSideLength=function(t,e,n){var r=t.distance(e),i=e.distance(n),o=n.distance(t),a=r;return i>a&&(a=i),o>a&&(a=o),a},nv.isAcute=function(t,e,n){return!!nc.isAcute(t,e,n)&&!!nc.isAcute(e,n,t)&&!!nc.isAcute(n,t,e)},nv.circumcentre=function(t,e,n){var r=n.x,i=n.y,o=t.x-r,a=t.y-i,s=e.x-r,u=e.y-i,l=2*nv.det(o,a,s,u);return new S(r-nv.det(a,o*o+a*a,u,s*s+u*u)/l,i+nv.det(o,o*o+a*a,s,s*s+u*u)/l)},nv.perpendicularBisector=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=new G(t.x+n/2,t.y+r/2,1),o=new G(t.x-r+n/2,t.y+n+r/2,1);return new G(i,o)},nv.angleBisector=function(t,e,n){var r=e.distance(t),i=r/(r+e.distance(n)),o=n.x-t.x,a=n.y-t.y;return new S(t.x+i*o,t.y+i*a)},nv.area3D=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=e.z-t.z,a=n.x-t.x,s=n.y-t.y,u=n.z-t.z,l=i*u-o*s,c=o*a-r*u,f=r*s-i*a;return Math.sqrt(l*l+c*c+f*f)/2},nv.centroid=function(t,e,n){return new S((t.x+e.x+n.x)/3,(t.y+e.y+n.y)/3)},nv.inCentre=function(t,e,n){var r=e.distance(n),i=t.distance(n),o=t.distance(e),a=r+i+o;return new S((r*t.x+i*e.x+o*n.x)/a,(r*t.y+i*e.y+o*n.y)/a)};var n_=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new tC;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n};n_.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,N.EXTERIOR,N.INTERIOR)},n_.prototype.addPolygon=function(t){var e=this._distance,n=em.LEFT;this._distance<0&&(e=-this._distance,n=em.RIGHT);var r=t.getExteriorRing(),i=tI.removeRepeatedPoints(r.getCoordinates());if(this._distance<0&&this.isErodedCompletely(r,this._distance)||this._distance<=0&&i.length<3)return null;this.addPolygonRing(i,e,n,N.EXTERIOR,N.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var a=t.getInteriorRingN(o),s=tI.removeRepeatedPoints(a.getCoordinates());this._distance>0&&this.isErodedCompletely(a,-this._distance)||this.addPolygonRing(s,e,em.opposite(n),N.INTERIOR,N.EXTERIOR)}},n_.prototype.isTriangleErodedCompletely=function(t,e){var n=new nv(t[0],t[1],t[2]),r=n.inCentre();return tu.distancePointLine(r,n.p0,n.p1)<Math.abs(e)},n_.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=tI.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,N.EXTERIOR,N.INTERIOR)},n_.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var r=new e4(t,new ew(0,N.BOUNDARY,e,n));this._curveList.add(r)},n_.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},n_.prototype.addPolygonRing=function(t,e,n,r,i){if(0===e&&t.length<t2.MINIMUM_VALID_SIZE)return null;var o=r,a=i;t.length>=t2.MINIMUM_VALID_SIZE&&tu.isCCW(t)&&(o=i,a=r,n=em.opposite(n));var s=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(s,o,a)},n_.prototype.add=function(t){if(t.isEmpty())return null;t instanceof t0?this.addPolygon(t):t instanceof tY?this.addLineString(t):t instanceof tJ?this.addPoint(t):t instanceof t1?this.addCollection(t):t instanceof tW?this.addCollection(t):t instanceof t3?this.addCollection(t):t instanceof tH&&this.addCollection(t)},n_.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var r=t.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return e<0&&2*Math.abs(e)>i},n_.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},n_.prototype.interfaces_=function(){return[]},n_.prototype.getClass=function(){return n_};var nb=function(){};nb.prototype.locate=function(t){},nb.prototype.interfaces_=function(){return[]},nb.prototype.getClass=function(){return nb};var nx=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var"
}